(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))l(u);new MutationObserver(u=>{for(const d of u)if(d.type==="childList")for(const m of d.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&l(m)}).observe(document,{childList:!0,subtree:!0});function o(u){const d={};return u.integrity&&(d.integrity=u.integrity),u.referrerPolicy&&(d.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?d.credentials="include":u.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function l(u){if(u.ep)return;u.ep=!0;const d=o(u);fetch(u.href,d)}})();function sg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ru={exports:{}},El={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm;function Wy(){if(xm)return El;xm=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function o(l,u,d){var m=null;if(d!==void 0&&(m=""+d),u.key!==void 0&&(m=""+u.key),"key"in u){d={};for(var h in u)h!=="key"&&(d[h]=u[h])}else d=u;return u=d.ref,{$$typeof:n,type:l,key:m,ref:u!==void 0?u:null,props:d}}return El.Fragment=e,El.jsx=o,El.jsxs=o,El}var Em;function jy(){return Em||(Em=1,ru.exports=Wy()),ru.exports}var S=jy(),uu={exports:{}},xe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Am;function e0(){if(Am)return xe;Am=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),d=Symbol.for("react.consumer"),m=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.iterator;function x(_){return _===null||typeof _!="object"?null:(_=T&&_[T]||_["@@iterator"],typeof _=="function"?_:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,P={};function B(_,Y,j){this.props=_,this.context=Y,this.refs=P,this.updater=j||M}B.prototype.isReactComponent={},B.prototype.setState=function(_,Y){if(typeof _!="object"&&typeof _!="function"&&_!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,_,Y,"setState")},B.prototype.forceUpdate=function(_){this.updater.enqueueForceUpdate(this,_,"forceUpdate")};function V(){}V.prototype=B.prototype;function J(_,Y,j){this.props=_,this.context=Y,this.refs=P,this.updater=j||M}var Q=J.prototype=new V;Q.constructor=J,U(Q,B.prototype),Q.isPureReactComponent=!0;var ee=Array.isArray,X={H:null,A:null,T:null,S:null,V:null},ne=Object.prototype.hasOwnProperty;function fe(_,Y,j,$,ae,Ce){return j=Ce.ref,{$$typeof:n,type:_,key:Y,ref:j!==void 0?j:null,props:Ce}}function Se(_,Y){return fe(_.type,Y,void 0,void 0,void 0,_.props)}function se(_){return typeof _=="object"&&_!==null&&_.$$typeof===n}function ye(_){var Y={"=":"=0",":":"=2"};return"$"+_.replace(/[=:]/g,function(j){return Y[j]})}var le=/\/+/g;function be(_,Y){return typeof _=="object"&&_!==null&&_.key!=null?ye(""+_.key):Y.toString(36)}function Ke(){}function lt(_){switch(_.status){case"fulfilled":return _.value;case"rejected":throw _.reason;default:switch(typeof _.status=="string"?_.then(Ke,Ke):(_.status="pending",_.then(function(Y){_.status==="pending"&&(_.status="fulfilled",_.value=Y)},function(Y){_.status==="pending"&&(_.status="rejected",_.reason=Y)})),_.status){case"fulfilled":return _.value;case"rejected":throw _.reason}}throw _}function W(_,Y,j,$,ae){var Ce=typeof _;(Ce==="undefined"||Ce==="boolean")&&(_=null);var ge=!1;if(_===null)ge=!0;else switch(Ce){case"bigint":case"string":case"number":ge=!0;break;case"object":switch(_.$$typeof){case n:case e:ge=!0;break;case v:return ge=_._init,W(ge(_._payload),Y,j,$,ae)}}if(ge)return ae=ae(_),ge=$===""?"."+be(_,0):$,ee(ae)?(j="",ge!=null&&(j=ge.replace(le,"$&/")+"/"),W(ae,Y,j,"",function(At){return At})):ae!=null&&(se(ae)&&(ae=Se(ae,j+(ae.key==null||_&&_.key===ae.key?"":(""+ae.key).replace(le,"$&/")+"/")+ge)),Y.push(ae)),1;ge=0;var rt=$===""?".":$+":";if(ee(_))for(var we=0;we<_.length;we++)$=_[we],Ce=rt+be($,we),ge+=W($,Y,j,Ce,ae);else if(we=x(_),typeof we=="function")for(_=we.call(_),we=0;!($=_.next()).done;)$=$.value,Ce=rt+be($,we++),ge+=W($,Y,j,Ce,ae);else if(Ce==="object"){if(typeof _.then=="function")return W(lt(_),Y,j,$,ae);throw Y=String(_),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(_).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return ge}function w(_,Y,j){if(_==null)return _;var $=[],ae=0;return W(_,$,"","",function(Ce){return Y.call(j,Ce,ae++)}),$}function O(_){if(_._status===-1){var Y=_._result;Y=Y(),Y.then(function(j){(_._status===0||_._status===-1)&&(_._status=1,_._result=j)},function(j){(_._status===0||_._status===-1)&&(_._status=2,_._result=j)}),_._status===-1&&(_._status=0,_._result=Y)}if(_._status===1)return _._result.default;throw _._result}var re=typeof reportError=="function"?reportError:function(_){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof _=="object"&&_!==null&&typeof _.message=="string"?String(_.message):String(_),error:_});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",_);return}console.error(_)};function de(){}return xe.Children={map:w,forEach:function(_,Y,j){w(_,function(){Y.apply(this,arguments)},j)},count:function(_){var Y=0;return w(_,function(){Y++}),Y},toArray:function(_){return w(_,function(Y){return Y})||[]},only:function(_){if(!se(_))throw Error("React.Children.only expected to receive a single React element child.");return _}},xe.Component=B,xe.Fragment=o,xe.Profiler=u,xe.PureComponent=J,xe.StrictMode=l,xe.Suspense=y,xe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=X,xe.__COMPILER_RUNTIME={__proto__:null,c:function(_){return X.H.useMemoCache(_)}},xe.cache=function(_){return function(){return _.apply(null,arguments)}},xe.cloneElement=function(_,Y,j){if(_==null)throw Error("The argument must be a React element, but you passed "+_+".");var $=U({},_.props),ae=_.key,Ce=void 0;if(Y!=null)for(ge in Y.ref!==void 0&&(Ce=void 0),Y.key!==void 0&&(ae=""+Y.key),Y)!ne.call(Y,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&Y.ref===void 0||($[ge]=Y[ge]);var ge=arguments.length-2;if(ge===1)$.children=j;else if(1<ge){for(var rt=Array(ge),we=0;we<ge;we++)rt[we]=arguments[we+2];$.children=rt}return fe(_.type,ae,void 0,void 0,Ce,$)},xe.createContext=function(_){return _={$$typeof:m,_currentValue:_,_currentValue2:_,_threadCount:0,Provider:null,Consumer:null},_.Provider=_,_.Consumer={$$typeof:d,_context:_},_},xe.createElement=function(_,Y,j){var $,ae={},Ce=null;if(Y!=null)for($ in Y.key!==void 0&&(Ce=""+Y.key),Y)ne.call(Y,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ae[$]=Y[$]);var ge=arguments.length-2;if(ge===1)ae.children=j;else if(1<ge){for(var rt=Array(ge),we=0;we<ge;we++)rt[we]=arguments[we+2];ae.children=rt}if(_&&_.defaultProps)for($ in ge=_.defaultProps,ge)ae[$]===void 0&&(ae[$]=ge[$]);return fe(_,Ce,void 0,void 0,null,ae)},xe.createRef=function(){return{current:null}},xe.forwardRef=function(_){return{$$typeof:h,render:_}},xe.isValidElement=se,xe.lazy=function(_){return{$$typeof:v,_payload:{_status:-1,_result:_},_init:O}},xe.memo=function(_,Y){return{$$typeof:p,type:_,compare:Y===void 0?null:Y}},xe.startTransition=function(_){var Y=X.T,j={};X.T=j;try{var $=_(),ae=X.S;ae!==null&&ae(j,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(de,re)}catch(Ce){re(Ce)}finally{X.T=Y}},xe.unstable_useCacheRefresh=function(){return X.H.useCacheRefresh()},xe.use=function(_){return X.H.use(_)},xe.useActionState=function(_,Y,j){return X.H.useActionState(_,Y,j)},xe.useCallback=function(_,Y){return X.H.useCallback(_,Y)},xe.useContext=function(_){return X.H.useContext(_)},xe.useDebugValue=function(){},xe.useDeferredValue=function(_,Y){return X.H.useDeferredValue(_,Y)},xe.useEffect=function(_,Y,j){var $=X.H;if(typeof j=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(_,Y)},xe.useId=function(){return X.H.useId()},xe.useImperativeHandle=function(_,Y,j){return X.H.useImperativeHandle(_,Y,j)},xe.useInsertionEffect=function(_,Y){return X.H.useInsertionEffect(_,Y)},xe.useLayoutEffect=function(_,Y){return X.H.useLayoutEffect(_,Y)},xe.useMemo=function(_,Y){return X.H.useMemo(_,Y)},xe.useOptimistic=function(_,Y){return X.H.useOptimistic(_,Y)},xe.useReducer=function(_,Y,j){return X.H.useReducer(_,Y,j)},xe.useRef=function(_){return X.H.useRef(_)},xe.useState=function(_){return X.H.useState(_)},xe.useSyncExternalStore=function(_,Y,j){return X.H.useSyncExternalStore(_,Y,j)},xe.useTransition=function(){return X.H.useTransition()},xe.version="19.1.1",xe}var _m;function bu(){return _m||(_m=1,uu.exports=e0()),uu.exports}var H=bu();const t0=sg(H);var cu={exports:{}},Al={},fu={exports:{}},du={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mm;function n0(){return Mm||(Mm=1,(function(n){function e(w,O){var re=w.length;w.push(O);e:for(;0<re;){var de=re-1>>>1,_=w[de];if(0<u(_,O))w[de]=O,w[re]=_,re=de;else break e}}function o(w){return w.length===0?null:w[0]}function l(w){if(w.length===0)return null;var O=w[0],re=w.pop();if(re!==O){w[0]=re;e:for(var de=0,_=w.length,Y=_>>>1;de<Y;){var j=2*(de+1)-1,$=w[j],ae=j+1,Ce=w[ae];if(0>u($,re))ae<_&&0>u(Ce,$)?(w[de]=Ce,w[ae]=re,de=ae):(w[de]=$,w[j]=re,de=j);else if(ae<_&&0>u(Ce,re))w[de]=Ce,w[ae]=re,de=ae;else break e}}return O}function u(w,O){var re=w.sortIndex-O.sortIndex;return re!==0?re:w.id-O.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;n.unstable_now=function(){return d.now()}}else{var m=Date,h=m.now();n.unstable_now=function(){return m.now()-h}}var y=[],p=[],v=1,T=null,x=3,M=!1,U=!1,P=!1,B=!1,V=typeof setTimeout=="function"?setTimeout:null,J=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;function ee(w){for(var O=o(p);O!==null;){if(O.callback===null)l(p);else if(O.startTime<=w)l(p),O.sortIndex=O.expirationTime,e(y,O);else break;O=o(p)}}function X(w){if(P=!1,ee(w),!U)if(o(y)!==null)U=!0,ne||(ne=!0,be());else{var O=o(p);O!==null&&W(X,O.startTime-w)}}var ne=!1,fe=-1,Se=5,se=-1;function ye(){return B?!0:!(n.unstable_now()-se<Se)}function le(){if(B=!1,ne){var w=n.unstable_now();se=w;var O=!0;try{e:{U=!1,P&&(P=!1,J(fe),fe=-1),M=!0;var re=x;try{t:{for(ee(w),T=o(y);T!==null&&!(T.expirationTime>w&&ye());){var de=T.callback;if(typeof de=="function"){T.callback=null,x=T.priorityLevel;var _=de(T.expirationTime<=w);if(w=n.unstable_now(),typeof _=="function"){T.callback=_,ee(w),O=!0;break t}T===o(y)&&l(y),ee(w)}else l(y);T=o(y)}if(T!==null)O=!0;else{var Y=o(p);Y!==null&&W(X,Y.startTime-w),O=!1}}break e}finally{T=null,x=re,M=!1}O=void 0}}finally{O?be():ne=!1}}}var be;if(typeof Q=="function")be=function(){Q(le)};else if(typeof MessageChannel<"u"){var Ke=new MessageChannel,lt=Ke.port2;Ke.port1.onmessage=le,be=function(){lt.postMessage(null)}}else be=function(){V(le,0)};function W(w,O){fe=V(function(){w(n.unstable_now())},O)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(w){w.callback=null},n.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Se=0<w?Math.floor(1e3/w):5},n.unstable_getCurrentPriorityLevel=function(){return x},n.unstable_next=function(w){switch(x){case 1:case 2:case 3:var O=3;break;default:O=x}var re=x;x=O;try{return w()}finally{x=re}},n.unstable_requestPaint=function(){B=!0},n.unstable_runWithPriority=function(w,O){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var re=x;x=w;try{return O()}finally{x=re}},n.unstable_scheduleCallback=function(w,O,re){var de=n.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?de+re:de):re=de,w){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=re+_,w={id:v++,callback:O,priorityLevel:w,startTime:re,expirationTime:_,sortIndex:-1},re>de?(w.sortIndex=re,e(p,w),o(y)===null&&w===o(p)&&(P?(J(fe),fe=-1):P=!0,W(X,re-de))):(w.sortIndex=_,e(y,w),U||M||(U=!0,ne||(ne=!0,be()))),w},n.unstable_shouldYield=ye,n.unstable_wrapCallback=function(w){var O=x;return function(){var re=x;x=O;try{return w.apply(this,arguments)}finally{x=re}}}})(du)),du}var Rm;function i0(){return Rm||(Rm=1,fu.exports=n0()),fu.exports}var mu={exports:{}},St={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nm;function o0(){if(Nm)return St;Nm=1;var n=bu();function e(y){var p="https://react.dev/errors/"+y;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)p+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var l={d:{f:o,r:function(){throw Error(e(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},u=Symbol.for("react.portal");function d(y,p,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:T==null?null:""+T,children:y,containerInfo:p,implementation:v}}var m=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,p){if(y==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return St.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,St.createPortal=function(y,p){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return d(y,p,null,v)},St.flushSync=function(y){var p=m.T,v=l.p;try{if(m.T=null,l.p=2,y)return y()}finally{m.T=p,l.p=v,l.d.f()}},St.preconnect=function(y,p){typeof y=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(y,p))},St.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},St.preinit=function(y,p){if(typeof y=="string"&&p&&typeof p.as=="string"){var v=p.as,T=h(v,p.crossOrigin),x=typeof p.integrity=="string"?p.integrity:void 0,M=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;v==="style"?l.d.S(y,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:x,fetchPriority:M}):v==="script"&&l.d.X(y,{crossOrigin:T,integrity:x,fetchPriority:M,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},St.preinitModule=function(y,p){if(typeof y=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var v=h(p.as,p.crossOrigin);l.d.M(y,{crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(y)},St.preload=function(y,p){if(typeof y=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var v=p.as,T=h(v,p.crossOrigin);l.d.L(y,v,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},St.preloadModule=function(y,p){if(typeof y=="string")if(p){var v=h(p.as,p.crossOrigin);l.d.m(y,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:v,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(y)},St.requestFormReset=function(y){l.d.r(y)},St.unstable_batchedUpdates=function(y,p){return y(p)},St.useFormState=function(y,p,v){return m.H.useFormState(y,p,v)},St.useFormStatus=function(){return m.H.useHostTransitionStatus()},St.version="19.1.1",St}var Dm;function l0(){if(Dm)return mu.exports;Dm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),mu.exports=o0(),mu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bm;function a0(){if(bm)return Al;bm=1;var n=i0(),e=bu(),o=l0();function l(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function d(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function m(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function h(t){if(d(t)!==t)throw Error(l(188))}function y(t){var i=t.alternate;if(!i){if(i=d(t),i===null)throw Error(l(188));return i!==t?null:t}for(var a=t,c=i;;){var f=a.return;if(f===null)break;var g=f.alternate;if(g===null){if(c=f.return,c!==null){a=c;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===a)return h(f),t;if(g===c)return h(f),i;g=g.sibling}throw Error(l(188))}if(a.return!==c.return)a=f,c=g;else{for(var C=!1,E=f.child;E;){if(E===a){C=!0,a=f,c=g;break}if(E===c){C=!0,c=f,a=g;break}E=E.sibling}if(!C){for(E=g.child;E;){if(E===a){C=!0,a=g,c=f;break}if(E===c){C=!0,c=g,a=f;break}E=E.sibling}if(!C)throw Error(l(189))}}if(a.alternate!==c)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?t:i}function p(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=p(t),i!==null)return i;t=t.sibling}return null}var v=Object.assign,T=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),U=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),J=Symbol.for("react.consumer"),Q=Symbol.for("react.context"),ee=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),ne=Symbol.for("react.suspense_list"),fe=Symbol.for("react.memo"),Se=Symbol.for("react.lazy"),se=Symbol.for("react.activity"),ye=Symbol.for("react.memo_cache_sentinel"),le=Symbol.iterator;function be(t){return t===null||typeof t!="object"?null:(t=le&&t[le]||t["@@iterator"],typeof t=="function"?t:null)}var Ke=Symbol.for("react.client.reference");function lt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ke?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case U:return"Fragment";case B:return"Profiler";case P:return"StrictMode";case X:return"Suspense";case ne:return"SuspenseList";case se:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case M:return"Portal";case Q:return(t.displayName||"Context")+".Provider";case J:return(t._context.displayName||"Context")+".Consumer";case ee:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fe:return i=t.displayName||null,i!==null?i:lt(t.type)||"Memo";case Se:i=t._payload,t=t._init;try{return lt(t(i))}catch{}}return null}var W=Array.isArray,w=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,O=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},de=[],_=-1;function Y(t){return{current:t}}function j(t){0>_||(t.current=de[_],de[_]=null,_--)}function $(t,i){_++,de[_]=t.current,t.current=i}var ae=Y(null),Ce=Y(null),ge=Y(null),rt=Y(null);function we(t,i){switch($(ge,i),$(Ce,t),$(ae,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?$d(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=$d(i),t=Zd(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}j(ae),$(ae,t)}function At(){j(ae),j(Ce),j(ge)}function fn(t){t.memoizedState!==null&&$(rt,t);var i=ae.current,a=Zd(i,t.type);i!==a&&($(Ce,t),$(ae,a))}function dn(t){Ce.current===t&&(j(ae),j(Ce)),rt.current===t&&(j(rt),vl._currentValue=re)}var mn=Object.prototype.hasOwnProperty,nn=n.unstable_scheduleCallback,k=n.unstable_cancelCallback,q=n.unstable_shouldYield,te=n.unstable_requestPaint,K=n.unstable_now,_e=n.unstable_getCurrentPriorityLevel,ve=n.unstable_ImmediatePriority,Te=n.unstable_UserBlockingPriority,Ve=n.unstable_NormalPriority,ke=n.unstable_LowPriority,Ne=n.unstable_IdlePriority,tt=n.log,bt=n.unstable_setDisableYieldValue,pt=null,ut=null;function wt(t){if(typeof tt=="function"&&bt(t),ut&&typeof ut.setStrictMode=="function")try{ut.setStrictMode(pt,t)}catch{}}var gt=Math.clz32?Math.clz32:wl,Ni=Math.log,bl=Math.LN2;function wl(t){return t>>>=0,t===0?32:31-(Ni(t)/bl|0)|0}var ni=256,ii=4194304;function pn(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Di(t,i,a){var c=t.pendingLanes;if(c===0)return 0;var f=0,g=t.suspendedLanes,C=t.pingedLanes;t=t.warmLanes;var E=c&134217727;return E!==0?(c=E&~g,c!==0?f=pn(c):(C&=E,C!==0?f=pn(C):a||(a=E&~t,a!==0&&(f=pn(a))))):(E=c&~g,E!==0?f=pn(E):C!==0?f=pn(C):a||(a=c&~t,a!==0&&(f=pn(a)))),f===0?0:i!==0&&i!==f&&(i&g)===0&&(g=f&-f,a=i&-i,g>=a||g===32&&(a&4194048)!==0)?i:f}function oi(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function Mo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bi(){var t=ni;return ni<<=1,(ni&4194048)===0&&(ni=256),t}function Ro(){var t=ii;return ii<<=1,(ii&62914560)===0&&(ii=4194304),t}function wi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function In(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function es(t,i,a,c,f,g){var C=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var E=t.entanglements,A=t.expirationTimes,b=t.hiddenUpdates;for(a=C&~a;0<a;){var G=31-gt(a),F=1<<G;E[G]=0,A[G]=-1;var I=b[G];if(I!==null)for(b[G]=null,G=0;G<I.length;G++){var L=I[G];L!==null&&(L.lane&=-536870913)}a&=~F}c!==0&&Il(t,c,0),g!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=g&~(C&~i))}function Il(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var c=31-gt(i);t.entangledLanes|=i,t.entanglements[c]=t.entanglements[c]|1073741824|a&4194090}function No(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var c=31-gt(a),f=1<<c;f&i|t[c]&i&&(t[c]|=i),a&=~f}}function Do(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function bo(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ul(){var t=O.p;return t!==0?t:(t=window.event,t===void 0?32:hm(t.type))}function ts(t,i){var a=O.p;try{return O.p=t,i()}finally{O.p=a}}var Z=Math.random().toString(36).slice(2),ue="__reactFiber$"+Z,De="__reactProps$"+Z,Ye="__reactContainer$"+Z,nt="__reactEvents$"+Z,Un="__reactListeners$"+Z,Tt="__reactHandles$"+Z,Ht="__reactResources$"+Z,Zt="__reactMarker$"+Z;function Ii(t){delete t[ue],delete t[De],delete t[nt],delete t[Un],delete t[Tt]}function Qe(t){var i=t[ue];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Ye]||a[ue]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=tm(t);t!==null;){if(a=t[ue])return a;t=tm(t)}return i}t=a,a=t.parentNode}return null}function Gt(t){if(t=t[ue]||t[Ye]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function gn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(l(33))}function Ui(t){var i=t[Ht];return i||(i=t[Ht]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function ct(t){t[Zt]=!0}var qu=new Set,Hu={};function li(t,i){Li(t,i),Li(t+"Capture",i)}function Li(t,i){for(Hu[t]=i,t=0;t<i.length;t++)qu.add(i[t])}var Yg=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Gu={},Bu={};function Og(t){return mn.call(Bu,t)?!0:mn.call(Gu,t)?!1:Yg.test(t)?Bu[t]=!0:(Gu[t]=!0,!1)}function Ll(t,i,a){if(Og(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var c=i.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Vl(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function hn(t,i,a,c){if(c===null)t.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+c)}}var ns,zu;function Vi(t){if(ns===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);ns=i&&i[1]||"",zu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ns+t+zu}var is=!1;function os(t,i){if(!t||is)return"";is=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(i){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(L){var I=L}Reflect.construct(t,[],F)}else{try{F.call()}catch(L){I=L}t.call(F.prototype)}}else{try{throw Error()}catch(L){I=L}(F=t())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(L){if(L&&I&&typeof L.stack=="string")return[L.stack,I.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=c.DetermineComponentFrameRoot(),C=g[0],E=g[1];if(C&&E){var A=C.split(`
`),b=E.split(`
`);for(f=c=0;c<A.length&&!A[c].includes("DetermineComponentFrameRoot");)c++;for(;f<b.length&&!b[f].includes("DetermineComponentFrameRoot");)f++;if(c===A.length||f===b.length)for(c=A.length-1,f=b.length-1;1<=c&&0<=f&&A[c]!==b[f];)f--;for(;1<=c&&0<=f;c--,f--)if(A[c]!==b[f]){if(c!==1||f!==1)do if(c--,f--,0>f||A[c]!==b[f]){var G=`
`+A[c].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=c&&0<=f);break}}}finally{is=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Vi(a):""}function Jg(t){switch(t.tag){case 26:case 27:case 5:return Vi(t.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 15:return os(t.type,!1);case 11:return os(t.type.render,!1);case 1:return os(t.type,!0);case 31:return Vi("Activity");default:return""}}function Fu(t){try{var i="";do i+=Jg(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Bt(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Yu(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Kg(t){var i=Yu(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),c=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,g=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return f.call(this)},set:function(C){c=""+C,g.call(this,C)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(C){c=""+C},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Pl(t){t._valueTracker||(t._valueTracker=Kg(t))}function Ou(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return t&&(c=Yu(t)?t.checked?"true":"false":t.value),t=c,t!==a?(i.setValue(t),!0):!1}function kl(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Xg=/[\n"\\]/g;function zt(t){return t.replace(Xg,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function ls(t,i,a,c,f,g,C,E){t.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?t.type=C:t.removeAttribute("type"),i!=null?C==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+Bt(i)):t.value!==""+Bt(i)&&(t.value=""+Bt(i)):C!=="submit"&&C!=="reset"||t.removeAttribute("value"),i!=null?as(t,C,Bt(i)):a!=null?as(t,C,Bt(a)):c!=null&&t.removeAttribute("value"),f==null&&g!=null&&(t.defaultChecked=!!g),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Bt(E):t.removeAttribute("name")}function Ju(t,i,a,c,f,g,C,E){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(t.type=g),i!=null||a!=null){if(!(g!=="submit"&&g!=="reset"||i!=null))return;a=a!=null?""+Bt(a):"",i=i!=null?""+Bt(i):a,E||i===t.value||(t.value=i),t.defaultValue=i}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,t.checked=E?t.checked:!!c,t.defaultChecked=!!c,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(t.name=C)}function as(t,i,a){i==="number"&&kl(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Pi(t,i,a,c){if(t=t.options,i){i={};for(var f=0;f<a.length;f++)i["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=i.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&c&&(t[a].defaultSelected=!0)}else{for(a=""+Bt(a),i=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,c&&(t[f].defaultSelected=!0);return}i!==null||t[f].disabled||(i=t[f])}i!==null&&(i.selected=!0)}}function Ku(t,i,a){if(i!=null&&(i=""+Bt(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+Bt(a):""}function Xu(t,i,a,c){if(i==null){if(c!=null){if(a!=null)throw Error(l(92));if(W(c)){if(1<c.length)throw Error(l(93));c=c[0]}a=c}a==null&&(a=""),i=a}a=Bt(i),t.defaultValue=a,c=t.textContent,c===a&&c!==""&&c!==null&&(t.value=c)}function ki(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var Qg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qu(t,i,a){var c=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?c?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":c?t.setProperty(i,a):typeof a!="number"||a===0||Qg.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function $u(t,i,a){if(i!=null&&typeof i!="object")throw Error(l(62));if(t=t.style,a!=null){for(var c in a)!a.hasOwnProperty(c)||i!=null&&i.hasOwnProperty(c)||(c.indexOf("--")===0?t.setProperty(c,""):c==="float"?t.cssFloat="":t[c]="");for(var f in i)c=i[f],i.hasOwnProperty(f)&&a[f]!==c&&Qu(t,f,c)}else for(var g in i)i.hasOwnProperty(g)&&Qu(t,g,i[g])}function ss(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $g=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Zg=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ql(t){return Zg.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var rs=null;function us(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var qi=null,Hi=null;function Zu(t){var i=Gt(t);if(i&&(t=i.stateNode)){var a=t[De]||null;e:switch(t=i.stateNode,i.type){case"input":if(ls(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+zt(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==t&&c.form===t.form){var f=c[De]||null;if(!f)throw Error(l(90));ls(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(i=0;i<a.length;i++)c=a[i],c.form===t.form&&Ou(c)}break e;case"textarea":Ku(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Pi(t,!!a.multiple,i,!1)}}}var cs=!1;function Wu(t,i,a){if(cs)return t(i,a);cs=!0;try{var c=t(i);return c}finally{if(cs=!1,(qi!==null||Hi!==null)&&(Ea(),qi&&(i=qi,t=Hi,Hi=qi=null,Zu(i),t)))for(i=0;i<t.length;i++)Zu(t[i])}}function wo(t,i){var a=t.stateNode;if(a===null)return null;var c=a[De]||null;if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(l(231,i,typeof a));return a}var yn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fs=!1;if(yn)try{var Io={};Object.defineProperty(Io,"passive",{get:function(){fs=!0}}),window.addEventListener("test",Io,Io),window.removeEventListener("test",Io,Io)}catch{fs=!1}var Ln=null,ds=null,Hl=null;function ju(){if(Hl)return Hl;var t,i=ds,a=i.length,c,f="value"in Ln?Ln.value:Ln.textContent,g=f.length;for(t=0;t<a&&i[t]===f[t];t++);var C=a-t;for(c=1;c<=C&&i[a-c]===f[g-c];c++);return Hl=f.slice(t,1<c?1-c:void 0)}function Gl(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function Bl(){return!0}function ec(){return!1}function Mt(t){function i(a,c,f,g,C){this._reactName=a,this._targetInst=f,this.type=c,this.nativeEvent=g,this.target=C,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(a=t[E],this[E]=a?a(g):g[E]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Bl:ec,this.isPropagationStopped=ec,this}return v(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Bl)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Bl)},persist:function(){},isPersistent:Bl}),i}var ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zl=Mt(ai),Uo=v({},ai,{view:0,detail:0}),Wg=Mt(Uo),ms,ps,Lo,Fl=v({},Uo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hs,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Lo&&(Lo&&t.type==="mousemove"?(ms=t.screenX-Lo.screenX,ps=t.screenY-Lo.screenY):ps=ms=0,Lo=t),ms)},movementY:function(t){return"movementY"in t?t.movementY:ps}}),tc=Mt(Fl),jg=v({},Fl,{dataTransfer:0}),eh=Mt(jg),th=v({},Uo,{relatedTarget:0}),gs=Mt(th),nh=v({},ai,{animationName:0,elapsedTime:0,pseudoElement:0}),ih=Mt(nh),oh=v({},ai,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),lh=Mt(oh),ah=v({},ai,{data:0}),nc=Mt(ah),sh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ch(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=uh[t])?!!i[t]:!1}function hs(){return ch}var fh=v({},Uo,{key:function(t){if(t.key){var i=sh[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=Gl(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rh[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hs,charCode:function(t){return t.type==="keypress"?Gl(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Gl(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),dh=Mt(fh),mh=v({},Fl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ic=Mt(mh),ph=v({},Uo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hs}),gh=Mt(ph),hh=v({},ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),yh=Mt(hh),vh=v({},Fl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Th=Mt(vh),Ch=v({},ai,{newState:0,oldState:0}),Sh=Mt(Ch),xh=[9,13,27,32],ys=yn&&"CompositionEvent"in window,Vo=null;yn&&"documentMode"in document&&(Vo=document.documentMode);var Eh=yn&&"TextEvent"in window&&!Vo,oc=yn&&(!ys||Vo&&8<Vo&&11>=Vo),lc=" ",ac=!1;function sc(t,i){switch(t){case"keyup":return xh.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rc(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gi=!1;function Ah(t,i){switch(t){case"compositionend":return rc(i);case"keypress":return i.which!==32?null:(ac=!0,lc);case"textInput":return t=i.data,t===lc&&ac?null:t;default:return null}}function _h(t,i){if(Gi)return t==="compositionend"||!ys&&sc(t,i)?(t=ju(),Hl=ds=Ln=null,Gi=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return oc&&i.locale!=="ko"?null:i.data;default:return null}}var Mh={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uc(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!Mh[t.type]:i==="textarea"}function cc(t,i,a,c){qi?Hi?Hi.push(c):Hi=[c]:qi=c,i=Da(i,"onChange"),0<i.length&&(a=new zl("onChange","change",null,a,c),t.push({event:a,listeners:i}))}var Po=null,ko=null;function Rh(t){Od(t,0)}function Yl(t){var i=gn(t);if(Ou(i))return t}function fc(t,i){if(t==="change")return i}var dc=!1;if(yn){var vs;if(yn){var Ts="oninput"in document;if(!Ts){var mc=document.createElement("div");mc.setAttribute("oninput","return;"),Ts=typeof mc.oninput=="function"}vs=Ts}else vs=!1;dc=vs&&(!document.documentMode||9<document.documentMode)}function pc(){Po&&(Po.detachEvent("onpropertychange",gc),ko=Po=null)}function gc(t){if(t.propertyName==="value"&&Yl(ko)){var i=[];cc(i,ko,t,us(t)),Wu(Rh,i)}}function Nh(t,i,a){t==="focusin"?(pc(),Po=i,ko=a,Po.attachEvent("onpropertychange",gc)):t==="focusout"&&pc()}function Dh(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Yl(ko)}function bh(t,i){if(t==="click")return Yl(i)}function wh(t,i){if(t==="input"||t==="change")return Yl(i)}function Ih(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var It=typeof Object.is=="function"?Object.is:Ih;function qo(t,i){if(It(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var f=a[c];if(!mn.call(i,f)||!It(t[f],i[f]))return!1}return!0}function hc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function yc(t,i){var a=hc(t);t=0;for(var c;a;){if(a.nodeType===3){if(c=t+a.textContent.length,t<=i&&c>=i)return{node:a,offset:i-t};t=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=hc(a)}}function vc(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?vc(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Tc(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=kl(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=kl(t.document)}return i}function Cs(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var Uh=yn&&"documentMode"in document&&11>=document.documentMode,Bi=null,Ss=null,Ho=null,xs=!1;function Cc(t,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;xs||Bi==null||Bi!==kl(c)||(c=Bi,"selectionStart"in c&&Cs(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ho&&qo(Ho,c)||(Ho=c,c=Da(Ss,"onSelect"),0<c.length&&(i=new zl("onSelect","select",null,i,a),t.push({event:i,listeners:c}),i.target=Bi)))}function si(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var zi={animationend:si("Animation","AnimationEnd"),animationiteration:si("Animation","AnimationIteration"),animationstart:si("Animation","AnimationStart"),transitionrun:si("Transition","TransitionRun"),transitionstart:si("Transition","TransitionStart"),transitioncancel:si("Transition","TransitionCancel"),transitionend:si("Transition","TransitionEnd")},Es={},Sc={};yn&&(Sc=document.createElement("div").style,"AnimationEvent"in window||(delete zi.animationend.animation,delete zi.animationiteration.animation,delete zi.animationstart.animation),"TransitionEvent"in window||delete zi.transitionend.transition);function ri(t){if(Es[t])return Es[t];if(!zi[t])return t;var i=zi[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in Sc)return Es[t]=i[a];return t}var xc=ri("animationend"),Ec=ri("animationiteration"),Ac=ri("animationstart"),Lh=ri("transitionrun"),Vh=ri("transitionstart"),Ph=ri("transitioncancel"),_c=ri("transitionend"),Mc=new Map,As="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");As.push("scrollEnd");function Wt(t,i){Mc.set(t,i),li(i,[t])}var Rc=new WeakMap;function Ft(t,i){if(typeof t=="object"&&t!==null){var a=Rc.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Fu(i)},Rc.set(t,i),i)}return{value:t,source:i,stack:Fu(i)}}var Yt=[],Fi=0,_s=0;function Ol(){for(var t=Fi,i=_s=Fi=0;i<t;){var a=Yt[i];Yt[i++]=null;var c=Yt[i];Yt[i++]=null;var f=Yt[i];Yt[i++]=null;var g=Yt[i];if(Yt[i++]=null,c!==null&&f!==null){var C=c.pending;C===null?f.next=f:(f.next=C.next,C.next=f),c.pending=f}g!==0&&Nc(a,f,g)}}function Jl(t,i,a,c){Yt[Fi++]=t,Yt[Fi++]=i,Yt[Fi++]=a,Yt[Fi++]=c,_s|=c,t.lanes|=c,t=t.alternate,t!==null&&(t.lanes|=c)}function Ms(t,i,a,c){return Jl(t,i,a,c),Kl(t)}function Yi(t,i){return Jl(t,null,null,i),Kl(t)}function Nc(t,i,a){t.lanes|=a;var c=t.alternate;c!==null&&(c.lanes|=a);for(var f=!1,g=t.return;g!==null;)g.childLanes|=a,c=g.alternate,c!==null&&(c.childLanes|=a),g.tag===22&&(t=g.stateNode,t===null||t._visibility&1||(f=!0)),t=g,g=g.return;return t.tag===3?(g=t.stateNode,f&&i!==null&&(f=31-gt(a),t=g.hiddenUpdates,c=t[f],c===null?t[f]=[i]:c.push(i),i.lane=a|536870912),g):null}function Kl(t){if(50<cl)throw cl=0,Ir=null,Error(l(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var Oi={};function kh(t,i,a,c){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ut(t,i,a,c){return new kh(t,i,a,c)}function Rs(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vn(t,i){var a=t.alternate;return a===null?(a=Ut(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Dc(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Xl(t,i,a,c,f,g){var C=0;if(c=t,typeof t=="function")Rs(t)&&(C=1);else if(typeof t=="string")C=Hy(t,a,ae.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case se:return t=Ut(31,a,i,f),t.elementType=se,t.lanes=g,t;case U:return ui(a.children,f,g,i);case P:C=8,f|=24;break;case B:return t=Ut(12,a,i,f|2),t.elementType=B,t.lanes=g,t;case X:return t=Ut(13,a,i,f),t.elementType=X,t.lanes=g,t;case ne:return t=Ut(19,a,i,f),t.elementType=ne,t.lanes=g,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case V:case Q:C=10;break e;case J:C=9;break e;case ee:C=11;break e;case fe:C=14;break e;case Se:C=16,c=null;break e}C=29,a=Error(l(130,t===null?"null":typeof t,"")),c=null}return i=Ut(C,a,i,f),i.elementType=t,i.type=c,i.lanes=g,i}function ui(t,i,a,c){return t=Ut(7,t,c,i),t.lanes=a,t}function Ns(t,i,a){return t=Ut(6,t,null,i),t.lanes=a,t}function Ds(t,i,a){return i=Ut(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var Ji=[],Ki=0,Ql=null,$l=0,Ot=[],Jt=0,ci=null,Tn=1,Cn="";function fi(t,i){Ji[Ki++]=$l,Ji[Ki++]=Ql,Ql=t,$l=i}function bc(t,i,a){Ot[Jt++]=Tn,Ot[Jt++]=Cn,Ot[Jt++]=ci,ci=t;var c=Tn;t=Cn;var f=32-gt(c)-1;c&=~(1<<f),a+=1;var g=32-gt(i)+f;if(30<g){var C=f-f%5;g=(c&(1<<C)-1).toString(32),c>>=C,f-=C,Tn=1<<32-gt(i)+f|a<<f|c,Cn=g+t}else Tn=1<<g|a<<f|c,Cn=t}function bs(t){t.return!==null&&(fi(t,1),bc(t,1,0))}function ws(t){for(;t===Ql;)Ql=Ji[--Ki],Ji[Ki]=null,$l=Ji[--Ki],Ji[Ki]=null;for(;t===ci;)ci=Ot[--Jt],Ot[Jt]=null,Cn=Ot[--Jt],Ot[Jt]=null,Tn=Ot[--Jt],Ot[Jt]=null}var _t=null,Ze=null,Pe=!1,di=null,on=!1,Is=Error(l(519));function mi(t){var i=Error(l(418,""));throw zo(Ft(i,t)),Is}function wc(t){var i=t.stateNode,a=t.type,c=t.memoizedProps;switch(i[ue]=t,i[De]=c,a){case"dialog":Re("cancel",i),Re("close",i);break;case"iframe":case"object":case"embed":Re("load",i);break;case"video":case"audio":for(a=0;a<dl.length;a++)Re(dl[a],i);break;case"source":Re("error",i);break;case"img":case"image":case"link":Re("error",i),Re("load",i);break;case"details":Re("toggle",i);break;case"input":Re("invalid",i),Ju(i,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Pl(i);break;case"select":Re("invalid",i);break;case"textarea":Re("invalid",i),Xu(i,c.value,c.defaultValue,c.children),Pl(i)}a=c.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||c.suppressHydrationWarning===!0||Qd(i.textContent,a)?(c.popover!=null&&(Re("beforetoggle",i),Re("toggle",i)),c.onScroll!=null&&Re("scroll",i),c.onScrollEnd!=null&&Re("scrollend",i),c.onClick!=null&&(i.onclick=ba),i=!0):i=!1,i||mi(t)}function Ic(t){for(_t=t.return;_t;)switch(_t.tag){case 5:case 13:on=!1;return;case 27:case 3:on=!0;return;default:_t=_t.return}}function Go(t){if(t!==_t)return!1;if(!Pe)return Ic(t),Pe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Xr(t.type,t.memoizedProps)),a=!a),a&&Ze&&mi(t),Ic(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(l(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){Ze=en(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}Ze=null}}else i===27?(i=Ze,$n(t.type)?(t=Wr,Wr=null,Ze=t):Ze=i):Ze=_t?en(t.stateNode.nextSibling):null;return!0}function Bo(){Ze=_t=null,Pe=!1}function Uc(){var t=di;return t!==null&&(Dt===null?Dt=t:Dt.push.apply(Dt,t),di=null),t}function zo(t){di===null?di=[t]:di.push(t)}var Us=Y(null),pi=null,Sn=null;function Vn(t,i,a){$(Us,i._currentValue),i._currentValue=a}function xn(t){t._currentValue=Us.current,j(Us)}function Ls(t,i,a){for(;t!==null;){var c=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),t===a)break;t=t.return}}function Vs(t,i,a,c){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var g=f.dependencies;if(g!==null){var C=f.child;g=g.firstContext;e:for(;g!==null;){var E=g;g=f;for(var A=0;A<i.length;A++)if(E.context===i[A]){g.lanes|=a,E=g.alternate,E!==null&&(E.lanes|=a),Ls(g.return,a,t),c||(C=null);break e}g=E.next}}else if(f.tag===18){if(C=f.return,C===null)throw Error(l(341));C.lanes|=a,g=C.alternate,g!==null&&(g.lanes|=a),Ls(C,a,t),C=null}else C=f.child;if(C!==null)C.return=f;else for(C=f;C!==null;){if(C===t){C=null;break}if(f=C.sibling,f!==null){f.return=C.return,C=f;break}C=C.return}f=C}}function Fo(t,i,a,c){t=null;for(var f=i,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var C=f.alternate;if(C===null)throw Error(l(387));if(C=C.memoizedProps,C!==null){var E=f.type;It(f.pendingProps.value,C.value)||(t!==null?t.push(E):t=[E])}}else if(f===rt.current){if(C=f.alternate,C===null)throw Error(l(387));C.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(vl):t=[vl])}f=f.return}t!==null&&Vs(i,t,a,c),i.flags|=262144}function Zl(t){for(t=t.firstContext;t!==null;){if(!It(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function gi(t){pi=t,Sn=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ct(t){return Lc(pi,t)}function Wl(t,i){return pi===null&&gi(t),Lc(t,i)}function Lc(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Sn===null){if(t===null)throw Error(l(308));Sn=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Sn=Sn.next=i;return a}var qh=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,c){t.push(c)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},Hh=n.unstable_scheduleCallback,Gh=n.unstable_NormalPriority,at={$$typeof:Q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ps(){return{controller:new qh,data:new Map,refCount:0}}function Yo(t){t.refCount--,t.refCount===0&&Hh(Gh,function(){t.controller.abort()})}var Oo=null,ks=0,Xi=0,Qi=null;function Bh(t,i){if(Oo===null){var a=Oo=[];ks=0,Xi=Hr(),Qi={status:"pending",value:void 0,then:function(c){a.push(c)}}}return ks++,i.then(Vc,Vc),i}function Vc(){if(--ks===0&&Oo!==null){Qi!==null&&(Qi.status="fulfilled");var t=Oo;Oo=null,Xi=0,Qi=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function zh(t,i){var a=[],c={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){c.status="fulfilled",c.value=i;for(var f=0;f<a.length;f++)(0,a[f])(i)},function(f){for(c.status="rejected",c.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),c}var Pc=w.S;w.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&Bh(t,i),Pc!==null&&Pc(t,i)};var hi=Y(null);function qs(){var t=hi.current;return t!==null?t:Oe.pooledCache}function jl(t,i){i===null?$(hi,hi.current):$(hi,i.pool)}function kc(){var t=qs();return t===null?null:{parent:at._currentValue,pool:t}}var Jo=Error(l(460)),qc=Error(l(474)),ea=Error(l(542)),Hs={then:function(){}};function Hc(t){return t=t.status,t==="fulfilled"||t==="rejected"}function ta(){}function Gc(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(ta,ta),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,zc(t),t;default:if(typeof i.status=="string")i.then(ta,ta);else{if(t=Oe,t!==null&&100<t.shellSuspendCounter)throw Error(l(482));t=i,t.status="pending",t.then(function(c){if(i.status==="pending"){var f=i;f.status="fulfilled",f.value=c}},function(c){if(i.status==="pending"){var f=i;f.status="rejected",f.reason=c}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,zc(t),t}throw Ko=i,Jo}}var Ko=null;function Bc(){if(Ko===null)throw Error(l(459));var t=Ko;return Ko=null,t}function zc(t){if(t===Jo||t===ea)throw Error(l(483))}var Pn=!1;function Gs(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Bs(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function kn(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function qn(t,i,a){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,(qe&2)!==0){var f=c.pending;return f===null?i.next=i:(i.next=f.next,f.next=i),c.pending=i,i=Kl(t),Nc(t,null,a),i}return Jl(t,c,i,a),Kl(t)}function Xo(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var c=i.lanes;c&=t.pendingLanes,a|=c,i.lanes=a,No(t,a)}}function zs(t,i){var a=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var f=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var C={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};g===null?f=g=C:g=g.next=C,a=a.next}while(a!==null);g===null?f=g=i:g=g.next=i}else f=g=i;a={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:c.shared,callbacks:c.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var Fs=!1;function Qo(){if(Fs){var t=Qi;if(t!==null)throw t}}function $o(t,i,a,c){Fs=!1;var f=t.updateQueue;Pn=!1;var g=f.firstBaseUpdate,C=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var A=E,b=A.next;A.next=null,C===null?g=b:C.next=b,C=A;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==C&&(E===null?G.firstBaseUpdate=b:E.next=b,G.lastBaseUpdate=A))}if(g!==null){var F=f.baseState;C=0,G=b=A=null,E=g;do{var I=E.lane&-536870913,L=I!==E.lane;if(L?(Ie&I)===I:(c&I)===I){I!==0&&I===Xi&&(Fs=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var he=t,me=E;I=i;var ze=a;switch(me.tag){case 1:if(he=me.payload,typeof he=="function"){F=he.call(ze,F,I);break e}F=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=me.payload,I=typeof he=="function"?he.call(ze,F,I):he,I==null)break e;F=v({},F,I);break e;case 2:Pn=!0}}I=E.callback,I!==null&&(t.flags|=64,L&&(t.flags|=8192),L=f.callbacks,L===null?f.callbacks=[I]:L.push(I))}else L={lane:I,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(b=G=L,A=F):G=G.next=L,C|=I;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;L=E,E=L.next,L.next=null,f.lastBaseUpdate=L,f.shared.pending=null}}while(!0);G===null&&(A=F),f.baseState=A,f.firstBaseUpdate=b,f.lastBaseUpdate=G,g===null&&(f.shared.lanes=0),Jn|=C,t.lanes=C,t.memoizedState=F}}function Fc(t,i){if(typeof t!="function")throw Error(l(191,t));t.call(i)}function Yc(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)Fc(a[t],i)}var $i=Y(null),na=Y(0);function Oc(t,i){t=Dn,$(na,t),$($i,i),Dn=t|i.baseLanes}function Ys(){$(na,Dn),$($i,$i.current)}function Os(){Dn=na.current,j($i),j(na)}var Hn=0,Ee=null,Ge=null,it=null,ia=!1,Zi=!1,yi=!1,oa=0,Zo=0,Wi=null,Fh=0;function je(){throw Error(l(321))}function Js(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!It(t[a],i[a]))return!1;return!0}function Ks(t,i,a,c,f,g){return Hn=g,Ee=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,w.H=t===null||t.memoizedState===null?Df:bf,yi=!1,g=a(c,f),yi=!1,Zi&&(g=Kc(i,a,c,f)),Jc(t),g}function Jc(t){w.H=ca;var i=Ge!==null&&Ge.next!==null;if(Hn=0,it=Ge=Ee=null,ia=!1,Zo=0,Wi=null,i)throw Error(l(300));t===null||ft||(t=t.dependencies,t!==null&&Zl(t)&&(ft=!0))}function Kc(t,i,a,c){Ee=t;var f=0;do{if(Zi&&(Wi=null),Zo=0,Zi=!1,25<=f)throw Error(l(301));if(f+=1,it=Ge=null,t.updateQueue!=null){var g=t.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}w.H=$h,g=i(a,c)}while(Zi);return g}function Yh(){var t=w.H,i=t.useState()[0];return i=typeof i.then=="function"?Wo(i):i,t=t.useState()[0],(Ge!==null?Ge.memoizedState:null)!==t&&(Ee.flags|=1024),i}function Xs(){var t=oa!==0;return oa=0,t}function Qs(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function $s(t){if(ia){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}ia=!1}Hn=0,it=Ge=Ee=null,Zi=!1,Zo=oa=0,Wi=null}function Rt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?Ee.memoizedState=it=t:it=it.next=t,it}function ot(){if(Ge===null){var t=Ee.alternate;t=t!==null?t.memoizedState:null}else t=Ge.next;var i=it===null?Ee.memoizedState:it.next;if(i!==null)it=i,Ge=t;else{if(t===null)throw Ee.alternate===null?Error(l(467)):Error(l(310));Ge=t,t={memoizedState:Ge.memoizedState,baseState:Ge.baseState,baseQueue:Ge.baseQueue,queue:Ge.queue,next:null},it===null?Ee.memoizedState=it=t:it=it.next=t}return it}function Zs(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(t){var i=Zo;return Zo+=1,Wi===null&&(Wi=[]),t=Gc(Wi,t,i),i=Ee,(it===null?i.memoizedState:it.next)===null&&(i=i.alternate,w.H=i===null||i.memoizedState===null?Df:bf),t}function la(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Wo(t);if(t.$$typeof===Q)return Ct(t)}throw Error(l(438,String(t)))}function Ws(t){var i=null,a=Ee.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var c=Ee.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(i={data:c.data.map(function(f){return f.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Zs(),Ee.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),c=0;c<t;c++)a[c]=ye;return i.index++,a}function En(t,i){return typeof i=="function"?i(t):i}function aa(t){var i=ot();return js(i,Ge,t)}function js(t,i,a){var c=t.queue;if(c===null)throw Error(l(311));c.lastRenderedReducer=a;var f=t.baseQueue,g=c.pending;if(g!==null){if(f!==null){var C=f.next;f.next=g.next,g.next=C}i.baseQueue=f=g,c.pending=null}if(g=t.baseState,f===null)t.memoizedState=g;else{i=f.next;var E=C=null,A=null,b=i,G=!1;do{var F=b.lane&-536870913;if(F!==b.lane?(Ie&F)===F:(Hn&F)===F){var I=b.revertLane;if(I===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null}),F===Xi&&(G=!0);else if((Hn&I)===I){b=b.next,I===Xi&&(G=!0);continue}else F={lane:0,revertLane:b.revertLane,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},A===null?(E=A=F,C=g):A=A.next=F,Ee.lanes|=I,Jn|=I;F=b.action,yi&&a(g,F),g=b.hasEagerState?b.eagerState:a(g,F)}else I={lane:F,revertLane:b.revertLane,action:b.action,hasEagerState:b.hasEagerState,eagerState:b.eagerState,next:null},A===null?(E=A=I,C=g):A=A.next=I,Ee.lanes|=F,Jn|=F;b=b.next}while(b!==null&&b!==i);if(A===null?C=g:A.next=E,!It(g,t.memoizedState)&&(ft=!0,G&&(a=Qi,a!==null)))throw a;t.memoizedState=g,t.baseState=C,t.baseQueue=A,c.lastRenderedState=g}return f===null&&(c.lanes=0),[t.memoizedState,c.dispatch]}function er(t){var i=ot(),a=i.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=t;var c=a.dispatch,f=a.pending,g=i.memoizedState;if(f!==null){a.pending=null;var C=f=f.next;do g=t(g,C.action),C=C.next;while(C!==f);It(g,i.memoizedState)||(ft=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,c]}function Xc(t,i,a){var c=Ee,f=ot(),g=Pe;if(g){if(a===void 0)throw Error(l(407));a=a()}else a=i();var C=!It((Ge||f).memoizedState,a);C&&(f.memoizedState=a,ft=!0),f=f.queue;var E=Zc.bind(null,c,f,t);if(jo(2048,8,E,[t]),f.getSnapshot!==i||C||it!==null&&it.memoizedState.tag&1){if(c.flags|=2048,ji(9,sa(),$c.bind(null,c,f,a,i),null),Oe===null)throw Error(l(349));g||(Hn&124)!==0||Qc(c,i,a)}return a}function Qc(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ee.updateQueue,i===null?(i=Zs(),Ee.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function $c(t,i,a,c){i.value=a,i.getSnapshot=c,Wc(i)&&jc(t)}function Zc(t,i,a){return a(function(){Wc(i)&&jc(t)})}function Wc(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!It(t,a)}catch{return!0}}function jc(t){var i=Yi(t,2);i!==null&&qt(i,t,2)}function tr(t){var i=Rt();if(typeof t=="function"){var a=t;if(t=a(),yi){wt(!0);try{a()}finally{wt(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:t},i}function ef(t,i,a,c){return t.baseState=a,js(t,Ge,typeof c=="function"?c:En)}function Oh(t,i,a,c,f){if(ua(t))throw Error(l(485));if(t=i.action,t!==null){var g={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){g.listeners.push(C)}};w.T!==null?a(!0):g.isTransition=!1,c(g),a=i.pending,a===null?(g.next=i.pending=g,tf(i,g)):(g.next=a.next,i.pending=a.next=g)}}function tf(t,i){var a=i.action,c=i.payload,f=t.state;if(i.isTransition){var g=w.T,C={};w.T=C;try{var E=a(f,c),A=w.S;A!==null&&A(C,E),nf(t,i,E)}catch(b){nr(t,i,b)}finally{w.T=g}}else try{g=a(f,c),nf(t,i,g)}catch(b){nr(t,i,b)}}function nf(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(c){of(t,i,c)},function(c){return nr(t,i,c)}):of(t,i,a)}function of(t,i,a){i.status="fulfilled",i.value=a,lf(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,tf(t,a)))}function nr(t,i,a){var c=t.pending;if(t.pending=null,c!==null){c=c.next;do i.status="rejected",i.reason=a,lf(i),i=i.next;while(i!==c)}t.action=null}function lf(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function af(t,i){return i}function sf(t,i){if(Pe){var a=Oe.formState;if(a!==null){e:{var c=Ee;if(Pe){if(Ze){t:{for(var f=Ze,g=on;f.nodeType!==8;){if(!g){f=null;break t}if(f=en(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Ze=en(f.nextSibling),c=f.data==="F!";break e}}mi(c)}c=!1}c&&(i=a[0])}}return a=Rt(),a.memoizedState=a.baseState=i,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:af,lastRenderedState:i},a.queue=c,a=Mf.bind(null,Ee,c),c.dispatch=a,c=tr(!1),g=sr.bind(null,Ee,!1,c.queue),c=Rt(),f={state:i,dispatch:null,action:t,pending:null},c.queue=f,a=Oh.bind(null,Ee,f,g,a),f.dispatch=a,c.memoizedState=t,[i,a,!1]}function rf(t){var i=ot();return uf(i,Ge,t)}function uf(t,i,a){if(i=js(t,i,af)[0],t=aa(En)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var c=Wo(i)}catch(C){throw C===Jo?ea:C}else c=i;i=ot();var f=i.queue,g=f.dispatch;return a!==i.memoizedState&&(Ee.flags|=2048,ji(9,sa(),Jh.bind(null,f,a),null)),[c,g,t]}function Jh(t,i){t.action=i}function cf(t){var i=ot(),a=Ge;if(a!==null)return uf(i,a,t);ot(),i=i.memoizedState,a=ot();var c=a.queue.dispatch;return a.memoizedState=t,[i,c,!1]}function ji(t,i,a,c){return t={tag:t,create:a,deps:c,inst:i,next:null},i=Ee.updateQueue,i===null&&(i=Zs(),Ee.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(c=a.next,a.next=t,t.next=c,i.lastEffect=t),t}function sa(){return{destroy:void 0,resource:void 0}}function ff(){return ot().memoizedState}function ra(t,i,a,c){var f=Rt();c=c===void 0?null:c,Ee.flags|=t,f.memoizedState=ji(1|i,sa(),a,c)}function jo(t,i,a,c){var f=ot();c=c===void 0?null:c;var g=f.memoizedState.inst;Ge!==null&&c!==null&&Js(c,Ge.memoizedState.deps)?f.memoizedState=ji(i,g,a,c):(Ee.flags|=t,f.memoizedState=ji(1|i,g,a,c))}function df(t,i){ra(8390656,8,t,i)}function mf(t,i){jo(2048,8,t,i)}function pf(t,i){return jo(4,2,t,i)}function gf(t,i){return jo(4,4,t,i)}function hf(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function yf(t,i,a){a=a!=null?a.concat([t]):null,jo(4,4,hf.bind(null,i,t),a)}function ir(){}function vf(t,i){var a=ot();i=i===void 0?null:i;var c=a.memoizedState;return i!==null&&Js(i,c[1])?c[0]:(a.memoizedState=[t,i],t)}function Tf(t,i){var a=ot();i=i===void 0?null:i;var c=a.memoizedState;if(i!==null&&Js(i,c[1]))return c[0];if(c=t(),yi){wt(!0);try{t()}finally{wt(!1)}}return a.memoizedState=[c,i],c}function or(t,i,a){return a===void 0||(Hn&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=xd(),Ee.lanes|=t,Jn|=t,a)}function Cf(t,i,a,c){return It(a,i)?a:$i.current!==null?(t=or(t,a,c),It(t,i)||(ft=!0),t):(Hn&42)===0?(ft=!0,t.memoizedState=a):(t=xd(),Ee.lanes|=t,Jn|=t,i)}function Sf(t,i,a,c,f){var g=O.p;O.p=g!==0&&8>g?g:8;var C=w.T,E={};w.T=E,sr(t,!1,i,a);try{var A=f(),b=w.S;if(b!==null&&b(E,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var G=zh(A,c);el(t,i,G,kt(t))}else el(t,i,c,kt(t))}catch(F){el(t,i,{then:function(){},status:"rejected",reason:F},kt())}finally{O.p=g,w.T=C}}function Kh(){}function lr(t,i,a,c){if(t.tag!==5)throw Error(l(476));var f=xf(t).queue;Sf(t,f,i,re,a===null?Kh:function(){return Ef(t),a(c)})}function xf(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:re},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:En,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Ef(t){var i=xf(t).next.queue;el(t,i,{},kt())}function ar(){return Ct(vl)}function Af(){return ot().memoizedState}function _f(){return ot().memoizedState}function Xh(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=kt();t=kn(a);var c=qn(i,t,a);c!==null&&(qt(c,i,a),Xo(c,i,a)),i={cache:Ps()},t.payload=i;return}i=i.return}}function Qh(t,i,a){var c=kt();a={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ua(t)?Rf(i,a):(a=Ms(t,i,a,c),a!==null&&(qt(a,t,c),Nf(a,i,c)))}function Mf(t,i,a){var c=kt();el(t,i,a,c)}function el(t,i,a,c){var f={lane:c,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ua(t))Rf(i,f);else{var g=t.alternate;if(t.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var C=i.lastRenderedState,E=g(C,a);if(f.hasEagerState=!0,f.eagerState=E,It(E,C))return Jl(t,i,f,0),Oe===null&&Ol(),!1}catch{}finally{}if(a=Ms(t,i,f,c),a!==null)return qt(a,t,c),Nf(a,i,c),!0}return!1}function sr(t,i,a,c){if(c={lane:2,revertLane:Hr(),action:c,hasEagerState:!1,eagerState:null,next:null},ua(t)){if(i)throw Error(l(479))}else i=Ms(t,a,c,2),i!==null&&qt(i,t,2)}function ua(t){var i=t.alternate;return t===Ee||i!==null&&i===Ee}function Rf(t,i){Zi=ia=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function Nf(t,i,a){if((a&4194048)!==0){var c=i.lanes;c&=t.pendingLanes,a|=c,i.lanes=a,No(t,a)}}var ca={readContext:Ct,use:la,useCallback:je,useContext:je,useEffect:je,useImperativeHandle:je,useLayoutEffect:je,useInsertionEffect:je,useMemo:je,useReducer:je,useRef:je,useState:je,useDebugValue:je,useDeferredValue:je,useTransition:je,useSyncExternalStore:je,useId:je,useHostTransitionStatus:je,useFormState:je,useActionState:je,useOptimistic:je,useMemoCache:je,useCacheRefresh:je},Df={readContext:Ct,use:la,useCallback:function(t,i){return Rt().memoizedState=[t,i===void 0?null:i],t},useContext:Ct,useEffect:df,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,ra(4194308,4,hf.bind(null,i,t),a)},useLayoutEffect:function(t,i){return ra(4194308,4,t,i)},useInsertionEffect:function(t,i){ra(4,2,t,i)},useMemo:function(t,i){var a=Rt();i=i===void 0?null:i;var c=t();if(yi){wt(!0);try{t()}finally{wt(!1)}}return a.memoizedState=[c,i],c},useReducer:function(t,i,a){var c=Rt();if(a!==void 0){var f=a(i);if(yi){wt(!0);try{a(i)}finally{wt(!1)}}}else f=i;return c.memoizedState=c.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},c.queue=t,t=t.dispatch=Qh.bind(null,Ee,t),[c.memoizedState,t]},useRef:function(t){var i=Rt();return t={current:t},i.memoizedState=t},useState:function(t){t=tr(t);var i=t.queue,a=Mf.bind(null,Ee,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:ir,useDeferredValue:function(t,i){var a=Rt();return or(a,t,i)},useTransition:function(){var t=tr(!1);return t=Sf.bind(null,Ee,t.queue,!0,!1),Rt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var c=Ee,f=Rt();if(Pe){if(a===void 0)throw Error(l(407));a=a()}else{if(a=i(),Oe===null)throw Error(l(349));(Ie&124)!==0||Qc(c,i,a)}f.memoizedState=a;var g={value:a,getSnapshot:i};return f.queue=g,df(Zc.bind(null,c,g,t),[t]),c.flags|=2048,ji(9,sa(),$c.bind(null,c,g,a,i),null),a},useId:function(){var t=Rt(),i=Oe.identifierPrefix;if(Pe){var a=Cn,c=Tn;a=(c&~(1<<32-gt(c)-1)).toString(32)+a,i="«"+i+"R"+a,a=oa++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=Fh++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:ar,useFormState:sf,useActionState:sf,useOptimistic:function(t){var i=Rt();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=sr.bind(null,Ee,!0,a),a.dispatch=i,[t,i]},useMemoCache:Ws,useCacheRefresh:function(){return Rt().memoizedState=Xh.bind(null,Ee)}},bf={readContext:Ct,use:la,useCallback:vf,useContext:Ct,useEffect:mf,useImperativeHandle:yf,useInsertionEffect:pf,useLayoutEffect:gf,useMemo:Tf,useReducer:aa,useRef:ff,useState:function(){return aa(En)},useDebugValue:ir,useDeferredValue:function(t,i){var a=ot();return Cf(a,Ge.memoizedState,t,i)},useTransition:function(){var t=aa(En)[0],i=ot().memoizedState;return[typeof t=="boolean"?t:Wo(t),i]},useSyncExternalStore:Xc,useId:Af,useHostTransitionStatus:ar,useFormState:rf,useActionState:rf,useOptimistic:function(t,i){var a=ot();return ef(a,Ge,t,i)},useMemoCache:Ws,useCacheRefresh:_f},$h={readContext:Ct,use:la,useCallback:vf,useContext:Ct,useEffect:mf,useImperativeHandle:yf,useInsertionEffect:pf,useLayoutEffect:gf,useMemo:Tf,useReducer:er,useRef:ff,useState:function(){return er(En)},useDebugValue:ir,useDeferredValue:function(t,i){var a=ot();return Ge===null?or(a,t,i):Cf(a,Ge.memoizedState,t,i)},useTransition:function(){var t=er(En)[0],i=ot().memoizedState;return[typeof t=="boolean"?t:Wo(t),i]},useSyncExternalStore:Xc,useId:Af,useHostTransitionStatus:ar,useFormState:cf,useActionState:cf,useOptimistic:function(t,i){var a=ot();return Ge!==null?ef(a,Ge,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:Ws,useCacheRefresh:_f},eo=null,tl=0;function fa(t){var i=tl;return tl+=1,eo===null&&(eo=[]),Gc(eo,t,i)}function nl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function da(t,i){throw i.$$typeof===T?Error(l(525)):(t=Object.prototype.toString.call(i),Error(l(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function wf(t){var i=t._init;return i(t._payload)}function If(t){function i(N,R){if(t){var D=N.deletions;D===null?(N.deletions=[R],N.flags|=16):D.push(R)}}function a(N,R){if(!t)return null;for(;R!==null;)i(N,R),R=R.sibling;return null}function c(N){for(var R=new Map;N!==null;)N.key!==null?R.set(N.key,N):R.set(N.index,N),N=N.sibling;return R}function f(N,R){return N=vn(N,R),N.index=0,N.sibling=null,N}function g(N,R,D){return N.index=D,t?(D=N.alternate,D!==null?(D=D.index,D<R?(N.flags|=67108866,R):D):(N.flags|=67108866,R)):(N.flags|=1048576,R)}function C(N){return t&&N.alternate===null&&(N.flags|=67108866),N}function E(N,R,D,z){return R===null||R.tag!==6?(R=Ns(D,N.mode,z),R.return=N,R):(R=f(R,D),R.return=N,R)}function A(N,R,D,z){var oe=D.type;return oe===U?G(N,R,D.props.children,z,D.key):R!==null&&(R.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Se&&wf(oe)===R.type)?(R=f(R,D.props),nl(R,D),R.return=N,R):(R=Xl(D.type,D.key,D.props,null,N.mode,z),nl(R,D),R.return=N,R)}function b(N,R,D,z){return R===null||R.tag!==4||R.stateNode.containerInfo!==D.containerInfo||R.stateNode.implementation!==D.implementation?(R=Ds(D,N.mode,z),R.return=N,R):(R=f(R,D.children||[]),R.return=N,R)}function G(N,R,D,z,oe){return R===null||R.tag!==7?(R=ui(D,N.mode,z,oe),R.return=N,R):(R=f(R,D),R.return=N,R)}function F(N,R,D){if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return R=Ns(""+R,N.mode,D),R.return=N,R;if(typeof R=="object"&&R!==null){switch(R.$$typeof){case x:return D=Xl(R.type,R.key,R.props,null,N.mode,D),nl(D,R),D.return=N,D;case M:return R=Ds(R,N.mode,D),R.return=N,R;case Se:var z=R._init;return R=z(R._payload),F(N,R,D)}if(W(R)||be(R))return R=ui(R,N.mode,D,null),R.return=N,R;if(typeof R.then=="function")return F(N,fa(R),D);if(R.$$typeof===Q)return F(N,Wl(N,R),D);da(N,R)}return null}function I(N,R,D,z){var oe=R!==null?R.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return oe!==null?null:E(N,R,""+D,z);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case x:return D.key===oe?A(N,R,D,z):null;case M:return D.key===oe?b(N,R,D,z):null;case Se:return oe=D._init,D=oe(D._payload),I(N,R,D,z)}if(W(D)||be(D))return oe!==null?null:G(N,R,D,z,null);if(typeof D.then=="function")return I(N,R,fa(D),z);if(D.$$typeof===Q)return I(N,R,Wl(N,D),z);da(N,D)}return null}function L(N,R,D,z,oe){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return N=N.get(D)||null,E(R,N,""+z,oe);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return N=N.get(z.key===null?D:z.key)||null,A(R,N,z,oe);case M:return N=N.get(z.key===null?D:z.key)||null,b(R,N,z,oe);case Se:var Ae=z._init;return z=Ae(z._payload),L(N,R,D,z,oe)}if(W(z)||be(z))return N=N.get(D)||null,G(R,N,z,oe,null);if(typeof z.then=="function")return L(N,R,D,fa(z),oe);if(z.$$typeof===Q)return L(N,R,D,Wl(R,z),oe);da(R,z)}return null}function he(N,R,D,z){for(var oe=null,Ae=null,ce=R,pe=R=0,mt=null;ce!==null&&pe<D.length;pe++){ce.index>pe?(mt=ce,ce=null):mt=ce.sibling;var Ue=I(N,ce,D[pe],z);if(Ue===null){ce===null&&(ce=mt);break}t&&ce&&Ue.alternate===null&&i(N,ce),R=g(Ue,R,pe),Ae===null?oe=Ue:Ae.sibling=Ue,Ae=Ue,ce=mt}if(pe===D.length)return a(N,ce),Pe&&fi(N,pe),oe;if(ce===null){for(;pe<D.length;pe++)ce=F(N,D[pe],z),ce!==null&&(R=g(ce,R,pe),Ae===null?oe=ce:Ae.sibling=ce,Ae=ce);return Pe&&fi(N,pe),oe}for(ce=c(ce);pe<D.length;pe++)mt=L(ce,N,pe,D[pe],z),mt!==null&&(t&&mt.alternate!==null&&ce.delete(mt.key===null?pe:mt.key),R=g(mt,R,pe),Ae===null?oe=mt:Ae.sibling=mt,Ae=mt);return t&&ce.forEach(function(ti){return i(N,ti)}),Pe&&fi(N,pe),oe}function me(N,R,D,z){if(D==null)throw Error(l(151));for(var oe=null,Ae=null,ce=R,pe=R=0,mt=null,Ue=D.next();ce!==null&&!Ue.done;pe++,Ue=D.next()){ce.index>pe?(mt=ce,ce=null):mt=ce.sibling;var ti=I(N,ce,Ue.value,z);if(ti===null){ce===null&&(ce=mt);break}t&&ce&&ti.alternate===null&&i(N,ce),R=g(ti,R,pe),Ae===null?oe=ti:Ae.sibling=ti,Ae=ti,ce=mt}if(Ue.done)return a(N,ce),Pe&&fi(N,pe),oe;if(ce===null){for(;!Ue.done;pe++,Ue=D.next())Ue=F(N,Ue.value,z),Ue!==null&&(R=g(Ue,R,pe),Ae===null?oe=Ue:Ae.sibling=Ue,Ae=Ue);return Pe&&fi(N,pe),oe}for(ce=c(ce);!Ue.done;pe++,Ue=D.next())Ue=L(ce,N,pe,Ue.value,z),Ue!==null&&(t&&Ue.alternate!==null&&ce.delete(Ue.key===null?pe:Ue.key),R=g(Ue,R,pe),Ae===null?oe=Ue:Ae.sibling=Ue,Ae=Ue);return t&&ce.forEach(function(Zy){return i(N,Zy)}),Pe&&fi(N,pe),oe}function ze(N,R,D,z){if(typeof D=="object"&&D!==null&&D.type===U&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case x:e:{for(var oe=D.key;R!==null;){if(R.key===oe){if(oe=D.type,oe===U){if(R.tag===7){a(N,R.sibling),z=f(R,D.props.children),z.return=N,N=z;break e}}else if(R.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===Se&&wf(oe)===R.type){a(N,R.sibling),z=f(R,D.props),nl(z,D),z.return=N,N=z;break e}a(N,R);break}else i(N,R);R=R.sibling}D.type===U?(z=ui(D.props.children,N.mode,z,D.key),z.return=N,N=z):(z=Xl(D.type,D.key,D.props,null,N.mode,z),nl(z,D),z.return=N,N=z)}return C(N);case M:e:{for(oe=D.key;R!==null;){if(R.key===oe)if(R.tag===4&&R.stateNode.containerInfo===D.containerInfo&&R.stateNode.implementation===D.implementation){a(N,R.sibling),z=f(R,D.children||[]),z.return=N,N=z;break e}else{a(N,R);break}else i(N,R);R=R.sibling}z=Ds(D,N.mode,z),z.return=N,N=z}return C(N);case Se:return oe=D._init,D=oe(D._payload),ze(N,R,D,z)}if(W(D))return he(N,R,D,z);if(be(D)){if(oe=be(D),typeof oe!="function")throw Error(l(150));return D=oe.call(D),me(N,R,D,z)}if(typeof D.then=="function")return ze(N,R,fa(D),z);if(D.$$typeof===Q)return ze(N,R,Wl(N,D),z);da(N,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,R!==null&&R.tag===6?(a(N,R.sibling),z=f(R,D),z.return=N,N=z):(a(N,R),z=Ns(D,N.mode,z),z.return=N,N=z),C(N)):a(N,R)}return function(N,R,D,z){try{tl=0;var oe=ze(N,R,D,z);return eo=null,oe}catch(ce){if(ce===Jo||ce===ea)throw ce;var Ae=Ut(29,ce,null,N.mode);return Ae.lanes=z,Ae.return=N,Ae}finally{}}}var to=If(!0),Uf=If(!1),Kt=Y(null),ln=null;function Gn(t){var i=t.alternate;$(st,st.current&1),$(Kt,t),ln===null&&(i===null||$i.current!==null||i.memoizedState!==null)&&(ln=t)}function Lf(t){if(t.tag===22){if($(st,st.current),$(Kt,t),ln===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(ln=t)}}else Bn()}function Bn(){$(st,st.current),$(Kt,Kt.current)}function An(t){j(Kt),ln===t&&(ln=null),j(st)}var st=Y(0);function ma(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||Zr(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function rr(t,i,a,c){i=t.memoizedState,a=a(c,i),a=a==null?i:v({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var ur={enqueueSetState:function(t,i,a){t=t._reactInternals;var c=kt(),f=kn(c);f.payload=i,a!=null&&(f.callback=a),i=qn(t,f,c),i!==null&&(qt(i,t,c),Xo(i,t,c))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var c=kt(),f=kn(c);f.tag=1,f.payload=i,a!=null&&(f.callback=a),i=qn(t,f,c),i!==null&&(qt(i,t,c),Xo(i,t,c))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=kt(),c=kn(a);c.tag=2,i!=null&&(c.callback=i),i=qn(t,c,a),i!==null&&(qt(i,t,a),Xo(i,t,a))}};function Vf(t,i,a,c,f,g,C){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,g,C):i.prototype&&i.prototype.isPureReactComponent?!qo(a,c)||!qo(f,g):!0}function Pf(t,i,a,c){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==t&&ur.enqueueReplaceState(i,i.state,null)}function vi(t,i){var a=i;if("ref"in i){a={};for(var c in i)c!=="ref"&&(a[c]=i[c])}if(t=t.defaultProps){a===i&&(a=v({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var pa=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function kf(t){pa(t)}function qf(t){console.error(t)}function Hf(t){pa(t)}function ga(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(c){setTimeout(function(){throw c})}}function Gf(t,i,a){try{var c=t.onCaughtError;c(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function cr(t,i,a){return a=kn(a),a.tag=3,a.payload={element:null},a.callback=function(){ga(t,i)},a}function Bf(t){return t=kn(t),t.tag=3,t}function zf(t,i,a,c){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var g=c.value;t.payload=function(){return f(g)},t.callback=function(){Gf(i,a,c)}}var C=a.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(t.callback=function(){Gf(i,a,c),typeof f!="function"&&(Kn===null?Kn=new Set([this]):Kn.add(this));var E=c.stack;this.componentDidCatch(c.value,{componentStack:E!==null?E:""})})}function Zh(t,i,a,c,f){if(a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(i=a.alternate,i!==null&&Fo(i,a,f,!0),a=Kt.current,a!==null){switch(a.tag){case 13:return ln===null?Lr():a.alternate===null&&We===0&&(We=3),a.flags&=-257,a.flags|=65536,a.lanes=f,c===Hs?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([c]):i.add(c),Pr(t,c,f)),!1;case 22:return a.flags|=65536,c===Hs?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([c])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([c]):a.add(c)),Pr(t,c,f)),!1}throw Error(l(435,a.tag))}return Pr(t,c,f),Lr(),!1}if(Pe)return i=Kt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=f,c!==Is&&(t=Error(l(422),{cause:c}),zo(Ft(t,a)))):(c!==Is&&(i=Error(l(423),{cause:c}),zo(Ft(i,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,c=Ft(c,a),f=cr(t.stateNode,c,f),zs(t,f),We!==4&&(We=2)),!1;var g=Error(l(520),{cause:c});if(g=Ft(g,a),ul===null?ul=[g]:ul.push(g),We!==4&&(We=2),i===null)return!0;c=Ft(c,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=cr(a.stateNode,c,t),zs(a,t),!1;case 1:if(i=a.type,g=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Kn===null||!Kn.has(g))))return a.flags|=65536,f&=-f,a.lanes|=f,f=Bf(f),zf(f,t,a,c),zs(a,f),!1}a=a.return}while(a!==null);return!1}var Ff=Error(l(461)),ft=!1;function ht(t,i,a,c){i.child=t===null?Uf(i,null,a,c):to(i,t.child,a,c)}function Yf(t,i,a,c,f){a=a.render;var g=i.ref;if("ref"in c){var C={};for(var E in c)E!=="ref"&&(C[E]=c[E])}else C=c;return gi(i),c=Ks(t,i,a,C,g,f),E=Xs(),t!==null&&!ft?(Qs(t,i,f),_n(t,i,f)):(Pe&&E&&bs(i),i.flags|=1,ht(t,i,c,f),i.child)}function Of(t,i,a,c,f){if(t===null){var g=a.type;return typeof g=="function"&&!Rs(g)&&g.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=g,Jf(t,i,g,c,f)):(t=Xl(a.type,null,c,i,i.mode,f),t.ref=i.ref,t.return=i,i.child=t)}if(g=t.child,!vr(t,f)){var C=g.memoizedProps;if(a=a.compare,a=a!==null?a:qo,a(C,c)&&t.ref===i.ref)return _n(t,i,f)}return i.flags|=1,t=vn(g,c),t.ref=i.ref,t.return=i,i.child=t}function Jf(t,i,a,c,f){if(t!==null){var g=t.memoizedProps;if(qo(g,c)&&t.ref===i.ref)if(ft=!1,i.pendingProps=c=g,vr(t,f))(t.flags&131072)!==0&&(ft=!0);else return i.lanes=t.lanes,_n(t,i,f)}return fr(t,i,a,c,f)}function Kf(t,i,a){var c=i.pendingProps,f=c.children,g=t!==null?t.memoizedState:null;if(c.mode==="hidden"){if((i.flags&128)!==0){if(c=g!==null?g.baseLanes|a:a,t!==null){for(f=i.child=t.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;i.childLanes=g&~c}else i.childLanes=0,i.child=null;return Xf(t,i,c,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&jl(i,g!==null?g.cachePool:null),g!==null?Oc(i,g):Ys(),Lf(i);else return i.lanes=i.childLanes=536870912,Xf(t,i,g!==null?g.baseLanes|a:a,a)}else g!==null?(jl(i,g.cachePool),Oc(i,g),Bn(),i.memoizedState=null):(t!==null&&jl(i,null),Ys(),Bn());return ht(t,i,f,a),i.child}function Xf(t,i,a,c){var f=qs();return f=f===null?null:{parent:at._currentValue,pool:f},i.memoizedState={baseLanes:a,cachePool:f},t!==null&&jl(i,null),Ys(),Lf(i),t!==null&&Fo(t,i,c,!0),null}function ha(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function fr(t,i,a,c,f){return gi(i),a=Ks(t,i,a,c,void 0,f),c=Xs(),t!==null&&!ft?(Qs(t,i,f),_n(t,i,f)):(Pe&&c&&bs(i),i.flags|=1,ht(t,i,a,f),i.child)}function Qf(t,i,a,c,f,g){return gi(i),i.updateQueue=null,a=Kc(i,c,a,f),Jc(t),c=Xs(),t!==null&&!ft?(Qs(t,i,g),_n(t,i,g)):(Pe&&c&&bs(i),i.flags|=1,ht(t,i,a,g),i.child)}function $f(t,i,a,c,f){if(gi(i),i.stateNode===null){var g=Oi,C=a.contextType;typeof C=="object"&&C!==null&&(g=Ct(C)),g=new a(c,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ur,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=c,g.state=i.memoizedState,g.refs={},Gs(i),C=a.contextType,g.context=typeof C=="object"&&C!==null?Ct(C):Oi,g.state=i.memoizedState,C=a.getDerivedStateFromProps,typeof C=="function"&&(rr(i,a,C,c),g.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(C=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),C!==g.state&&ur.enqueueReplaceState(g,g.state,null),$o(i,c,g,f),Qo(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!0}else if(t===null){g=i.stateNode;var E=i.memoizedProps,A=vi(a,E);g.props=A;var b=g.context,G=a.contextType;C=Oi,typeof G=="object"&&G!==null&&(C=Ct(G));var F=a.getDerivedStateFromProps;G=typeof F=="function"||typeof g.getSnapshotBeforeUpdate=="function",E=i.pendingProps!==E,G||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(E||b!==C)&&Pf(i,g,c,C),Pn=!1;var I=i.memoizedState;g.state=I,$o(i,c,g,f),Qo(),b=i.memoizedState,E||I!==b||Pn?(typeof F=="function"&&(rr(i,a,F,c),b=i.memoizedState),(A=Pn||Vf(i,a,A,c,I,b,C))?(G||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=b),g.props=c,g.state=b,g.context=C,c=A):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{g=i.stateNode,Bs(t,i),C=i.memoizedProps,G=vi(a,C),g.props=G,F=i.pendingProps,I=g.context,b=a.contextType,A=Oi,typeof b=="object"&&b!==null&&(A=Ct(b)),E=a.getDerivedStateFromProps,(b=typeof E=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C!==F||I!==A)&&Pf(i,g,c,A),Pn=!1,I=i.memoizedState,g.state=I,$o(i,c,g,f),Qo();var L=i.memoizedState;C!==F||I!==L||Pn||t!==null&&t.dependencies!==null&&Zl(t.dependencies)?(typeof E=="function"&&(rr(i,a,E,c),L=i.memoizedState),(G=Pn||Vf(i,a,G,c,I,L,A)||t!==null&&t.dependencies!==null&&Zl(t.dependencies))?(b||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(c,L,A),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(c,L,A)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||C===t.memoizedProps&&I===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&I===t.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=L),g.props=c,g.state=L,g.context=A,c=G):(typeof g.componentDidUpdate!="function"||C===t.memoizedProps&&I===t.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||C===t.memoizedProps&&I===t.memoizedState||(i.flags|=1024),c=!1)}return g=c,ha(t,i),c=(i.flags&128)!==0,g||c?(g=i.stateNode,a=c&&typeof a.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,t!==null&&c?(i.child=to(i,t.child,null,f),i.child=to(i,null,a,f)):ht(t,i,a,f),i.memoizedState=g.state,t=i.child):t=_n(t,i,f),t}function Zf(t,i,a,c){return Bo(),i.flags|=256,ht(t,i,a,c),i.child}var dr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function mr(t){return{baseLanes:t,cachePool:kc()}}function pr(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=Xt),t}function Wf(t,i,a){var c=i.pendingProps,f=!1,g=(i.flags&128)!==0,C;if((C=g)||(C=t!==null&&t.memoizedState===null?!1:(st.current&2)!==0),C&&(f=!0,i.flags&=-129),C=(i.flags&32)!==0,i.flags&=-33,t===null){if(Pe){if(f?Gn(i):Bn(),Pe){var E=Ze,A;if(A=E){e:{for(A=E,E=on;A.nodeType!==8;){if(!E){E=null;break e}if(A=en(A.nextSibling),A===null){E=null;break e}}E=A}E!==null?(i.memoizedState={dehydrated:E,treeContext:ci!==null?{id:Tn,overflow:Cn}:null,retryLane:536870912,hydrationErrors:null},A=Ut(18,null,null,0),A.stateNode=E,A.return=i,i.child=A,_t=i,Ze=null,A=!0):A=!1}A||mi(i)}if(E=i.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return Zr(E)?i.lanes=32:i.lanes=536870912,null;An(i)}return E=c.children,c=c.fallback,f?(Bn(),f=i.mode,E=ya({mode:"hidden",children:E},f),c=ui(c,f,a,null),E.return=i,c.return=i,E.sibling=c,i.child=E,f=i.child,f.memoizedState=mr(a),f.childLanes=pr(t,C,a),i.memoizedState=dr,c):(Gn(i),gr(i,E))}if(A=t.memoizedState,A!==null&&(E=A.dehydrated,E!==null)){if(g)i.flags&256?(Gn(i),i.flags&=-257,i=hr(t,i,a)):i.memoizedState!==null?(Bn(),i.child=t.child,i.flags|=128,i=null):(Bn(),f=c.fallback,E=i.mode,c=ya({mode:"visible",children:c.children},E),f=ui(f,E,a,null),f.flags|=2,c.return=i,f.return=i,c.sibling=f,i.child=c,to(i,t.child,null,a),c=i.child,c.memoizedState=mr(a),c.childLanes=pr(t,C,a),i.memoizedState=dr,i=f);else if(Gn(i),Zr(E)){if(C=E.nextSibling&&E.nextSibling.dataset,C)var b=C.dgst;C=b,c=Error(l(419)),c.stack="",c.digest=C,zo({value:c,source:null,stack:null}),i=hr(t,i,a)}else if(ft||Fo(t,i,a,!1),C=(a&t.childLanes)!==0,ft||C){if(C=Oe,C!==null&&(c=a&-a,c=(c&42)!==0?1:Do(c),c=(c&(C.suspendedLanes|a))!==0?0:c,c!==0&&c!==A.retryLane))throw A.retryLane=c,Yi(t,c),qt(C,t,c),Ff;E.data==="$?"||Lr(),i=hr(t,i,a)}else E.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=A.treeContext,Ze=en(E.nextSibling),_t=i,Pe=!0,di=null,on=!1,t!==null&&(Ot[Jt++]=Tn,Ot[Jt++]=Cn,Ot[Jt++]=ci,Tn=t.id,Cn=t.overflow,ci=i),i=gr(i,c.children),i.flags|=4096);return i}return f?(Bn(),f=c.fallback,E=i.mode,A=t.child,b=A.sibling,c=vn(A,{mode:"hidden",children:c.children}),c.subtreeFlags=A.subtreeFlags&65011712,b!==null?f=vn(b,f):(f=ui(f,E,a,null),f.flags|=2),f.return=i,c.return=i,c.sibling=f,i.child=c,c=f,f=i.child,E=t.child.memoizedState,E===null?E=mr(a):(A=E.cachePool,A!==null?(b=at._currentValue,A=A.parent!==b?{parent:b,pool:b}:A):A=kc(),E={baseLanes:E.baseLanes|a,cachePool:A}),f.memoizedState=E,f.childLanes=pr(t,C,a),i.memoizedState=dr,c):(Gn(i),a=t.child,t=a.sibling,a=vn(a,{mode:"visible",children:c.children}),a.return=i,a.sibling=null,t!==null&&(C=i.deletions,C===null?(i.deletions=[t],i.flags|=16):C.push(t)),i.child=a,i.memoizedState=null,a)}function gr(t,i){return i=ya({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function ya(t,i){return t=Ut(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function hr(t,i,a){return to(i,t.child,null,a),t=gr(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function jf(t,i,a){t.lanes|=i;var c=t.alternate;c!==null&&(c.lanes|=i),Ls(t.return,i,a)}function yr(t,i,a,c,f){var g=t.memoizedState;g===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:f}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=f)}function ed(t,i,a){var c=i.pendingProps,f=c.revealOrder,g=c.tail;if(ht(t,i,c.children,a),c=st.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jf(t,a,i);else if(t.tag===19)jf(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}switch($(st,c),f){case"forwards":for(a=i.child,f=null;a!==null;)t=a.alternate,t!==null&&ma(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=i.child,i.child=null):(f=a.sibling,a.sibling=null),yr(i,!1,f,a,g);break;case"backwards":for(a=null,f=i.child,i.child=null;f!==null;){if(t=f.alternate,t!==null&&ma(t)===null){i.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}yr(i,!0,a,null,g);break;case"together":yr(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function _n(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),Jn|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(Fo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(l(153));if(i.child!==null){for(t=i.child,a=vn(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=vn(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function vr(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&Zl(t)))}function Wh(t,i,a){switch(i.tag){case 3:we(i,i.stateNode.containerInfo),Vn(i,at,t.memoizedState.cache),Bo();break;case 27:case 5:fn(i);break;case 4:we(i,i.stateNode.containerInfo);break;case 10:Vn(i,i.type,i.memoizedProps.value);break;case 13:var c=i.memoizedState;if(c!==null)return c.dehydrated!==null?(Gn(i),i.flags|=128,null):(a&i.child.childLanes)!==0?Wf(t,i,a):(Gn(i),t=_n(t,i,a),t!==null?t.sibling:null);Gn(i);break;case 19:var f=(t.flags&128)!==0;if(c=(a&i.childLanes)!==0,c||(Fo(t,i,a,!1),c=(a&i.childLanes)!==0),f){if(c)return ed(t,i,a);i.flags|=128}if(f=i.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),$(st,st.current),c)break;return null;case 22:case 23:return i.lanes=0,Kf(t,i,a);case 24:Vn(i,at,t.memoizedState.cache)}return _n(t,i,a)}function td(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)ft=!0;else{if(!vr(t,a)&&(i.flags&128)===0)return ft=!1,Wh(t,i,a);ft=(t.flags&131072)!==0}else ft=!1,Pe&&(i.flags&1048576)!==0&&bc(i,$l,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var c=i.elementType,f=c._init;if(c=f(c._payload),i.type=c,typeof c=="function")Rs(c)?(t=vi(c,t),i.tag=1,i=$f(null,i,c,t,a)):(i.tag=0,i=fr(null,i,c,t,a));else{if(c!=null){if(f=c.$$typeof,f===ee){i.tag=11,i=Yf(null,i,c,t,a);break e}else if(f===fe){i.tag=14,i=Of(null,i,c,t,a);break e}}throw i=lt(c)||c,Error(l(306,i,""))}}return i;case 0:return fr(t,i,i.type,i.pendingProps,a);case 1:return c=i.type,f=vi(c,i.pendingProps),$f(t,i,c,f,a);case 3:e:{if(we(i,i.stateNode.containerInfo),t===null)throw Error(l(387));c=i.pendingProps;var g=i.memoizedState;f=g.element,Bs(t,i),$o(i,c,null,a);var C=i.memoizedState;if(c=C.cache,Vn(i,at,c),c!==g.cache&&Vs(i,[at],a,!0),Qo(),c=C.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:C.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=Zf(t,i,c,a);break e}else if(c!==f){f=Ft(Error(l(424)),i),zo(f),i=Zf(t,i,c,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(Ze=en(t.firstChild),_t=i,Pe=!0,di=null,on=!0,a=Uf(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Bo(),c===f){i=_n(t,i,a);break e}ht(t,i,c,a)}i=i.child}return i;case 26:return ha(t,i),t===null?(a=lm(i.type,null,i.pendingProps,null))?i.memoizedState=a:Pe||(a=i.type,t=i.pendingProps,c=wa(ge.current).createElement(a),c[ue]=i,c[De]=t,vt(c,a,t),ct(c),i.stateNode=c):i.memoizedState=lm(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return fn(i),t===null&&Pe&&(c=i.stateNode=nm(i.type,i.pendingProps,ge.current),_t=i,on=!0,f=Ze,$n(i.type)?(Wr=f,Ze=en(c.firstChild)):Ze=f),ht(t,i,i.pendingProps.children,a),ha(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Pe&&((f=c=Ze)&&(c=My(c,i.type,i.pendingProps,on),c!==null?(i.stateNode=c,_t=i,Ze=en(c.firstChild),on=!1,f=!0):f=!1),f||mi(i)),fn(i),f=i.type,g=i.pendingProps,C=t!==null?t.memoizedProps:null,c=g.children,Xr(f,g)?c=null:C!==null&&Xr(f,C)&&(i.flags|=32),i.memoizedState!==null&&(f=Ks(t,i,Yh,null,null,a),vl._currentValue=f),ha(t,i),ht(t,i,c,a),i.child;case 6:return t===null&&Pe&&((t=a=Ze)&&(a=Ry(a,i.pendingProps,on),a!==null?(i.stateNode=a,_t=i,Ze=null,t=!0):t=!1),t||mi(i)),null;case 13:return Wf(t,i,a);case 4:return we(i,i.stateNode.containerInfo),c=i.pendingProps,t===null?i.child=to(i,null,c,a):ht(t,i,c,a),i.child;case 11:return Yf(t,i,i.type,i.pendingProps,a);case 7:return ht(t,i,i.pendingProps,a),i.child;case 8:return ht(t,i,i.pendingProps.children,a),i.child;case 12:return ht(t,i,i.pendingProps.children,a),i.child;case 10:return c=i.pendingProps,Vn(i,i.type,c.value),ht(t,i,c.children,a),i.child;case 9:return f=i.type._context,c=i.pendingProps.children,gi(i),f=Ct(f),c=c(f),i.flags|=1,ht(t,i,c,a),i.child;case 14:return Of(t,i,i.type,i.pendingProps,a);case 15:return Jf(t,i,i.type,i.pendingProps,a);case 19:return ed(t,i,a);case 31:return c=i.pendingProps,a=i.mode,c={mode:c.mode,children:c.children},t===null?(a=ya(c,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=vn(t.child,c),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Kf(t,i,a);case 24:return gi(i),c=Ct(at),t===null?(f=qs(),f===null&&(f=Oe,g=Ps(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=a),f=g),i.memoizedState={parent:c,cache:f},Gs(i),Vn(i,at,f)):((t.lanes&a)!==0&&(Bs(t,i),$o(i,null,null,a),Qo()),f=t.memoizedState,g=i.memoizedState,f.parent!==c?(f={parent:c,cache:c},i.memoizedState=f,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=f),Vn(i,at,c)):(c=g.cache,Vn(i,at,c),c!==f.cache&&Vs(i,[at],a,!0))),ht(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(l(156,i.tag))}function Mn(t){t.flags|=4}function nd(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!cm(i)){if(i=Kt.current,i!==null&&((Ie&4194048)===Ie?ln!==null:(Ie&62914560)!==Ie&&(Ie&536870912)===0||i!==ln))throw Ko=Hs,qc;t.flags|=8192}}function va(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?Ro():536870912,t.lanes|=i,lo|=i)}function il(t,i){if(!Pe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function $e(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,c=0;if(i)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=c,t.childLanes=a,i}function jh(t,i,a){var c=i.pendingProps;switch(ws(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(i),null;case 1:return $e(i),null;case 3:return a=i.stateNode,c=null,t!==null&&(c=t.memoizedState.cache),i.memoizedState.cache!==c&&(i.flags|=2048),xn(at),At(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Go(i)?Mn(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Uc())),$e(i),null;case 26:return a=i.memoizedState,t===null?(Mn(i),a!==null?($e(i),nd(i,a)):($e(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Mn(i),$e(i),nd(i,a)):($e(i),i.flags&=-16777217):(t.memoizedProps!==c&&Mn(i),$e(i),i.flags&=-16777217),null;case 27:dn(i),a=ge.current;var f=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==c&&Mn(i);else{if(!c){if(i.stateNode===null)throw Error(l(166));return $e(i),null}t=ae.current,Go(i)?wc(i):(t=nm(f,c,a),i.stateNode=t,Mn(i))}return $e(i),null;case 5:if(dn(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==c&&Mn(i);else{if(!c){if(i.stateNode===null)throw Error(l(166));return $e(i),null}if(t=ae.current,Go(i))wc(i);else{switch(f=wa(ge.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?t.multiple=!0:c.size&&(t.size=c.size);break;default:t=typeof c.is=="string"?f.createElement(a,{is:c.is}):f.createElement(a)}}t[ue]=i,t[De]=c;e:for(f=i.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}i.stateNode=t;e:switch(vt(t,a,c),a){case"button":case"input":case"select":case"textarea":t=!!c.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Mn(i)}}return $e(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==c&&Mn(i);else{if(typeof c!="string"&&i.stateNode===null)throw Error(l(166));if(t=ge.current,Go(i)){if(t=i.stateNode,a=i.memoizedProps,c=null,f=_t,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}t[ue]=i,t=!!(t.nodeValue===a||c!==null&&c.suppressHydrationWarning===!0||Qd(t.nodeValue,a)),t||mi(i)}else t=wa(t).createTextNode(c),t[ue]=i,i.stateNode=t}return $e(i),null;case 13:if(c=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=Go(i),c!==null&&c.dehydrated!==null){if(t===null){if(!f)throw Error(l(318));if(f=i.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(l(317));f[ue]=i}else Bo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;$e(i),f=!1}else f=Uc(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return i.flags&256?(An(i),i):(An(i),null)}if(An(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=c!==null,t=t!==null&&t.memoizedState!==null,a){c=i.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var g=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==f&&(c.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),va(i,i.updateQueue),$e(i),null;case 4:return At(),t===null&&Fr(i.stateNode.containerInfo),$e(i),null;case 10:return xn(i.type),$e(i),null;case 19:if(j(st),f=i.memoizedState,f===null)return $e(i),null;if(c=(i.flags&128)!==0,g=f.rendering,g===null)if(c)il(f,!1);else{if(We!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(g=ma(t),g!==null){for(i.flags|=128,il(f,!1),t=g.updateQueue,i.updateQueue=t,va(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)Dc(a,t),a=a.sibling;return $(st,st.current&1|2),i.child}t=t.sibling}f.tail!==null&&K()>Sa&&(i.flags|=128,c=!0,il(f,!1),i.lanes=4194304)}else{if(!c)if(t=ma(g),t!==null){if(i.flags|=128,c=!0,t=t.updateQueue,i.updateQueue=t,va(i,t),il(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!Pe)return $e(i),null}else 2*K()-f.renderingStartTime>Sa&&a!==536870912&&(i.flags|=128,c=!0,il(f,!1),i.lanes=4194304);f.isBackwards?(g.sibling=i.child,i.child=g):(t=f.last,t!==null?t.sibling=g:i.child=g,f.last=g)}return f.tail!==null?(i=f.tail,f.rendering=i,f.tail=i.sibling,f.renderingStartTime=K(),i.sibling=null,t=st.current,$(st,c?t&1|2:t&1),i):($e(i),null);case 22:case 23:return An(i),Os(),c=i.memoizedState!==null,t!==null?t.memoizedState!==null!==c&&(i.flags|=8192):c&&(i.flags|=8192),c?(a&536870912)!==0&&(i.flags&128)===0&&($e(i),i.subtreeFlags&6&&(i.flags|=8192)):$e(i),a=i.updateQueue,a!==null&&va(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),c=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(c=i.memoizedState.cachePool.pool),c!==a&&(i.flags|=2048),t!==null&&j(hi),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),xn(at),$e(i),null;case 25:return null;case 30:return null}throw Error(l(156,i.tag))}function ey(t,i){switch(ws(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return xn(at),At(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return dn(i),null;case 13:if(An(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(l(340));Bo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return j(st),null;case 4:return At(),null;case 10:return xn(i.type),null;case 22:case 23:return An(i),Os(),t!==null&&j(hi),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return xn(at),null;case 25:return null;default:return null}}function id(t,i){switch(ws(i),i.tag){case 3:xn(at),At();break;case 26:case 27:case 5:dn(i);break;case 4:At();break;case 13:An(i);break;case 19:j(st);break;case 10:xn(i.type);break;case 22:case 23:An(i),Os(),t!==null&&j(hi);break;case 24:xn(at)}}function ol(t,i){try{var a=i.updateQueue,c=a!==null?a.lastEffect:null;if(c!==null){var f=c.next;a=f;do{if((a.tag&t)===t){c=void 0;var g=a.create,C=a.inst;c=g(),C.destroy=c}a=a.next}while(a!==f)}}catch(E){Fe(i,i.return,E)}}function zn(t,i,a){try{var c=i.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var g=f.next;c=g;do{if((c.tag&t)===t){var C=c.inst,E=C.destroy;if(E!==void 0){C.destroy=void 0,f=i;var A=a,b=E;try{b()}catch(G){Fe(f,A,G)}}}c=c.next}while(c!==g)}}catch(G){Fe(i,i.return,G)}}function od(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{Yc(i,a)}catch(c){Fe(t,t.return,c)}}}function ld(t,i,a){a.props=vi(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(c){Fe(t,i,c)}}function ll(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var c=t.stateNode;break;case 30:c=t.stateNode;break;default:c=t.stateNode}typeof a=="function"?t.refCleanup=a(c):a.current=c}}catch(f){Fe(t,i,f)}}function an(t,i){var a=t.ref,c=t.refCleanup;if(a!==null)if(typeof c=="function")try{c()}catch(f){Fe(t,i,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){Fe(t,i,f)}else a.current=null}function ad(t){var i=t.type,a=t.memoizedProps,c=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&c.focus();break e;case"img":a.src?c.src=a.src:a.srcSet&&(c.srcset=a.srcSet)}}catch(f){Fe(t,t.return,f)}}function Tr(t,i,a){try{var c=t.stateNode;Sy(c,t.type,a,i),c[De]=i}catch(f){Fe(t,t.return,f)}}function sd(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$n(t.type)||t.tag===4}function Cr(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sd(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$n(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sr(t,i,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ba));else if(c!==4&&(c===27&&$n(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Sr(t,i,a),t=t.sibling;t!==null;)Sr(t,i,a),t=t.sibling}function Ta(t,i,a){var c=t.tag;if(c===5||c===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(c!==4&&(c===27&&$n(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(Ta(t,i,a),t=t.sibling;t!==null;)Ta(t,i,a),t=t.sibling}function rd(t){var i=t.stateNode,a=t.memoizedProps;try{for(var c=t.type,f=i.attributes;f.length;)i.removeAttributeNode(f[0]);vt(i,c,a),i[ue]=t,i[De]=a}catch(g){Fe(t,t.return,g)}}var Rn=!1,et=!1,xr=!1,ud=typeof WeakSet=="function"?WeakSet:Set,dt=null;function ty(t,i){if(t=t.containerInfo,Jr=ka,t=Tc(t),Cs(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var f=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var C=0,E=-1,A=-1,b=0,G=0,F=t,I=null;t:for(;;){for(var L;F!==a||f!==0&&F.nodeType!==3||(E=C+f),F!==g||c!==0&&F.nodeType!==3||(A=C+c),F.nodeType===3&&(C+=F.nodeValue.length),(L=F.firstChild)!==null;)I=F,F=L;for(;;){if(F===t)break t;if(I===a&&++b===f&&(E=C),I===g&&++G===c&&(A=C),(L=F.nextSibling)!==null)break;F=I,I=F.parentNode}F=L}a=E===-1||A===-1?null:{start:E,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(Kr={focusedElem:t,selectionRange:a},ka=!1,dt=i;dt!==null;)if(i=dt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,dt=t;else for(;dt!==null;){switch(i=dt,g=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&g!==null){t=void 0,a=i,f=g.memoizedProps,g=g.memoizedState,c=a.stateNode;try{var he=vi(a.type,f,a.elementType===a.type);t=c.getSnapshotBeforeUpdate(he,g),c.__reactInternalSnapshotBeforeUpdate=t}catch(me){Fe(a,a.return,me)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)$r(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":$r(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(l(163))}if(t=i.sibling,t!==null){t.return=i.return,dt=t;break}dt=i.return}}function cd(t,i,a){var c=a.flags;switch(a.tag){case 0:case 11:case 15:Fn(t,a),c&4&&ol(5,a);break;case 1:if(Fn(t,a),c&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(C){Fe(a,a.return,C)}else{var f=vi(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(f,i,t.__reactInternalSnapshotBeforeUpdate)}catch(C){Fe(a,a.return,C)}}c&64&&od(a),c&512&&ll(a,a.return);break;case 3:if(Fn(t,a),c&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{Yc(t,i)}catch(C){Fe(a,a.return,C)}}break;case 27:i===null&&c&4&&rd(a);case 26:case 5:Fn(t,a),i===null&&c&4&&ad(a),c&512&&ll(a,a.return);break;case 12:Fn(t,a);break;case 13:Fn(t,a),c&4&&md(t,a),c&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=cy.bind(null,a),Ny(t,a))));break;case 22:if(c=a.memoizedState!==null||Rn,!c){i=i!==null&&i.memoizedState!==null||et,f=Rn;var g=et;Rn=c,(et=i)&&!g?Yn(t,a,(a.subtreeFlags&8772)!==0):Fn(t,a),Rn=f,et=g}break;case 30:break;default:Fn(t,a)}}function fd(t){var i=t.alternate;i!==null&&(t.alternate=null,fd(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&Ii(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Xe=null,Nt=!1;function Nn(t,i,a){for(a=a.child;a!==null;)dd(t,i,a),a=a.sibling}function dd(t,i,a){if(ut&&typeof ut.onCommitFiberUnmount=="function")try{ut.onCommitFiberUnmount(pt,a)}catch{}switch(a.tag){case 26:et||an(a,i),Nn(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:et||an(a,i);var c=Xe,f=Nt;$n(a.type)&&(Xe=a.stateNode,Nt=!1),Nn(t,i,a),pl(a.stateNode),Xe=c,Nt=f;break;case 5:et||an(a,i);case 6:if(c=Xe,f=Nt,Xe=null,Nn(t,i,a),Xe=c,Nt=f,Xe!==null)if(Nt)try{(Xe.nodeType===9?Xe.body:Xe.nodeName==="HTML"?Xe.ownerDocument.body:Xe).removeChild(a.stateNode)}catch(g){Fe(a,i,g)}else try{Xe.removeChild(a.stateNode)}catch(g){Fe(a,i,g)}break;case 18:Xe!==null&&(Nt?(t=Xe,em(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),xl(t)):em(Xe,a.stateNode));break;case 4:c=Xe,f=Nt,Xe=a.stateNode.containerInfo,Nt=!0,Nn(t,i,a),Xe=c,Nt=f;break;case 0:case 11:case 14:case 15:et||zn(2,a,i),et||zn(4,a,i),Nn(t,i,a);break;case 1:et||(an(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"&&ld(a,i,c)),Nn(t,i,a);break;case 21:Nn(t,i,a);break;case 22:et=(c=et)||a.memoizedState!==null,Nn(t,i,a),et=c;break;default:Nn(t,i,a)}}function md(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{xl(t)}catch(a){Fe(i,i.return,a)}}function ny(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new ud),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new ud),i;default:throw Error(l(435,t.tag))}}function Er(t,i){var a=ny(t);i.forEach(function(c){var f=fy.bind(null,t,c);a.has(c)||(a.add(c),c.then(f,f))})}function Lt(t,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var f=a[c],g=t,C=i,E=C;e:for(;E!==null;){switch(E.tag){case 27:if($n(E.type)){Xe=E.stateNode,Nt=!1;break e}break;case 5:Xe=E.stateNode,Nt=!1;break e;case 3:case 4:Xe=E.stateNode.containerInfo,Nt=!0;break e}E=E.return}if(Xe===null)throw Error(l(160));dd(g,C,f),Xe=null,Nt=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)pd(i,t),i=i.sibling}var jt=null;function pd(t,i){var a=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Lt(i,t),Vt(t),c&4&&(zn(3,t,t.return),ol(3,t),zn(5,t,t.return));break;case 1:Lt(i,t),Vt(t),c&512&&(et||a===null||an(a,a.return)),c&64&&Rn&&(t=t.updateQueue,t!==null&&(c=t.callbacks,c!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?c:a.concat(c))));break;case 26:var f=jt;if(Lt(i,t),Vt(t),c&512&&(et||a===null||an(a,a.return)),c&4){var g=a!==null?a.memoizedState:null;if(c=t.memoizedState,a===null)if(c===null)if(t.stateNode===null){e:{c=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(c){case"title":g=f.getElementsByTagName("title")[0],(!g||g[Zt]||g[ue]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(c),f.head.insertBefore(g,f.querySelector("head > title"))),vt(g,c,a),g[ue]=t,ct(g),c=g;break e;case"link":var C=rm("link","href",f).get(c+(a.href||""));if(C){for(var E=0;E<C.length;E++)if(g=C[E],g.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&g.getAttribute("rel")===(a.rel==null?null:a.rel)&&g.getAttribute("title")===(a.title==null?null:a.title)&&g.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){C.splice(E,1);break t}}g=f.createElement(c),vt(g,c,a),f.head.appendChild(g);break;case"meta":if(C=rm("meta","content",f).get(c+(a.content||""))){for(E=0;E<C.length;E++)if(g=C[E],g.getAttribute("content")===(a.content==null?null:""+a.content)&&g.getAttribute("name")===(a.name==null?null:a.name)&&g.getAttribute("property")===(a.property==null?null:a.property)&&g.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&g.getAttribute("charset")===(a.charSet==null?null:a.charSet)){C.splice(E,1);break t}}g=f.createElement(c),vt(g,c,a),f.head.appendChild(g);break;default:throw Error(l(468,c))}g[ue]=t,ct(g),c=g}t.stateNode=c}else um(f,t.type,t.stateNode);else t.stateNode=sm(f,c,t.memoizedProps);else g!==c?(g===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):g.count--,c===null?um(f,t.type,t.stateNode):sm(f,c,t.memoizedProps)):c===null&&t.stateNode!==null&&Tr(t,t.memoizedProps,a.memoizedProps)}break;case 27:Lt(i,t),Vt(t),c&512&&(et||a===null||an(a,a.return)),a!==null&&c&4&&Tr(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Lt(i,t),Vt(t),c&512&&(et||a===null||an(a,a.return)),t.flags&32){f=t.stateNode;try{ki(f,"")}catch(L){Fe(t,t.return,L)}}c&4&&t.stateNode!=null&&(f=t.memoizedProps,Tr(t,f,a!==null?a.memoizedProps:f)),c&1024&&(xr=!0);break;case 6:if(Lt(i,t),Vt(t),c&4){if(t.stateNode===null)throw Error(l(162));c=t.memoizedProps,a=t.stateNode;try{a.nodeValue=c}catch(L){Fe(t,t.return,L)}}break;case 3:if(La=null,f=jt,jt=Ia(i.containerInfo),Lt(i,t),jt=f,Vt(t),c&4&&a!==null&&a.memoizedState.isDehydrated)try{xl(i.containerInfo)}catch(L){Fe(t,t.return,L)}xr&&(xr=!1,gd(t));break;case 4:c=jt,jt=Ia(t.stateNode.containerInfo),Lt(i,t),Vt(t),jt=c;break;case 12:Lt(i,t),Vt(t);break;case 13:Lt(i,t),Vt(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Dr=K()),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Er(t,c)));break;case 22:f=t.memoizedState!==null;var A=a!==null&&a.memoizedState!==null,b=Rn,G=et;if(Rn=b||f,et=G||A,Lt(i,t),et=G,Rn=b,Vt(t),c&8192)e:for(i=t.stateNode,i._visibility=f?i._visibility&-2:i._visibility|1,f&&(a===null||A||Rn||et||Ti(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){A=a=i;try{if(g=A.stateNode,f)C=g.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{E=A.stateNode;var F=A.memoizedProps.style,I=F!=null&&F.hasOwnProperty("display")?F.display:null;E.style.display=I==null||typeof I=="boolean"?"":(""+I).trim()}}catch(L){Fe(A,A.return,L)}}}else if(i.tag===6){if(a===null){A=i;try{A.stateNode.nodeValue=f?"":A.memoizedProps}catch(L){Fe(A,A.return,L)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}c&4&&(c=t.updateQueue,c!==null&&(a=c.retryQueue,a!==null&&(c.retryQueue=null,Er(t,a))));break;case 19:Lt(i,t),Vt(t),c&4&&(c=t.updateQueue,c!==null&&(t.updateQueue=null,Er(t,c)));break;case 30:break;case 21:break;default:Lt(i,t),Vt(t)}}function Vt(t){var i=t.flags;if(i&2){try{for(var a,c=t.return;c!==null;){if(sd(c)){a=c;break}c=c.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var f=a.stateNode,g=Cr(t);Ta(t,g,f);break;case 5:var C=a.stateNode;a.flags&32&&(ki(C,""),a.flags&=-33);var E=Cr(t);Ta(t,E,C);break;case 3:case 4:var A=a.stateNode.containerInfo,b=Cr(t);Sr(t,b,A);break;default:throw Error(l(161))}}catch(G){Fe(t,t.return,G)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function gd(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;gd(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function Fn(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)cd(t,i.alternate,i),i=i.sibling}function Ti(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:zn(4,i,i.return),Ti(i);break;case 1:an(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&ld(i,i.return,a),Ti(i);break;case 27:pl(i.stateNode);case 26:case 5:an(i,i.return),Ti(i);break;case 22:i.memoizedState===null&&Ti(i);break;case 30:Ti(i);break;default:Ti(i)}t=t.sibling}}function Yn(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var c=i.alternate,f=t,g=i,C=g.flags;switch(g.tag){case 0:case 11:case 15:Yn(f,g,a),ol(4,g);break;case 1:if(Yn(f,g,a),c=g,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(b){Fe(c,c.return,b)}if(c=g,f=c.updateQueue,f!==null){var E=c.stateNode;try{var A=f.shared.hiddenCallbacks;if(A!==null)for(f.shared.hiddenCallbacks=null,f=0;f<A.length;f++)Fc(A[f],E)}catch(b){Fe(c,c.return,b)}}a&&C&64&&od(g),ll(g,g.return);break;case 27:rd(g);case 26:case 5:Yn(f,g,a),a&&c===null&&C&4&&ad(g),ll(g,g.return);break;case 12:Yn(f,g,a);break;case 13:Yn(f,g,a),a&&C&4&&md(f,g);break;case 22:g.memoizedState===null&&Yn(f,g,a),ll(g,g.return);break;case 30:break;default:Yn(f,g,a)}i=i.sibling}}function Ar(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Yo(a))}function _r(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Yo(t))}function sn(t,i,a,c){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)hd(t,i,a,c),i=i.sibling}function hd(t,i,a,c){var f=i.flags;switch(i.tag){case 0:case 11:case 15:sn(t,i,a,c),f&2048&&ol(9,i);break;case 1:sn(t,i,a,c);break;case 3:sn(t,i,a,c),f&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Yo(t)));break;case 12:if(f&2048){sn(t,i,a,c),t=i.stateNode;try{var g=i.memoizedProps,C=g.id,E=g.onPostCommit;typeof E=="function"&&E(C,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(A){Fe(i,i.return,A)}}else sn(t,i,a,c);break;case 13:sn(t,i,a,c);break;case 23:break;case 22:g=i.stateNode,C=i.alternate,i.memoizedState!==null?g._visibility&2?sn(t,i,a,c):al(t,i):g._visibility&2?sn(t,i,a,c):(g._visibility|=2,no(t,i,a,c,(i.subtreeFlags&10256)!==0)),f&2048&&Ar(C,i);break;case 24:sn(t,i,a,c),f&2048&&_r(i.alternate,i);break;default:sn(t,i,a,c)}}function no(t,i,a,c,f){for(f=f&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var g=t,C=i,E=a,A=c,b=C.flags;switch(C.tag){case 0:case 11:case 15:no(g,C,E,A,f),ol(8,C);break;case 23:break;case 22:var G=C.stateNode;C.memoizedState!==null?G._visibility&2?no(g,C,E,A,f):al(g,C):(G._visibility|=2,no(g,C,E,A,f)),f&&b&2048&&Ar(C.alternate,C);break;case 24:no(g,C,E,A,f),f&&b&2048&&_r(C.alternate,C);break;default:no(g,C,E,A,f)}i=i.sibling}}function al(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,c=i,f=c.flags;switch(c.tag){case 22:al(a,c),f&2048&&Ar(c.alternate,c);break;case 24:al(a,c),f&2048&&_r(c.alternate,c);break;default:al(a,c)}i=i.sibling}}var sl=8192;function io(t){if(t.subtreeFlags&sl)for(t=t.child;t!==null;)yd(t),t=t.sibling}function yd(t){switch(t.tag){case 26:io(t),t.flags&sl&&t.memoizedState!==null&&By(jt,t.memoizedState,t.memoizedProps);break;case 5:io(t);break;case 3:case 4:var i=jt;jt=Ia(t.stateNode.containerInfo),io(t),jt=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=sl,sl=16777216,io(t),sl=i):io(t));break;default:io(t)}}function vd(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function rl(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];dt=c,Cd(c,t)}vd(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Td(t),t=t.sibling}function Td(t){switch(t.tag){case 0:case 11:case 15:rl(t),t.flags&2048&&zn(9,t,t.return);break;case 3:rl(t);break;case 12:rl(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,Ca(t)):rl(t);break;default:rl(t)}}function Ca(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var c=i[a];dt=c,Cd(c,t)}vd(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:zn(8,i,i.return),Ca(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,Ca(i));break;default:Ca(i)}t=t.sibling}}function Cd(t,i){for(;dt!==null;){var a=dt;switch(a.tag){case 0:case 11:case 15:zn(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var c=a.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Yo(a.memoizedState.cache)}if(c=a.child,c!==null)c.return=a,dt=c;else e:for(a=t;dt!==null;){c=dt;var f=c.sibling,g=c.return;if(fd(c),c===a){dt=null;break e}if(f!==null){f.return=g,dt=f;break e}dt=g}}}var iy={getCacheForType:function(t){var i=Ct(at),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},oy=typeof WeakMap=="function"?WeakMap:Map,qe=0,Oe=null,Me=null,Ie=0,He=0,Pt=null,On=!1,oo=!1,Mr=!1,Dn=0,We=0,Jn=0,Ci=0,Rr=0,Xt=0,lo=0,ul=null,Dt=null,Nr=!1,Dr=0,Sa=1/0,xa=null,Kn=null,yt=0,Xn=null,ao=null,so=0,br=0,wr=null,Sd=null,cl=0,Ir=null;function kt(){if((qe&2)!==0&&Ie!==0)return Ie&-Ie;if(w.T!==null){var t=Xi;return t!==0?t:Hr()}return Ul()}function xd(){Xt===0&&(Xt=(Ie&536870912)===0||Pe?bi():536870912);var t=Kt.current;return t!==null&&(t.flags|=32),Xt}function qt(t,i,a){(t===Oe&&(He===2||He===9)||t.cancelPendingCommit!==null)&&(ro(t,0),Qn(t,Ie,Xt,!1)),In(t,a),((qe&2)===0||t!==Oe)&&(t===Oe&&((qe&2)===0&&(Ci|=a),We===4&&Qn(t,Ie,Xt,!1)),rn(t))}function Ed(t,i,a){if((qe&6)!==0)throw Error(l(327));var c=!a&&(i&124)===0&&(i&t.expiredLanes)===0||oi(t,i),f=c?sy(t,i):Vr(t,i,!0),g=c;do{if(f===0){oo&&!c&&Qn(t,i,0,!1);break}else{if(a=t.current.alternate,g&&!ly(a)){f=Vr(t,i,!1),g=!1;continue}if(f===2){if(g=i,t.errorRecoveryDisabledLanes&g)var C=0;else C=t.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){i=C;e:{var E=t;f=ul;var A=E.current.memoizedState.isDehydrated;if(A&&(ro(E,C).flags|=256),C=Vr(E,C,!1),C!==2){if(Mr&&!A){E.errorRecoveryDisabledLanes|=g,Ci|=g,f=4;break e}g=Dt,Dt=f,g!==null&&(Dt===null?Dt=g:Dt.push.apply(Dt,g))}f=C}if(g=!1,f!==2)continue}}if(f===1){ro(t,0),Qn(t,i,0,!0);break}e:{switch(c=t,g=f,g){case 0:case 1:throw Error(l(345));case 4:if((i&4194048)!==i)break;case 6:Qn(c,i,Xt,!On);break e;case 2:Dt=null;break;case 3:case 5:break;default:throw Error(l(329))}if((i&62914560)===i&&(f=Dr+300-K(),10<f)){if(Qn(c,i,Xt,!On),Di(c,0,!0)!==0)break e;c.timeoutHandle=Wd(Ad.bind(null,c,a,Dt,xa,Nr,i,Xt,Ci,lo,On,g,2,-0,0),f);break e}Ad(c,a,Dt,xa,Nr,i,Xt,Ci,lo,On,g,0,-0,0)}}break}while(!0);rn(t)}function Ad(t,i,a,c,f,g,C,E,A,b,G,F,I,L){if(t.timeoutHandle=-1,F=i.subtreeFlags,(F&8192||(F&16785408)===16785408)&&(yl={stylesheets:null,count:0,unsuspend:Gy},yd(i),F=zy(),F!==null)){t.cancelPendingCommit=F(wd.bind(null,t,i,g,a,c,f,C,E,A,G,1,I,L)),Qn(t,g,C,!b);return}wd(t,i,g,a,c,f,C,E,A)}function ly(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var c=0;c<a.length;c++){var f=a[c],g=f.getSnapshot;f=f.value;try{if(!It(g(),f))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Qn(t,i,a,c){i&=~Rr,i&=~Ci,t.suspendedLanes|=i,t.pingedLanes&=~i,c&&(t.warmLanes|=i),c=t.expirationTimes;for(var f=i;0<f;){var g=31-gt(f),C=1<<g;c[g]=-1,f&=~C}a!==0&&Il(t,a,i)}function Ea(){return(qe&6)===0?(fl(0),!1):!0}function Ur(){if(Me!==null){if(He===0)var t=Me.return;else t=Me,Sn=pi=null,$s(t),eo=null,tl=0,t=Me;for(;t!==null;)id(t.alternate,t),t=t.return;Me=null}}function ro(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,Ey(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Ur(),Oe=t,Me=a=vn(t.current,null),Ie=i,He=0,Pt=null,On=!1,oo=oi(t,i),Mr=!1,lo=Xt=Rr=Ci=Jn=We=0,Dt=ul=null,Nr=!1,(i&8)!==0&&(i|=i&32);var c=t.entangledLanes;if(c!==0)for(t=t.entanglements,c&=i;0<c;){var f=31-gt(c),g=1<<f;i|=t[f],c&=~g}return Dn=i,Ol(),a}function _d(t,i){Ee=null,w.H=ca,i===Jo||i===ea?(i=Bc(),He=3):i===qc?(i=Bc(),He=4):He=i===Ff?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Pt=i,Me===null&&(We=1,ga(t,Ft(i,t.current)))}function Md(){var t=w.H;return w.H=ca,t===null?ca:t}function Rd(){var t=w.A;return w.A=iy,t}function Lr(){We=4,On||(Ie&4194048)!==Ie&&Kt.current!==null||(oo=!0),(Jn&134217727)===0&&(Ci&134217727)===0||Oe===null||Qn(Oe,Ie,Xt,!1)}function Vr(t,i,a){var c=qe;qe|=2;var f=Md(),g=Rd();(Oe!==t||Ie!==i)&&(xa=null,ro(t,i)),i=!1;var C=We;e:do try{if(He!==0&&Me!==null){var E=Me,A=Pt;switch(He){case 8:Ur(),C=6;break e;case 3:case 2:case 9:case 6:Kt.current===null&&(i=!0);var b=He;if(He=0,Pt=null,uo(t,E,A,b),a&&oo){C=0;break e}break;default:b=He,He=0,Pt=null,uo(t,E,A,b)}}ay(),C=We;break}catch(G){_d(t,G)}while(!0);return i&&t.shellSuspendCounter++,Sn=pi=null,qe=c,w.H=f,w.A=g,Me===null&&(Oe=null,Ie=0,Ol()),C}function ay(){for(;Me!==null;)Nd(Me)}function sy(t,i){var a=qe;qe|=2;var c=Md(),f=Rd();Oe!==t||Ie!==i?(xa=null,Sa=K()+500,ro(t,i)):oo=oi(t,i);e:do try{if(He!==0&&Me!==null){i=Me;var g=Pt;t:switch(He){case 1:He=0,Pt=null,uo(t,i,g,1);break;case 2:case 9:if(Hc(g)){He=0,Pt=null,Dd(i);break}i=function(){He!==2&&He!==9||Oe!==t||(He=7),rn(t)},g.then(i,i);break e;case 3:He=7;break e;case 4:He=5;break e;case 7:Hc(g)?(He=0,Pt=null,Dd(i)):(He=0,Pt=null,uo(t,i,g,7));break;case 5:var C=null;switch(Me.tag){case 26:C=Me.memoizedState;case 5:case 27:var E=Me;if(!C||cm(C)){He=0,Pt=null;var A=E.sibling;if(A!==null)Me=A;else{var b=E.return;b!==null?(Me=b,Aa(b)):Me=null}break t}}He=0,Pt=null,uo(t,i,g,5);break;case 6:He=0,Pt=null,uo(t,i,g,6);break;case 8:Ur(),We=6;break e;default:throw Error(l(462))}}ry();break}catch(G){_d(t,G)}while(!0);return Sn=pi=null,w.H=c,w.A=f,qe=a,Me!==null?0:(Oe=null,Ie=0,Ol(),We)}function ry(){for(;Me!==null&&!q();)Nd(Me)}function Nd(t){var i=td(t.alternate,t,Dn);t.memoizedProps=t.pendingProps,i===null?Aa(t):Me=i}function Dd(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Qf(a,i,i.pendingProps,i.type,void 0,Ie);break;case 11:i=Qf(a,i,i.pendingProps,i.type.render,i.ref,Ie);break;case 5:$s(i);default:id(a,i),i=Me=Dc(i,Dn),i=td(a,i,Dn)}t.memoizedProps=t.pendingProps,i===null?Aa(t):Me=i}function uo(t,i,a,c){Sn=pi=null,$s(i),eo=null,tl=0;var f=i.return;try{if(Zh(t,f,i,a,Ie)){We=1,ga(t,Ft(a,t.current)),Me=null;return}}catch(g){if(f!==null)throw Me=f,g;We=1,ga(t,Ft(a,t.current)),Me=null;return}i.flags&32768?(Pe||c===1?t=!0:oo||(Ie&536870912)!==0?t=!1:(On=t=!0,(c===2||c===9||c===3||c===6)&&(c=Kt.current,c!==null&&c.tag===13&&(c.flags|=16384))),bd(i,t)):Aa(i)}function Aa(t){var i=t;do{if((i.flags&32768)!==0){bd(i,On);return}t=i.return;var a=jh(i.alternate,i,Dn);if(a!==null){Me=a;return}if(i=i.sibling,i!==null){Me=i;return}Me=i=t}while(i!==null);We===0&&(We=5)}function bd(t,i){do{var a=ey(t.alternate,t);if(a!==null){a.flags&=32767,Me=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Me=t;return}Me=t=a}while(t!==null);We=6,Me=null}function wd(t,i,a,c,f,g,C,E,A){t.cancelPendingCommit=null;do _a();while(yt!==0);if((qe&6)!==0)throw Error(l(327));if(i!==null){if(i===t.current)throw Error(l(177));if(g=i.lanes|i.childLanes,g|=_s,es(t,a,g,C,E,A),t===Oe&&(Me=Oe=null,Ie=0),ao=i,Xn=t,so=a,br=g,wr=f,Sd=c,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,dy(Ve,function(){return Pd(),null})):(t.callbackNode=null,t.callbackPriority=0),c=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||c){c=w.T,w.T=null,f=O.p,O.p=2,C=qe,qe|=4;try{ty(t,i,a)}finally{qe=C,O.p=f,w.T=c}}yt=1,Id(),Ud(),Ld()}}function Id(){if(yt===1){yt=0;var t=Xn,i=ao,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=w.T,w.T=null;var c=O.p;O.p=2;var f=qe;qe|=4;try{pd(i,t);var g=Kr,C=Tc(t.containerInfo),E=g.focusedElem,A=g.selectionRange;if(C!==E&&E&&E.ownerDocument&&vc(E.ownerDocument.documentElement,E)){if(A!==null&&Cs(E)){var b=A.start,G=A.end;if(G===void 0&&(G=b),"selectionStart"in E)E.selectionStart=b,E.selectionEnd=Math.min(G,E.value.length);else{var F=E.ownerDocument||document,I=F&&F.defaultView||window;if(I.getSelection){var L=I.getSelection(),he=E.textContent.length,me=Math.min(A.start,he),ze=A.end===void 0?me:Math.min(A.end,he);!L.extend&&me>ze&&(C=ze,ze=me,me=C);var N=yc(E,me),R=yc(E,ze);if(N&&R&&(L.rangeCount!==1||L.anchorNode!==N.node||L.anchorOffset!==N.offset||L.focusNode!==R.node||L.focusOffset!==R.offset)){var D=F.createRange();D.setStart(N.node,N.offset),L.removeAllRanges(),me>ze?(L.addRange(D),L.extend(R.node,R.offset)):(D.setEnd(R.node,R.offset),L.addRange(D))}}}}for(F=[],L=E;L=L.parentNode;)L.nodeType===1&&F.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<F.length;E++){var z=F[E];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}ka=!!Jr,Kr=Jr=null}finally{qe=f,O.p=c,w.T=a}}t.current=i,yt=2}}function Ud(){if(yt===2){yt=0;var t=Xn,i=ao,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=w.T,w.T=null;var c=O.p;O.p=2;var f=qe;qe|=4;try{cd(t,i.alternate,i)}finally{qe=f,O.p=c,w.T=a}}yt=3}}function Ld(){if(yt===4||yt===3){yt=0,te();var t=Xn,i=ao,a=so,c=Sd;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?yt=5:(yt=0,ao=Xn=null,Vd(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(Kn=null),bo(a),i=i.stateNode,ut&&typeof ut.onCommitFiberRoot=="function")try{ut.onCommitFiberRoot(pt,i,void 0,(i.current.flags&128)===128)}catch{}if(c!==null){i=w.T,f=O.p,O.p=2,w.T=null;try{for(var g=t.onRecoverableError,C=0;C<c.length;C++){var E=c[C];g(E.value,{componentStack:E.stack})}}finally{w.T=i,O.p=f}}(so&3)!==0&&_a(),rn(t),f=t.pendingLanes,(a&4194090)!==0&&(f&42)!==0?t===Ir?cl++:(cl=0,Ir=t):cl=0,fl(0)}}function Vd(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Yo(i)))}function _a(t){return Id(),Ud(),Ld(),Pd()}function Pd(){if(yt!==5)return!1;var t=Xn,i=br;br=0;var a=bo(so),c=w.T,f=O.p;try{O.p=32>a?32:a,w.T=null,a=wr,wr=null;var g=Xn,C=so;if(yt=0,ao=Xn=null,so=0,(qe&6)!==0)throw Error(l(331));var E=qe;if(qe|=4,Td(g.current),hd(g,g.current,C,a),qe=E,fl(0,!1),ut&&typeof ut.onPostCommitFiberRoot=="function")try{ut.onPostCommitFiberRoot(pt,g)}catch{}return!0}finally{O.p=f,w.T=c,Vd(t,i)}}function kd(t,i,a){i=Ft(a,i),i=cr(t.stateNode,i,2),t=qn(t,i,2),t!==null&&(In(t,2),rn(t))}function Fe(t,i,a){if(t.tag===3)kd(t,t,a);else for(;i!==null;){if(i.tag===3){kd(i,t,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Kn===null||!Kn.has(c))){t=Ft(a,t),a=Bf(2),c=qn(i,a,2),c!==null&&(zf(a,c,i,t),In(c,2),rn(c));break}}i=i.return}}function Pr(t,i,a){var c=t.pingCache;if(c===null){c=t.pingCache=new oy;var f=new Set;c.set(i,f)}else f=c.get(i),f===void 0&&(f=new Set,c.set(i,f));f.has(a)||(Mr=!0,f.add(a),t=uy.bind(null,t,i,a),i.then(t,t))}function uy(t,i,a){var c=t.pingCache;c!==null&&c.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,Oe===t&&(Ie&a)===a&&(We===4||We===3&&(Ie&62914560)===Ie&&300>K()-Dr?(qe&2)===0&&ro(t,0):Rr|=a,lo===Ie&&(lo=0)),rn(t)}function qd(t,i){i===0&&(i=Ro()),t=Yi(t,i),t!==null&&(In(t,i),rn(t))}function cy(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),qd(t,a)}function fy(t,i){var a=0;switch(t.tag){case 13:var c=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:c=t.stateNode;break;case 22:c=t.stateNode._retryCache;break;default:throw Error(l(314))}c!==null&&c.delete(i),qd(t,a)}function dy(t,i){return nn(t,i)}var Ma=null,co=null,kr=!1,Ra=!1,qr=!1,Si=0;function rn(t){t!==co&&t.next===null&&(co===null?Ma=co=t:co=co.next=t),Ra=!0,kr||(kr=!0,py())}function fl(t,i){if(!qr&&Ra){qr=!0;do for(var a=!1,c=Ma;c!==null;){if(t!==0){var f=c.pendingLanes;if(f===0)var g=0;else{var C=c.suspendedLanes,E=c.pingedLanes;g=(1<<31-gt(42|t)+1)-1,g&=f&~(C&~E),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(a=!0,zd(c,g))}else g=Ie,g=Di(c,c===Oe?g:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(g&3)===0||oi(c,g)||(a=!0,zd(c,g));c=c.next}while(a);qr=!1}}function my(){Hd()}function Hd(){Ra=kr=!1;var t=0;Si!==0&&(xy()&&(t=Si),Si=0);for(var i=K(),a=null,c=Ma;c!==null;){var f=c.next,g=Gd(c,i);g===0?(c.next=null,a===null?Ma=f:a.next=f,f===null&&(co=a)):(a=c,(t!==0||(g&3)!==0)&&(Ra=!0)),c=f}fl(t)}function Gd(t,i){for(var a=t.suspendedLanes,c=t.pingedLanes,f=t.expirationTimes,g=t.pendingLanes&-62914561;0<g;){var C=31-gt(g),E=1<<C,A=f[C];A===-1?((E&a)===0||(E&c)!==0)&&(f[C]=Mo(E,i)):A<=i&&(t.expiredLanes|=E),g&=~E}if(i=Oe,a=Ie,a=Di(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c=t.callbackNode,a===0||t===i&&(He===2||He===9)||t.cancelPendingCommit!==null)return c!==null&&c!==null&&k(c),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||oi(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(c!==null&&k(c),bo(a)){case 2:case 8:a=Te;break;case 32:a=Ve;break;case 268435456:a=Ne;break;default:a=Ve}return c=Bd.bind(null,t),a=nn(a,c),t.callbackPriority=i,t.callbackNode=a,i}return c!==null&&c!==null&&k(c),t.callbackPriority=2,t.callbackNode=null,2}function Bd(t,i){if(yt!==0&&yt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(_a()&&t.callbackNode!==a)return null;var c=Ie;return c=Di(t,t===Oe?c:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),c===0?null:(Ed(t,c,i),Gd(t,K()),t.callbackNode!=null&&t.callbackNode===a?Bd.bind(null,t):null)}function zd(t,i){if(_a())return null;Ed(t,i,!0)}function py(){Ay(function(){(qe&6)!==0?nn(ve,my):Hd()})}function Hr(){return Si===0&&(Si=bi()),Si}function Fd(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:ql(""+t)}function Yd(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function gy(t,i,a,c,f){if(i==="submit"&&a&&a.stateNode===f){var g=Fd((f[De]||null).action),C=c.submitter;C&&(i=(i=C[De]||null)?Fd(i.formAction):C.getAttribute("formAction"),i!==null&&(g=i,C=null));var E=new zl("action","action",null,c,f);t.push({event:E,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Si!==0){var A=C?Yd(f,C):new FormData(f);lr(a,{pending:!0,data:A,method:f.method,action:g},null,A)}}else typeof g=="function"&&(E.preventDefault(),A=C?Yd(f,C):new FormData(f),lr(a,{pending:!0,data:A,method:f.method,action:g},g,A))},currentTarget:f}]})}}for(var Gr=0;Gr<As.length;Gr++){var Br=As[Gr],hy=Br.toLowerCase(),yy=Br[0].toUpperCase()+Br.slice(1);Wt(hy,"on"+yy)}Wt(xc,"onAnimationEnd"),Wt(Ec,"onAnimationIteration"),Wt(Ac,"onAnimationStart"),Wt("dblclick","onDoubleClick"),Wt("focusin","onFocus"),Wt("focusout","onBlur"),Wt(Lh,"onTransitionRun"),Wt(Vh,"onTransitionStart"),Wt(Ph,"onTransitionCancel"),Wt(_c,"onTransitionEnd"),Li("onMouseEnter",["mouseout","mouseover"]),Li("onMouseLeave",["mouseout","mouseover"]),Li("onPointerEnter",["pointerout","pointerover"]),Li("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function Od(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var c=t[a],f=c.event;c=c.listeners;e:{var g=void 0;if(i)for(var C=c.length-1;0<=C;C--){var E=c[C],A=E.instance,b=E.currentTarget;if(E=E.listener,A!==g&&f.isPropagationStopped())break e;g=E,f.currentTarget=b;try{g(f)}catch(G){pa(G)}f.currentTarget=null,g=A}else for(C=0;C<c.length;C++){if(E=c[C],A=E.instance,b=E.currentTarget,E=E.listener,A!==g&&f.isPropagationStopped())break e;g=E,f.currentTarget=b;try{g(f)}catch(G){pa(G)}f.currentTarget=null,g=A}}}}function Re(t,i){var a=i[nt];a===void 0&&(a=i[nt]=new Set);var c=t+"__bubble";a.has(c)||(Jd(i,t,2,!1),a.add(c))}function zr(t,i,a){var c=0;i&&(c|=4),Jd(a,t,c,i)}var Na="_reactListening"+Math.random().toString(36).slice(2);function Fr(t){if(!t[Na]){t[Na]=!0,qu.forEach(function(a){a!=="selectionchange"&&(vy.has(a)||zr(a,!1,t),zr(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[Na]||(i[Na]=!0,zr("selectionchange",!1,i))}}function Jd(t,i,a,c){switch(hm(i)){case 2:var f=Oy;break;case 8:f=Jy;break;default:f=iu}a=f.bind(null,i,a,t),f=void 0,!fs||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(f=!0),c?f!==void 0?t.addEventListener(i,a,{capture:!0,passive:f}):t.addEventListener(i,a,!0):f!==void 0?t.addEventListener(i,a,{passive:f}):t.addEventListener(i,a,!1)}function Yr(t,i,a,c,f){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var C=c.tag;if(C===3||C===4){var E=c.stateNode.containerInfo;if(E===f)break;if(C===4)for(C=c.return;C!==null;){var A=C.tag;if((A===3||A===4)&&C.stateNode.containerInfo===f)return;C=C.return}for(;E!==null;){if(C=Qe(E),C===null)return;if(A=C.tag,A===5||A===6||A===26||A===27){c=g=C;continue e}E=E.parentNode}}c=c.return}Wu(function(){var b=g,G=us(a),F=[];e:{var I=Mc.get(t);if(I!==void 0){var L=zl,he=t;switch(t){case"keypress":if(Gl(a)===0)break e;case"keydown":case"keyup":L=dh;break;case"focusin":he="focus",L=gs;break;case"focusout":he="blur",L=gs;break;case"beforeblur":case"afterblur":L=gs;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=tc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=eh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=gh;break;case xc:case Ec:case Ac:L=ih;break;case _c:L=yh;break;case"scroll":case"scrollend":L=Wg;break;case"wheel":L=Th;break;case"copy":case"cut":case"paste":L=lh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=ic;break;case"toggle":case"beforetoggle":L=Sh}var me=(i&4)!==0,ze=!me&&(t==="scroll"||t==="scrollend"),N=me?I!==null?I+"Capture":null:I;me=[];for(var R=b,D;R!==null;){var z=R;if(D=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||D===null||N===null||(z=wo(R,N),z!=null&&me.push(ml(R,z,D))),ze)break;R=R.return}0<me.length&&(I=new L(I,he,null,a,G),F.push({event:I,listeners:me}))}}if((i&7)===0){e:{if(I=t==="mouseover"||t==="pointerover",L=t==="mouseout"||t==="pointerout",I&&a!==rs&&(he=a.relatedTarget||a.fromElement)&&(Qe(he)||he[Ye]))break e;if((L||I)&&(I=G.window===G?G:(I=G.ownerDocument)?I.defaultView||I.parentWindow:window,L?(he=a.relatedTarget||a.toElement,L=b,he=he?Qe(he):null,he!==null&&(ze=d(he),me=he.tag,he!==ze||me!==5&&me!==27&&me!==6)&&(he=null)):(L=null,he=b),L!==he)){if(me=tc,z="onMouseLeave",N="onMouseEnter",R="mouse",(t==="pointerout"||t==="pointerover")&&(me=ic,z="onPointerLeave",N="onPointerEnter",R="pointer"),ze=L==null?I:gn(L),D=he==null?I:gn(he),I=new me(z,R+"leave",L,a,G),I.target=ze,I.relatedTarget=D,z=null,Qe(G)===b&&(me=new me(N,R+"enter",he,a,G),me.target=D,me.relatedTarget=ze,z=me),ze=z,L&&he)t:{for(me=L,N=he,R=0,D=me;D;D=fo(D))R++;for(D=0,z=N;z;z=fo(z))D++;for(;0<R-D;)me=fo(me),R--;for(;0<D-R;)N=fo(N),D--;for(;R--;){if(me===N||N!==null&&me===N.alternate)break t;me=fo(me),N=fo(N)}me=null}else me=null;L!==null&&Kd(F,I,L,me,!1),he!==null&&ze!==null&&Kd(F,ze,he,me,!0)}}e:{if(I=b?gn(b):window,L=I.nodeName&&I.nodeName.toLowerCase(),L==="select"||L==="input"&&I.type==="file")var oe=fc;else if(uc(I))if(dc)oe=wh;else{oe=Dh;var Ae=Nh}else L=I.nodeName,!L||L.toLowerCase()!=="input"||I.type!=="checkbox"&&I.type!=="radio"?b&&ss(b.elementType)&&(oe=fc):oe=bh;if(oe&&(oe=oe(t,b))){cc(F,oe,a,G);break e}Ae&&Ae(t,I,b),t==="focusout"&&b&&I.type==="number"&&b.memoizedProps.value!=null&&as(I,"number",I.value)}switch(Ae=b?gn(b):window,t){case"focusin":(uc(Ae)||Ae.contentEditable==="true")&&(Bi=Ae,Ss=b,Ho=null);break;case"focusout":Ho=Ss=Bi=null;break;case"mousedown":xs=!0;break;case"contextmenu":case"mouseup":case"dragend":xs=!1,Cc(F,a,G);break;case"selectionchange":if(Uh)break;case"keydown":case"keyup":Cc(F,a,G)}var ce;if(ys)e:{switch(t){case"compositionstart":var pe="onCompositionStart";break e;case"compositionend":pe="onCompositionEnd";break e;case"compositionupdate":pe="onCompositionUpdate";break e}pe=void 0}else Gi?sc(t,a)&&(pe="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(pe="onCompositionStart");pe&&(oc&&a.locale!=="ko"&&(Gi||pe!=="onCompositionStart"?pe==="onCompositionEnd"&&Gi&&(ce=ju()):(Ln=G,ds="value"in Ln?Ln.value:Ln.textContent,Gi=!0)),Ae=Da(b,pe),0<Ae.length&&(pe=new nc(pe,t,null,a,G),F.push({event:pe,listeners:Ae}),ce?pe.data=ce:(ce=rc(a),ce!==null&&(pe.data=ce)))),(ce=Eh?Ah(t,a):_h(t,a))&&(pe=Da(b,"onBeforeInput"),0<pe.length&&(Ae=new nc("onBeforeInput","beforeinput",null,a,G),F.push({event:Ae,listeners:pe}),Ae.data=ce)),gy(F,t,b,a,G)}Od(F,i)})}function ml(t,i,a){return{instance:t,listener:i,currentTarget:a}}function Da(t,i){for(var a=i+"Capture",c=[];t!==null;){var f=t,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=wo(t,a),f!=null&&c.unshift(ml(t,f,g)),f=wo(t,i),f!=null&&c.push(ml(t,f,g))),t.tag===3)return c;t=t.return}return[]}function fo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Kd(t,i,a,c,f){for(var g=i._reactName,C=[];a!==null&&a!==c;){var E=a,A=E.alternate,b=E.stateNode;if(E=E.tag,A!==null&&A===c)break;E!==5&&E!==26&&E!==27||b===null||(A=b,f?(b=wo(a,g),b!=null&&C.unshift(ml(a,b,A))):f||(b=wo(a,g),b!=null&&C.push(ml(a,b,A)))),a=a.return}C.length!==0&&t.push({event:i,listeners:C})}var Ty=/\r\n?/g,Cy=/\u0000|\uFFFD/g;function Xd(t){return(typeof t=="string"?t:""+t).replace(Ty,`
`).replace(Cy,"")}function Qd(t,i){return i=Xd(i),Xd(t)===i}function ba(){}function Be(t,i,a,c,f,g){switch(a){case"children":typeof c=="string"?i==="body"||i==="textarea"&&c===""||ki(t,c):(typeof c=="number"||typeof c=="bigint")&&i!=="body"&&ki(t,""+c);break;case"className":Vl(t,"class",c);break;case"tabIndex":Vl(t,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Vl(t,a,c);break;case"style":$u(t,c,g);break;case"data":if(i!=="object"){Vl(t,"data",c);break}case"src":case"href":if(c===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=ql(""+c),t.setAttribute(a,c);break;case"action":case"formAction":if(typeof c=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(a==="formAction"?(i!=="input"&&Be(t,i,"name",f.name,f,null),Be(t,i,"formEncType",f.formEncType,f,null),Be(t,i,"formMethod",f.formMethod,f,null),Be(t,i,"formTarget",f.formTarget,f,null)):(Be(t,i,"encType",f.encType,f,null),Be(t,i,"method",f.method,f,null),Be(t,i,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){t.removeAttribute(a);break}c=ql(""+c),t.setAttribute(a,c);break;case"onClick":c!=null&&(t.onclick=ba);break;case"onScroll":c!=null&&Re("scroll",t);break;case"onScrollEnd":c!=null&&Re("scrollend",t);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(l(60));t.innerHTML=a}}break;case"multiple":t.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":t.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){t.removeAttribute("xlink:href");break}a=ql(""+c),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""+c):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":c===!0?t.setAttribute(a,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?t.setAttribute(a,c):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?t.setAttribute(a,c):t.removeAttribute(a);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?t.removeAttribute(a):t.setAttribute(a,c);break;case"popover":Re("beforetoggle",t),Re("toggle",t),Ll(t,"popover",c);break;case"xlinkActuate":hn(t,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":hn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":hn(t,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":hn(t,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":hn(t,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":hn(t,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":hn(t,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":hn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":hn(t,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ll(t,"is",c);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=$g.get(a)||a,Ll(t,a,c))}}function Or(t,i,a,c,f,g){switch(a){case"style":$u(t,c,g);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(l(61));if(a=c.__html,a!=null){if(f.children!=null)throw Error(l(60));t.innerHTML=a}}break;case"children":typeof c=="string"?ki(t,c):(typeof c=="number"||typeof c=="bigint")&&ki(t,""+c);break;case"onScroll":c!=null&&Re("scroll",t);break;case"onScrollEnd":c!=null&&Re("scrollend",t);break;case"onClick":c!=null&&(t.onclick=ba);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Hu.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),i=a.slice(2,f?a.length-7:void 0),g=t[De]||null,g=g!=null?g[a]:null,typeof g=="function"&&t.removeEventListener(i,g,f),typeof c=="function")){typeof g!="function"&&g!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,c,f);break e}a in t?t[a]=c:c===!0?t.setAttribute(a,""):Ll(t,a,c)}}}function vt(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Re("error",t),Re("load",t);var c=!1,f=!1,g;for(g in a)if(a.hasOwnProperty(g)){var C=a[g];if(C!=null)switch(g){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Be(t,i,g,C,a,null)}}f&&Be(t,i,"srcSet",a.srcSet,a,null),c&&Be(t,i,"src",a.src,a,null);return;case"input":Re("invalid",t);var E=g=C=f=null,A=null,b=null;for(c in a)if(a.hasOwnProperty(c)){var G=a[c];if(G!=null)switch(c){case"name":f=G;break;case"type":C=G;break;case"checked":A=G;break;case"defaultChecked":b=G;break;case"value":g=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(l(137,i));break;default:Be(t,i,c,G,a,null)}}Ju(t,g,E,A,b,C,f,!1),Pl(t);return;case"select":Re("invalid",t),c=C=g=null;for(f in a)if(a.hasOwnProperty(f)&&(E=a[f],E!=null))switch(f){case"value":g=E;break;case"defaultValue":C=E;break;case"multiple":c=E;default:Be(t,i,f,E,a,null)}i=g,a=C,t.multiple=!!c,i!=null?Pi(t,!!c,i,!1):a!=null&&Pi(t,!!c,a,!0);return;case"textarea":Re("invalid",t),g=f=c=null;for(C in a)if(a.hasOwnProperty(C)&&(E=a[C],E!=null))switch(C){case"value":c=E;break;case"defaultValue":f=E;break;case"children":g=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(l(91));break;default:Be(t,i,C,E,a,null)}Xu(t,c,f,g),Pl(t);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(c=a[A],c!=null))switch(A){case"selected":t.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Be(t,i,A,c,a,null)}return;case"dialog":Re("beforetoggle",t),Re("toggle",t),Re("cancel",t),Re("close",t);break;case"iframe":case"object":Re("load",t);break;case"video":case"audio":for(c=0;c<dl.length;c++)Re(dl[c],t);break;case"image":Re("error",t),Re("load",t);break;case"details":Re("toggle",t);break;case"embed":case"source":case"link":Re("error",t),Re("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(b in a)if(a.hasOwnProperty(b)&&(c=a[b],c!=null))switch(b){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,i));default:Be(t,i,b,c,a,null)}return;default:if(ss(i)){for(G in a)a.hasOwnProperty(G)&&(c=a[G],c!==void 0&&Or(t,i,G,c,a,void 0));return}}for(E in a)a.hasOwnProperty(E)&&(c=a[E],c!=null&&Be(t,i,E,c,a,null))}function Sy(t,i,a,c){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,C=null,E=null,A=null,b=null,G=null;for(L in a){var F=a[L];if(a.hasOwnProperty(L)&&F!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":A=F;default:c.hasOwnProperty(L)||Be(t,i,L,null,c,F)}}for(var I in c){var L=c[I];if(F=a[I],c.hasOwnProperty(I)&&(L!=null||F!=null))switch(I){case"type":g=L;break;case"name":f=L;break;case"checked":b=L;break;case"defaultChecked":G=L;break;case"value":C=L;break;case"defaultValue":E=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(l(137,i));break;default:L!==F&&Be(t,i,I,L,c,F)}}ls(t,C,E,A,b,G,g,f);return;case"select":L=C=E=I=null;for(g in a)if(A=a[g],a.hasOwnProperty(g)&&A!=null)switch(g){case"value":break;case"multiple":L=A;default:c.hasOwnProperty(g)||Be(t,i,g,null,c,A)}for(f in c)if(g=c[f],A=a[f],c.hasOwnProperty(f)&&(g!=null||A!=null))switch(f){case"value":I=g;break;case"defaultValue":E=g;break;case"multiple":C=g;default:g!==A&&Be(t,i,f,g,c,A)}i=E,a=C,c=L,I!=null?Pi(t,!!a,I,!1):!!c!=!!a&&(i!=null?Pi(t,!!a,i,!0):Pi(t,!!a,a?[]:"",!1));return;case"textarea":L=I=null;for(E in a)if(f=a[E],a.hasOwnProperty(E)&&f!=null&&!c.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Be(t,i,E,null,c,f)}for(C in c)if(f=c[C],g=a[C],c.hasOwnProperty(C)&&(f!=null||g!=null))switch(C){case"value":I=f;break;case"defaultValue":L=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(l(91));break;default:f!==g&&Be(t,i,C,f,c,g)}Ku(t,I,L);return;case"option":for(var he in a)if(I=a[he],a.hasOwnProperty(he)&&I!=null&&!c.hasOwnProperty(he))switch(he){case"selected":t.selected=!1;break;default:Be(t,i,he,null,c,I)}for(A in c)if(I=c[A],L=a[A],c.hasOwnProperty(A)&&I!==L&&(I!=null||L!=null))switch(A){case"selected":t.selected=I&&typeof I!="function"&&typeof I!="symbol";break;default:Be(t,i,A,I,c,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in a)I=a[me],a.hasOwnProperty(me)&&I!=null&&!c.hasOwnProperty(me)&&Be(t,i,me,null,c,I);for(b in c)if(I=c[b],L=a[b],c.hasOwnProperty(b)&&I!==L&&(I!=null||L!=null))switch(b){case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(l(137,i));break;default:Be(t,i,b,I,c,L)}return;default:if(ss(i)){for(var ze in a)I=a[ze],a.hasOwnProperty(ze)&&I!==void 0&&!c.hasOwnProperty(ze)&&Or(t,i,ze,void 0,c,I);for(G in c)I=c[G],L=a[G],!c.hasOwnProperty(G)||I===L||I===void 0&&L===void 0||Or(t,i,G,I,c,L);return}}for(var N in a)I=a[N],a.hasOwnProperty(N)&&I!=null&&!c.hasOwnProperty(N)&&Be(t,i,N,null,c,I);for(F in c)I=c[F],L=a[F],!c.hasOwnProperty(F)||I===L||I==null&&L==null||Be(t,i,F,I,c,L)}var Jr=null,Kr=null;function wa(t){return t.nodeType===9?t:t.ownerDocument}function $d(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zd(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Xr(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Qr=null;function xy(){var t=window.event;return t&&t.type==="popstate"?t===Qr?!1:(Qr=t,!0):(Qr=null,!1)}var Wd=typeof setTimeout=="function"?setTimeout:void 0,Ey=typeof clearTimeout=="function"?clearTimeout:void 0,jd=typeof Promise=="function"?Promise:void 0,Ay=typeof queueMicrotask=="function"?queueMicrotask:typeof jd<"u"?function(t){return jd.resolve(null).then(t).catch(_y)}:Wd;function _y(t){setTimeout(function(){throw t})}function $n(t){return t==="head"}function em(t,i){var a=i,c=0,f=0;do{var g=a.nextSibling;if(t.removeChild(a),g&&g.nodeType===8)if(a=g.data,a==="/$"){if(0<c&&8>c){a=c;var C=t.ownerDocument;if(a&1&&pl(C.documentElement),a&2&&pl(C.body),a&4)for(a=C.head,pl(a),C=a.firstChild;C;){var E=C.nextSibling,A=C.nodeName;C[Zt]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&C.rel.toLowerCase()==="stylesheet"||a.removeChild(C),C=E}}if(f===0){t.removeChild(g),xl(i);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:c=a.charCodeAt(0)-48;else c=0;a=g}while(a);xl(i)}function $r(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":$r(a),Ii(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function My(t,i,a,c){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!c&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(c){if(!t[Zt])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(g=t.getAttribute("rel"),g==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(g!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(g=t.getAttribute("src"),(g!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===g)return t}else return t;if(t=en(t.nextSibling),t===null)break}return null}function Ry(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=en(t.nextSibling),t===null))return null;return t}function Zr(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function Ny(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var c=function(){i(),a.removeEventListener("DOMContentLoaded",c)};a.addEventListener("DOMContentLoaded",c),t._reactRetry=c}}function en(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Wr=null;function tm(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function nm(t,i,a){switch(i=wa(a),t){case"html":if(t=i.documentElement,!t)throw Error(l(452));return t;case"head":if(t=i.head,!t)throw Error(l(453));return t;case"body":if(t=i.body,!t)throw Error(l(454));return t;default:throw Error(l(451))}}function pl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);Ii(t)}var Qt=new Map,im=new Set;function Ia(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var bn=O.d;O.d={f:Dy,r:by,D:wy,C:Iy,L:Uy,m:Ly,X:Py,S:Vy,M:ky};function Dy(){var t=bn.f(),i=Ea();return t||i}function by(t){var i=Gt(t);i!==null&&i.tag===5&&i.type==="form"?Ef(i):bn.r(t)}var mo=typeof document>"u"?null:document;function om(t,i,a){var c=mo;if(c&&typeof i=="string"&&i){var f=zt(i);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),im.has(f)||(im.add(f),t={rel:t,crossOrigin:a,href:i},c.querySelector(f)===null&&(i=c.createElement("link"),vt(i,"link",t),ct(i),c.head.appendChild(i)))}}function wy(t){bn.D(t),om("dns-prefetch",t,null)}function Iy(t,i){bn.C(t,i),om("preconnect",t,i)}function Uy(t,i,a){bn.L(t,i,a);var c=mo;if(c&&t&&i){var f='link[rel="preload"][as="'+zt(i)+'"]';i==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+zt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+zt(a.imageSizes)+'"]')):f+='[href="'+zt(t)+'"]';var g=f;switch(i){case"style":g=po(t);break;case"script":g=go(t)}Qt.has(g)||(t=v({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Qt.set(g,t),c.querySelector(f)!==null||i==="style"&&c.querySelector(gl(g))||i==="script"&&c.querySelector(hl(g))||(i=c.createElement("link"),vt(i,"link",t),ct(i),c.head.appendChild(i)))}}function Ly(t,i){bn.m(t,i);var a=mo;if(a&&t){var c=i&&typeof i.as=="string"?i.as:"script",f='link[rel="modulepreload"][as="'+zt(c)+'"][href="'+zt(t)+'"]',g=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=go(t)}if(!Qt.has(g)&&(t=v({rel:"modulepreload",href:t},i),Qt.set(g,t),a.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(hl(g)))return}c=a.createElement("link"),vt(c,"link",t),ct(c),a.head.appendChild(c)}}}function Vy(t,i,a){bn.S(t,i,a);var c=mo;if(c&&t){var f=Ui(c).hoistableStyles,g=po(t);i=i||"default";var C=f.get(g);if(!C){var E={loading:0,preload:null};if(C=c.querySelector(gl(g)))E.loading=5;else{t=v({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Qt.get(g))&&jr(t,a);var A=C=c.createElement("link");ct(A),vt(A,"link",t),A._p=new Promise(function(b,G){A.onload=b,A.onerror=G}),A.addEventListener("load",function(){E.loading|=1}),A.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Ua(C,i,c)}C={type:"stylesheet",instance:C,count:1,state:E},f.set(g,C)}}}function Py(t,i){bn.X(t,i);var a=mo;if(a&&t){var c=Ui(a).hoistableScripts,f=go(t),g=c.get(f);g||(g=a.querySelector(hl(f)),g||(t=v({src:t,async:!0},i),(i=Qt.get(f))&&eu(t,i),g=a.createElement("script"),ct(g),vt(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function ky(t,i){bn.M(t,i);var a=mo;if(a&&t){var c=Ui(a).hoistableScripts,f=go(t),g=c.get(f);g||(g=a.querySelector(hl(f)),g||(t=v({src:t,async:!0,type:"module"},i),(i=Qt.get(f))&&eu(t,i),g=a.createElement("script"),ct(g),vt(g,"link",t),a.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},c.set(f,g))}}function lm(t,i,a,c){var f=(f=ge.current)?Ia(f):null;if(!f)throw Error(l(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=po(a.href),a=Ui(f).hoistableStyles,c=a.get(i),c||(c={type:"style",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=po(a.href);var g=Ui(f).hoistableStyles,C=g.get(t);if(C||(f=f.ownerDocument||f,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(t,C),(g=f.querySelector(gl(t)))&&!g._p&&(C.instance=g,C.state.loading=5),Qt.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Qt.set(t,a),g||qy(f,t,a,C.state))),i&&c===null)throw Error(l(528,""));return C}if(i&&c!==null)throw Error(l(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=go(a),a=Ui(f).hoistableScripts,c=a.get(i),c||(c={type:"script",instance:null,count:0,state:null},a.set(i,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,t))}}function po(t){return'href="'+zt(t)+'"'}function gl(t){return'link[rel="stylesheet"]['+t+"]"}function am(t){return v({},t,{"data-precedence":t.precedence,precedence:null})}function qy(t,i,a,c){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?c.loading=1:(i=t.createElement("link"),c.preload=i,i.addEventListener("load",function(){return c.loading|=1}),i.addEventListener("error",function(){return c.loading|=2}),vt(i,"link",a),ct(i),t.head.appendChild(i))}function go(t){return'[src="'+zt(t)+'"]'}function hl(t){return"script[async]"+t}function sm(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var c=t.querySelector('style[data-href~="'+zt(a.href)+'"]');if(c)return i.instance=c,ct(c),c;var f=v({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return c=(t.ownerDocument||t).createElement("style"),ct(c),vt(c,"style",f),Ua(c,a.precedence,t),i.instance=c;case"stylesheet":f=po(a.href);var g=t.querySelector(gl(f));if(g)return i.state.loading|=4,i.instance=g,ct(g),g;c=am(a),(f=Qt.get(f))&&jr(c,f),g=(t.ownerDocument||t).createElement("link"),ct(g);var C=g;return C._p=new Promise(function(E,A){C.onload=E,C.onerror=A}),vt(g,"link",c),i.state.loading|=4,Ua(g,a.precedence,t),i.instance=g;case"script":return g=go(a.src),(f=t.querySelector(hl(g)))?(i.instance=f,ct(f),f):(c=a,(f=Qt.get(g))&&(c=v({},a),eu(c,f)),t=t.ownerDocument||t,f=t.createElement("script"),ct(f),vt(f,"link",c),t.head.appendChild(f),i.instance=f);case"void":return null;default:throw Error(l(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(c=i.instance,i.state.loading|=4,Ua(c,a.precedence,t));return i.instance}function Ua(t,i,a){for(var c=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,g=f,C=0;C<c.length;C++){var E=c[C];if(E.dataset.precedence===i)g=E;else if(g!==f)break}g?g.parentNode.insertBefore(t,g.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function jr(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function eu(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var La=null;function rm(t,i,a){if(La===null){var c=new Map,f=La=new Map;f.set(a,c)}else f=La,c=f.get(a),c||(c=new Map,f.set(a,c));if(c.has(t))return c;for(c.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var g=a[f];if(!(g[Zt]||g[ue]||t==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var C=g.getAttribute(i)||"";C=t+C;var E=c.get(C);E?E.push(g):c.set(C,[g])}}return c}function um(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function Hy(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function cm(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var yl=null;function Gy(){}function By(t,i,a){if(yl===null)throw Error(l(475));var c=yl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=po(a.href),g=t.querySelector(gl(f));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(c.count++,c=Va.bind(c),t.then(c,c)),i.state.loading|=4,i.instance=g,ct(g);return}g=t.ownerDocument||t,a=am(a),(f=Qt.get(f))&&jr(a,f),g=g.createElement("link"),ct(g);var C=g;C._p=new Promise(function(E,A){C.onload=E,C.onerror=A}),vt(g,"link",a),i.instance=g}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(c.count++,i=Va.bind(c),t.addEventListener("load",i),t.addEventListener("error",i))}}function zy(){if(yl===null)throw Error(l(475));var t=yl;return t.stylesheets&&t.count===0&&tu(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&tu(t,t.stylesheets),t.unsuspend){var c=t.unsuspend;t.unsuspend=null,c()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Va(){if(this.count--,this.count===0){if(this.stylesheets)tu(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Pa=null;function tu(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Pa=new Map,i.forEach(Fy,t),Pa=null,Va.call(t))}function Fy(t,i){if(!(i.state.loading&4)){var a=Pa.get(t);if(a)var c=a.get(null);else{a=new Map,Pa.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var C=f[g];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(a.set(C.dataset.precedence,C),c=C)}c&&a.set(null,c)}f=i.instance,C=f.getAttribute("data-precedence"),g=a.get(C)||c,g===c&&a.set(null,f),a.set(C,f),this.count++,c=Va.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),g?g.parentNode.insertBefore(f,g.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),i.state.loading|=4}}var vl={$$typeof:Q,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function Yy(t,i,a,c,f,g,C,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.hiddenUpdates=wi(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function fm(t,i,a,c,f,g,C,E,A,b,G,F){return t=new Yy(t,i,a,C,E,A,b,F),i=1,g===!0&&(i|=24),g=Ut(3,null,null,i),t.current=g,g.stateNode=t,i=Ps(),i.refCount++,t.pooledCache=i,i.refCount++,g.memoizedState={element:c,isDehydrated:a,cache:i},Gs(g),t}function dm(t){return t?(t=Oi,t):Oi}function mm(t,i,a,c,f,g){f=dm(f),c.context===null?c.context=f:c.pendingContext=f,c=kn(i),c.payload={element:a},g=g===void 0?null:g,g!==null&&(c.callback=g),a=qn(t,c,i),a!==null&&(qt(a,t,i),Xo(a,t,i))}function pm(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function nu(t,i){pm(t,i),(t=t.alternate)&&pm(t,i)}function gm(t){if(t.tag===13){var i=Yi(t,67108864);i!==null&&qt(i,t,67108864),nu(t,67108864)}}var ka=!0;function Oy(t,i,a,c){var f=w.T;w.T=null;var g=O.p;try{O.p=2,iu(t,i,a,c)}finally{O.p=g,w.T=f}}function Jy(t,i,a,c){var f=w.T;w.T=null;var g=O.p;try{O.p=8,iu(t,i,a,c)}finally{O.p=g,w.T=f}}function iu(t,i,a,c){if(ka){var f=ou(c);if(f===null)Yr(t,i,c,qa,a),ym(t,c);else if(Xy(f,t,i,a,c))c.stopPropagation();else if(ym(t,c),i&4&&-1<Ky.indexOf(t)){for(;f!==null;){var g=Gt(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var C=pn(g.pendingLanes);if(C!==0){var E=g;for(E.pendingLanes|=2,E.entangledLanes|=2;C;){var A=1<<31-gt(C);E.entanglements[1]|=A,C&=~A}rn(g),(qe&6)===0&&(Sa=K()+500,fl(0))}}break;case 13:E=Yi(g,2),E!==null&&qt(E,g,2),Ea(),nu(g,2)}if(g=ou(c),g===null&&Yr(t,i,c,qa,a),g===f)break;f=g}f!==null&&c.stopPropagation()}else Yr(t,i,c,null,a)}}function ou(t){return t=us(t),lu(t)}var qa=null;function lu(t){if(qa=null,t=Qe(t),t!==null){var i=d(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=m(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return qa=t,null}function hm(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_e()){case ve:return 2;case Te:return 8;case Ve:case ke:return 32;case Ne:return 268435456;default:return 32}default:return 32}}var au=!1,Zn=null,Wn=null,jn=null,Tl=new Map,Cl=new Map,ei=[],Ky="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ym(t,i){switch(t){case"focusin":case"focusout":Zn=null;break;case"dragenter":case"dragleave":Wn=null;break;case"mouseover":case"mouseout":jn=null;break;case"pointerover":case"pointerout":Tl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cl.delete(i.pointerId)}}function Sl(t,i,a,c,f,g){return t===null||t.nativeEvent!==g?(t={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[f]},i!==null&&(i=Gt(i),i!==null&&gm(i)),t):(t.eventSystemFlags|=c,i=t.targetContainers,f!==null&&i.indexOf(f)===-1&&i.push(f),t)}function Xy(t,i,a,c,f){switch(i){case"focusin":return Zn=Sl(Zn,t,i,a,c,f),!0;case"dragenter":return Wn=Sl(Wn,t,i,a,c,f),!0;case"mouseover":return jn=Sl(jn,t,i,a,c,f),!0;case"pointerover":var g=f.pointerId;return Tl.set(g,Sl(Tl.get(g)||null,t,i,a,c,f)),!0;case"gotpointercapture":return g=f.pointerId,Cl.set(g,Sl(Cl.get(g)||null,t,i,a,c,f)),!0}return!1}function vm(t){var i=Qe(t.target);if(i!==null){var a=d(i);if(a!==null){if(i=a.tag,i===13){if(i=m(a),i!==null){t.blockedOn=i,ts(t.priority,function(){if(a.tag===13){var c=kt();c=Do(c);var f=Yi(a,c);f!==null&&qt(f,a,c),nu(a,c)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ha(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=ou(t.nativeEvent);if(a===null){a=t.nativeEvent;var c=new a.constructor(a.type,a);rs=c,a.target.dispatchEvent(c),rs=null}else return i=Gt(a),i!==null&&gm(i),t.blockedOn=a,!1;i.shift()}return!0}function Tm(t,i,a){Ha(t)&&a.delete(i)}function Qy(){au=!1,Zn!==null&&Ha(Zn)&&(Zn=null),Wn!==null&&Ha(Wn)&&(Wn=null),jn!==null&&Ha(jn)&&(jn=null),Tl.forEach(Tm),Cl.forEach(Tm)}function Ga(t,i){t.blockedOn===i&&(t.blockedOn=null,au||(au=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Qy)))}var Ba=null;function Cm(t){Ba!==t&&(Ba=t,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ba===t&&(Ba=null);for(var i=0;i<t.length;i+=3){var a=t[i],c=t[i+1],f=t[i+2];if(typeof c!="function"){if(lu(c||a)===null)continue;break}var g=Gt(a);g!==null&&(t.splice(i,3),i-=3,lr(g,{pending:!0,data:f,method:a.method,action:c},c,f))}}))}function xl(t){function i(A){return Ga(A,t)}Zn!==null&&Ga(Zn,t),Wn!==null&&Ga(Wn,t),jn!==null&&Ga(jn,t),Tl.forEach(i),Cl.forEach(i);for(var a=0;a<ei.length;a++){var c=ei[a];c.blockedOn===t&&(c.blockedOn=null)}for(;0<ei.length&&(a=ei[0],a.blockedOn===null);)vm(a),a.blockedOn===null&&ei.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(c=0;c<a.length;c+=3){var f=a[c],g=a[c+1],C=f[De]||null;if(typeof g=="function")C||Cm(a);else if(C){var E=null;if(g&&g.hasAttribute("formAction")){if(f=g,C=g[De]||null)E=C.formAction;else if(lu(f)!==null)continue}else E=C.action;typeof E=="function"?a[c+1]=E:(a.splice(c,3),c-=3),Cm(a)}}}function su(t){this._internalRoot=t}za.prototype.render=su.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(l(409));var a=i.current,c=kt();mm(a,c,t,i,null,null)},za.prototype.unmount=su.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;mm(t.current,2,null,t,null,null),Ea(),i[Ye]=null}};function za(t){this._internalRoot=t}za.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ul();t={blockedOn:null,target:t,priority:i};for(var a=0;a<ei.length&&i!==0&&i<ei[a].priority;a++);ei.splice(a,0,t),a===0&&vm(t)}};var Sm=e.version;if(Sm!=="19.1.1")throw Error(l(527,Sm,"19.1.1"));O.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(l(188)):(t=Object.keys(t).join(","),Error(l(268,t)));return t=y(i),t=t!==null?p(t):null,t=t===null?null:t.stateNode,t};var $y={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:w,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fa.isDisabled&&Fa.supportsFiber)try{pt=Fa.inject($y),ut=Fa}catch{}}return Al.createRoot=function(t,i){if(!u(t))throw Error(l(299));var a=!1,c="",f=kf,g=qf,C=Hf,E=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onUncaughtError!==void 0&&(f=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(C=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(E=i.unstable_transitionCallbacks)),i=fm(t,1,!1,null,null,a,c,f,g,C,E,null),t[Ye]=i.current,Fr(t),new su(i)},Al.hydrateRoot=function(t,i,a){if(!u(t))throw Error(l(299));var c=!1,f="",g=kf,C=qf,E=Hf,A=null,b=null;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(g=a.onUncaughtError),a.onCaughtError!==void 0&&(C=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks),a.formState!==void 0&&(b=a.formState)),i=fm(t,1,!0,i,a??null,c,f,g,C,E,A,b),i.context=dm(null),a=i.current,c=kt(),c=Do(c),f=kn(c),f.callback=null,qn(a,f,c),a=c,i.current.lanes=a,In(i,a),rn(i),t[Ye]=i.current,Fr(t),new za(i)},Al.version="19.1.1",Al}var wm;function s0(){if(wm)return cu.exports;wm=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),cu.exports=a0(),cu.exports}var r0=s0();const u0=sg(r0);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let c0,f0;function d0(){return{geminiUrl:c0,vertexUrl:f0}}function m0(n,e,o,l){var u,d;if(!(n!=null&&n.baseUrl)){const m=d0();return e?(u=m.vertexUrl)!==null&&u!==void 0?u:o:(d=m.geminiUrl)!==null&&d!==void 0?d:l}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _i{}function ie(n,e){const o=/\{([^}]+)\}/g;return n.replace(o,(l,u)=>{if(Object.prototype.hasOwnProperty.call(e,u)){const d=e[u];return d!=null?String(d):""}else throw new Error(`Key '${u}' not found in valueMap.`)})}function r(n,e,o){for(let d=0;d<e.length-1;d++){const m=e[d];if(m.endsWith("[]")){const h=m.slice(0,-2);if(!(h in n))if(Array.isArray(o))n[h]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${m}`);if(Array.isArray(n[h])){const y=n[h];if(Array.isArray(o))for(let p=0;p<y.length;p++){const v=y[p];r(v,e.slice(d+1),o[p])}else for(const p of y)r(p,e.slice(d+1),o)}return}else if(m.endsWith("[0]")){const h=m.slice(0,-3);h in n||(n[h]=[{}]);const y=n[h];r(y[0],e.slice(d+1),o);return}(!n[m]||typeof n[m]!="object")&&(n[m]={}),n=n[m]}const l=e[e.length-1],u=n[l];if(u!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===u)return;if(typeof u=="object"&&typeof o=="object"&&u!==null&&o!==null)Object.assign(u,o);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else l==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(n,o):n[l]=o}function s(n,e){try{if(e.length===1&&e[0]==="_self")return n;for(let o=0;o<e.length;o++){if(typeof n!="object"||n===null)return;const l=e[o];if(l.endsWith("[]")){const u=l.slice(0,-2);if(u in n){const d=n[u];return Array.isArray(d)?d.map(m=>s(m,e.slice(o+1))):void 0}else return}else n=n[l]}return n}catch(o){if(o instanceof TypeError)return;throw o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function wu(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function p0(n){const e={},o=s(n,["operationName"]);o!=null&&r(e,["_url","operationName"],o);const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function g0(n){const e={},o=s(n,["operationName"]);o!=null&&r(e,["operationName"],o);const l=s(n,["resourceName"]);l!=null&&r(e,["_url","resourceName"],l);const u=s(n,["config"]);return u!=null&&r(e,["config"],u),e}function h0(n){const e={},o=s(n,["operationName"]);o!=null&&r(e,["_url","operationName"],o);const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function y0(n){const e={},o=s(n,["video","uri"]);o!=null&&r(e,["uri"],o);const l=s(n,["video","encodedVideo"]);l!=null&&r(e,["videoBytes"],wu(l));const u=s(n,["encoding"]);return u!=null&&r(e,["mimeType"],u),e}function v0(n){const e={},o=s(n,["_self"]);return o!=null&&r(e,["video"],y0(o)),e}function T0(n){const e={},o=s(n,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>v0(m))),r(e,["generatedVideos"],d)}const l=s(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const u=s(n,["raiMediaFilteredReasons"]);return u!=null&&r(e,["raiMediaFilteredReasons"],u),e}function C0(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["metadata"]);l!=null&&r(e,["metadata"],l);const u=s(n,["done"]);u!=null&&r(e,["done"],u);const d=s(n,["error"]);d!=null&&r(e,["error"],d);const m=s(n,["response","generateVideoResponse"]);return m!=null&&r(e,["response"],T0(m)),e}function S0(n){const e={},o=s(n,["gcsUri"]);o!=null&&r(e,["uri"],o);const l=s(n,["bytesBase64Encoded"]);l!=null&&r(e,["videoBytes"],wu(l));const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function x0(n){const e={},o=s(n,["_self"]);return o!=null&&r(e,["video"],S0(o)),e}function E0(n){const e={},o=s(n,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>x0(m))),r(e,["generatedVideos"],d)}const l=s(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const u=s(n,["raiMediaFilteredReasons"]);return u!=null&&r(e,["raiMediaFilteredReasons"],u),e}function A0(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["metadata"]);l!=null&&r(e,["metadata"],l);const u=s(n,["done"]);u!=null&&r(e,["done"],u);const d=s(n,["error"]);d!=null&&r(e,["error"],d);const m=s(n,["response"]);return m!=null&&r(e,["response"],E0(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Im;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Im||(Im={}));var Um;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Um||(Um={}));var xt;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(xt||(xt={}));var Lm;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT"})(Lm||(Lm={}));var Vm;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(Vm||(Vm={}));var Pm;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(Pm||(Pm={}));var km;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(km||(km={}));var qm;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(qm||(qm={}));var Hm;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Hm||(Hm={}));var Gm;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(Gm||(Gm={}));var Bm;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"})(Bm||(Bm={}));var zm;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(zm||(zm={}));var Fm;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(Fm||(Fm={}));var Ym;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY"})(Ym||(Ym={}));var Om;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(Om||(Om={}));var So;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})(So||(So={}));var Jm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(Jm||(Jm={}));var Cu;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Cu||(Cu={}));var Km;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(Km||(Km={}));var Xm;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(Xm||(Xm={}));var Qm;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(Qm||(Qm={}));var $m;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})($m||($m={}));var Zm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Zm||(Zm={}));var Wm;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(Wm||(Wm={}));var jm;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})(jm||(jm={}));var ep;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(ep||(ep={}));var tp;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(tp||(tp={}));var np;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(np||(np={}));var ip;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ip||(ip={}));var op;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(op||(op={}));var lp;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(lp||(lp={}));var ap;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(ap||(ap={}));var sp;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(sp||(sp={}));var rp;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(rp||(rp={}));var up;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(up||(up={}));var cp;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(cp||(cp={}));var fp;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(fp||(fp={}));var dp;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED"})(dp||(dp={}));var mp;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(mp||(mp={}));var pp;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(pp||(pp={}));var gp;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(gp||(gp={}));var hp;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(hp||(hp={}));var yp;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(yp||(yp={}));var vp;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(vp||(vp={}));var Tp;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(Tp||(Tp={}));var Cp;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Cp||(Cp={}));var Sp;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(Sp||(Sp={}));var yo;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(yo||(yo={}));class Su{constructor(e){const o={};for(const l of e.headers.entries())o[l[0]]=l[1];this.headers=o,this.responseInternal=e}json(){return this.responseInternal.json()}}class _l{get text(){var e,o,l,u,d,m,h,y;if(((u=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let p="",v=!1;const T=[];for(const x of(y=(h=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[M,U]of Object.entries(x))M!=="text"&&M!=="thought"&&(U!==null||U!==void 0)&&T.push(M);if(typeof x.text=="string"){if(typeof x.thought=="boolean"&&x.thought)continue;v=!0,p+=x.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?p:void 0}get data(){var e,o,l,u,d,m,h,y;if(((u=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let p="";const v=[];for(const T of(y=(h=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[x,M]of Object.entries(T))x!=="inlineData"&&(M!==null||M!==void 0)&&v.push(x);T.inlineData&&typeof T.inlineData.data=="string"&&(p+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),p.length>0?btoa(p):void 0}get functionCalls(){var e,o,l,u,d,m,h,y;if(((u=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const p=(y=(h=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((p==null?void 0:p.length)!==0)return p}get executableCode(){var e,o,l,u,d,m,h,y,p;if(((u=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(h=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.code}get codeExecutionResult(){var e,o,l,u,d,m,h,y,p;if(((u=(l=(o=(e=this.candidates)===null||e===void 0?void 0:e[0])===null||o===void 0?void 0:o.content)===null||l===void 0?void 0:l.parts)===null||u===void 0?void 0:u.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(h=(m=(d=this.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(p=v==null?void 0:v[0])===null||p===void 0?void 0:p.output}}class xp{}class Ep{}class _0{}class M0{}class R0{}class N0{}class Ap{}class _p{}class Mp{}class D0{}class Qa{_fromAPIResponse({apiResponse:e,isVertexAI:o}){const l=new Qa;let u;const d=e;return o?u=A0(d):u=C0(d),Object.assign(l,u),l}}class Rp{}class Np{}class Dp{}class b0{}class w0{}class I0{}class bp{}class U0{get text(){var e,o,l;let u="",d=!1;const m=[];for(const h of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[y,p]of Object.entries(h))y!=="text"&&y!=="thought"&&p!==null&&m.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;d=!0,u+=h.text}}return m.length>0&&console.warn(`there are non-text parts ${m} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),d?u:void 0}get data(){var e,o,l;let u="";const d=[];for(const m of(l=(o=(e=this.serverContent)===null||e===void 0?void 0:e.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&l!==void 0?l:[]){for(const[h,y]of Object.entries(m))h!=="inlineData"&&y!==null&&d.push(h);m.inlineData&&typeof m.inlineData.data=="string"&&(u+=atob(m.inlineData.data))}return d.length>0&&console.warn(`there are non-data parts ${d} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),u.length>0?btoa(u):void 0}}class L0{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Le(n,e){if(!e||typeof e!="string")throw new Error("model is required and must be a string");if(n.isVertexAI()){if(e.startsWith("publishers/")||e.startsWith("projects/")||e.startsWith("models/"))return e;if(e.indexOf("/")>=0){const o=e.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${e}`}else return e.startsWith("models/")||e.startsWith("tunedModels/")?e:`models/${e}`}function rg(n,e){const o=Le(n,e);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function ug(n){return Array.isArray(n)?n.map(e=>$a(e)):[$a(n)]}function $a(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function cg(n){const e=$a(n);if(e.mimeType&&e.mimeType.startsWith("image/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function fg(n){const e=$a(n);if(e.mimeType&&e.mimeType.startsWith("audio/"))return e;throw new Error(`Unsupported mime type: ${e.mimeType}`)}function wp(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function dg(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(e=>wp(e)):[wp(n)]}function xu(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function Ip(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Up(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function Et(n){if(n==null)throw new Error("ContentUnion is required");return xu(n)?n:{role:"user",parts:dg(n)}}function Iu(n,e){if(!e)return[];if(n.isVertexAI()&&Array.isArray(e))return e.flatMap(o=>{const l=Et(o);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(n.isVertexAI()){const o=Et(e);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(e)?e.map(o=>Et(o)):[Et(e)]}function $t(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if(Ip(n)||Up(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[Et(n)]}const e=[],o=[],l=xu(n[0]);for(const u of n){const d=xu(u);if(d!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(d)e.push(u);else{if(Ip(u)||Up(u))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(u)}}return l||e.push({role:"user",parts:dg(o)}),e}function V0(n,e){n.includes("null")&&(e.nullable=!0);const o=n.filter(l=>l!=="null");if(o.length===1)e.type=Object.values(xt).includes(o[0].toUpperCase())?o[0].toUpperCase():xt.TYPE_UNSPECIFIED;else{e.anyOf=[];for(const l of o)e.anyOf.push({type:Object.values(xt).includes(l.toUpperCase())?l.toUpperCase():xt.TYPE_UNSPECIFIED})}}function vo(n){const e={},o=["items"],l=["anyOf"],u=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const d=n.anyOf;d!=null&&d.length==2&&(d[0].type==="null"?(e.nullable=!0,n=d[1]):d[1].type==="null"&&(e.nullable=!0,n=d[0])),n.type instanceof Array&&V0(n.type,e);for(const[m,h]of Object.entries(n))if(h!=null)if(m=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;e.type=Object.values(xt).includes(h.toUpperCase())?h.toUpperCase():xt.TYPE_UNSPECIFIED}else if(o.includes(m))e[m]=vo(h);else if(l.includes(m)){const y=[];for(const p of h){if(p.type=="null"){e.nullable=!0;continue}y.push(vo(p))}e[m]=y}else if(u.includes(m)){const y={};for(const[p,v]of Object.entries(h))y[p]=vo(v);e[m]=y}else{if(m==="additionalProperties")continue;e[m]=h}return e}function Uu(n){return vo(n)}function Lu(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function Vu(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function xo(n){if(n.functionDeclarations)for(const e of n.functionDeclarations)e.parameters&&(Object.keys(e.parameters).includes("$schema")?e.parametersJsonSchema||(e.parametersJsonSchema=e.parameters,delete e.parameters):e.parameters=vo(e.parameters)),e.response&&(Object.keys(e.response).includes("$schema")?e.responseJsonSchema||(e.responseJsonSchema=e.response,delete e.response):e.response=vo(e.response));return n}function Eo(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const e=[];for(const o of n)e.push(o);return e}function P0(n,e,o,l=1){const u=!e.startsWith(`${o}/`)&&e.split("/").length===l;return n.isVertexAI()?e.startsWith("projects/")?e:e.startsWith("locations/")?`projects/${n.getProject()}/${e}`:e.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${e}`:u?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${e}`:e:u?`${o}/${e}`:e}function wn(n,e){if(typeof e!="string")throw new Error("name must be a string");return P0(n,e,"cachedContents")}function mg(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Mi(n){return wu(n)}function k0(n){return n!=null&&typeof n=="object"&&"name"in n}function q0(n){return n!=null&&typeof n=="object"&&"video"in n}function H0(n){return n!=null&&typeof n=="object"&&"uri"in n}function pg(n){var e;let o;if(k0(n)&&(o=n.name),!(H0(n)&&(o=n.uri,o===void 0))&&!(q0(n)&&(o=(e=n.video)===null||e===void 0?void 0:e.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const u=o.split("files/")[1].match(/[a-z0-9]+/);if(u===null)throw new Error(`Could not extract file name from URI ${o}`);o=u[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function gg(n,e){let o;return n.isVertexAI()?o=e?"publishers/google/models":"models":o=e?"models":"tunedModels",o}function hg(n){for(const e of["models","tunedModels","publisherModels"])if(G0(n,e))return n[e];return[]}function G0(n,e){return n!==null&&typeof n=="object"&&e in n}function B0(n,e={}){const o=n,l={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(l.responseJsonSchema=o.outputSchema),e.behavior&&(l.behavior=e.behavior),{functionDeclarations:[l]}}function z0(n,e={}){const o=[],l=new Set;for(const u of n){const d=u.name;if(l.has(d))throw new Error(`Duplicate function name ${d} found in MCP tools. Please ensure function names are unique.`);l.add(d);const m=B0(u,e);m.functionDeclarations&&o.push(...m.functionDeclarations)}return{functionDeclarations:o}}function yg(n,e){let o;if(typeof e=="string")if(n.isVertexAI())if(e.startsWith("gs://"))o={format:"jsonl",gcsUri:[e]};else if(e.startsWith("bq://"))o={format:"bigquery",bigqueryUri:e};else throw new Error(`Unsupported string source for Vertex AI: ${e}`);else if(e.startsWith("files/"))o={fileName:e};else throw new Error(`Unsupported string source for Gemini API: ${e}`);else if(Array.isArray(e)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:e}}else o=e;const l=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,u=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(n.isVertexAI()){if(u>0||l!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(l>0||u!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function F0(n){if(typeof n!="string")return n;const e=n;if(e.startsWith("gs://"))return{format:"jsonl",gcsUri:e};if(e.startsWith("bq://"))return{format:"bigquery",bigqueryUri:e};throw new Error(`Unsupported destination: ${e}`)}function vg(n){if(typeof n!="object"||n===null)return{};const e=n,o=e.inlinedResponses;if(typeof o!="object"||o===null)return n;const u=o.inlinedResponses;if(!Array.isArray(u)||u.length===0)return n;let d=!1;for(const m of u){if(typeof m!="object"||m===null)continue;const y=m.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){d=!0;break}}return d&&(e.inlinedEmbedContentResponses=e.inlinedResponses,delete e.inlinedResponses),n}function Ao(n,e){const o=e;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Tg(n){const e=n;return e==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":e==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":e==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":e==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":e==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y0(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const u=s(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function O0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function J0(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function K0(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const l=s(n,["args"]);l!=null&&r(e,["args"],l);const u=s(n,["name"]);return u!=null&&r(e,["name"],u),e}function X0(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],Y0(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const u=s(n,["inlineData"]);u!=null&&r(e,["inlineData"],O0(u));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],J0(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],K0(h));const y=s(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=s(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const T=s(n,["text"]);return T!=null&&r(e,["text"],T),e}function Cg(n){const e={},o=s(n,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>X0(d))),r(e,["parts"],u)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function Q0(n){const e={},o=s(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const l=s(n,["default"]);l!=null&&r(e,["default"],l);const u=s(n,["description"]);u!=null&&r(e,["description"],u);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const m=s(n,["example"]);m!=null&&r(e,["example"],m);const h=s(n,["format"]);h!=null&&r(e,["format"],h);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const p=s(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const T=s(n,["maxProperties"]);T!=null&&r(e,["maxProperties"],T);const x=s(n,["maximum"]);x!=null&&r(e,["maximum"],x);const M=s(n,["minItems"]);M!=null&&r(e,["minItems"],M);const U=s(n,["minLength"]);U!=null&&r(e,["minLength"],U);const P=s(n,["minProperties"]);P!=null&&r(e,["minProperties"],P);const B=s(n,["minimum"]);B!=null&&r(e,["minimum"],B);const V=s(n,["nullable"]);V!=null&&r(e,["nullable"],V);const J=s(n,["pattern"]);J!=null&&r(e,["pattern"],J);const Q=s(n,["properties"]);Q!=null&&r(e,["properties"],Q);const ee=s(n,["propertyOrdering"]);ee!=null&&r(e,["propertyOrdering"],ee);const X=s(n,["required"]);X!=null&&r(e,["required"],X);const ne=s(n,["title"]);ne!=null&&r(e,["title"],ne);const fe=s(n,["type"]);return fe!=null&&r(e,["type"],fe),e}function $0(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(n,["category"]);o!=null&&r(e,["category"],o);const l=s(n,["threshold"]);return l!=null&&r(e,["threshold"],l),e}function Z0(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const u=s(n,["name"]);u!=null&&r(e,["name"],u);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const h=s(n,["response"]);h!=null&&r(e,["response"],h);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function W0(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function j0(n){const e={},o=s(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],W0(o)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function ev(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function tv(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],ev(o)),e}function nv(){return{}}function iv(n){const e={},o=s(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function ov(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>Z0(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],j0(l));const u=s(n,["googleSearchRetrieval"]);if(u!=null&&r(e,["googleSearchRetrieval"],tv(u)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],nv());const m=s(n,["computerUse"]);m!=null&&r(e,["computerUse"],iv(m));const h=s(n,["codeExecution"]);return h!=null&&r(e,["codeExecution"],h),e}function lv(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function av(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function sv(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],av(o));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function rv(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],lv(o));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],sv(l)),e}function uv(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function Sg(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],uv(o)),e}function cv(n){const e={},o=s(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=s(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],Sg(l)),e}function fv(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>cv(u))),r(e,["speakerVoiceConfigs"],l)}return e}function dv(n){const e={},o=s(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],Sg(o));const l=s(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],fv(l));const u=s(n,["languageCode"]);return u!=null&&r(e,["languageCode"],u),e}function mv(n){const e={},o=s(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=s(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function pv(n,e,o){const l={},u=s(e,["systemInstruction"]);o!==void 0&&u!=null&&r(o,["systemInstruction"],Cg(Et(u)));const d=s(e,["temperature"]);d!=null&&r(l,["temperature"],d);const m=s(e,["topP"]);m!=null&&r(l,["topP"],m);const h=s(e,["topK"]);h!=null&&r(l,["topK"],h);const y=s(e,["candidateCount"]);y!=null&&r(l,["candidateCount"],y);const p=s(e,["maxOutputTokens"]);p!=null&&r(l,["maxOutputTokens"],p);const v=s(e,["stopSequences"]);v!=null&&r(l,["stopSequences"],v);const T=s(e,["responseLogprobs"]);T!=null&&r(l,["responseLogprobs"],T);const x=s(e,["logprobs"]);x!=null&&r(l,["logprobs"],x);const M=s(e,["presencePenalty"]);M!=null&&r(l,["presencePenalty"],M);const U=s(e,["frequencyPenalty"]);U!=null&&r(l,["frequencyPenalty"],U);const P=s(e,["seed"]);P!=null&&r(l,["seed"],P);const B=s(e,["responseMimeType"]);B!=null&&r(l,["responseMimeType"],B);const V=s(e,["responseSchema"]);V!=null&&r(l,["responseSchema"],Q0(Uu(V)));const J=s(e,["responseJsonSchema"]);if(J!=null&&r(l,["responseJsonSchema"],J),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Q=s(e,["safetySettings"]);if(o!==void 0&&Q!=null){let le=Q;Array.isArray(le)&&(le=le.map(be=>$0(be))),r(o,["safetySettings"],le)}const ee=s(e,["tools"]);if(o!==void 0&&ee!=null){let le=Eo(ee);Array.isArray(le)&&(le=le.map(be=>ov(xo(be)))),r(o,["tools"],le)}const X=s(e,["toolConfig"]);if(o!==void 0&&X!=null&&r(o,["toolConfig"],rv(X)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=s(e,["cachedContent"]);o!==void 0&&ne!=null&&r(o,["cachedContent"],wn(n,ne));const fe=s(e,["responseModalities"]);fe!=null&&r(l,["responseModalities"],fe);const Se=s(e,["mediaResolution"]);Se!=null&&r(l,["mediaResolution"],Se);const se=s(e,["speechConfig"]);if(se!=null&&r(l,["speechConfig"],dv(Lu(se))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ye=s(e,["thinkingConfig"]);return ye!=null&&r(l,["thinkingConfig"],mv(ye)),l}function gv(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["request","model"],Le(n,l));const u=s(e,["contents"]);if(u!=null){let m=$t(u);Array.isArray(m)&&(m=m.map(h=>Cg(h))),r(o,["request","contents"],m)}const d=s(e,["config"]);return d!=null&&r(o,["request","generationConfig"],pv(n,d,o)),o}function hv(n,e){const o={};if(s(e,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(s(e,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(e,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=s(e,["fileName"]);l!=null&&r(o,["fileName"],l);const u=s(e,["inlinedRequests"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>gv(n,m))),r(o,["requests","requests"],d)}return o}function yv(n,e){const o={},l=s(n,["displayName"]);if(e!==void 0&&l!=null&&r(e,["batch","displayName"],l),s(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function pu(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],Le(n,l));const u=s(e,["src"]);u!=null&&r(o,["batch","inputConfig"],hv(n,yg(n,u)));const d=s(e,["config"]);return d!=null&&r(o,["config"],yv(d,o)),o}function vv(n,e){const o={},l=s(n,["taskType"]);e!==void 0&&l!=null&&r(e,["requests[]","taskType"],l);const u=s(n,["title"]);e!==void 0&&u!=null&&r(e,["requests[]","title"],u);const d=s(n,["outputDimensionality"]);if(e!==void 0&&d!=null&&r(e,["requests[]","outputDimensionality"],d),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function Tv(n,e){const o={},l=s(e,["contents"]);l!=null&&r(o,["requests[]","request","content"],Iu(n,l));const u=s(e,["config"]);return u!=null&&r(o,["config"],vv(u,o)),o}function Cv(n,e){const o={},l=s(e,["fileName"]);l!=null&&r(o,["file_name"],l);const u=s(e,["inlinedRequests"]);return u!=null&&r(o,["requests"],Tv(n,u)),o}function Sv(n,e){const o={},l=s(n,["displayName"]);return e!==void 0&&l!=null&&r(e,["batch","displayName"],l),o}function gu(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],Le(n,l));const u=s(e,["src"]);u!=null&&r(o,["batch","inputConfig"],Cv(n,u));const d=s(e,["config"]);return d!=null&&r(o,["config"],Sv(d,o)),o}function xv(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],Ao(n,l));const u=s(e,["config"]);return u!=null&&r(o,["config"],u),o}function Ev(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],Ao(n,l));const u=s(e,["config"]);return u!=null&&r(o,["config"],u),o}function Av(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const u=s(n,["pageToken"]);if(e!==void 0&&u!=null&&r(e,["_query","pageToken"],u),s(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function _v(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],Av(o,e)),e}function Mv(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],Ao(n,l));const u=s(e,["config"]);return u!=null&&r(o,["config"],u),o}function Rv(n){const e={},o=s(n,["format"]);o!=null&&r(e,["instancesFormat"],o);const l=s(n,["gcsUri"]);l!=null&&r(e,["gcsSource","uris"],l);const u=s(n,["bigqueryUri"]);if(u!=null&&r(e,["bigquerySource","inputUri"],u),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return e}function Nv(n){const e={},o=s(n,["format"]);o!=null&&r(e,["predictionsFormat"],o);const l=s(n,["gcsUri"]);l!=null&&r(e,["gcsDestination","outputUriPrefix"],l);const u=s(n,["bigqueryUri"]);if(u!=null&&r(e,["bigqueryDestination","outputUri"],u),s(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(s(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(s(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return e}function Dv(n,e){const o={},l=s(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const u=s(n,["dest"]);return e!==void 0&&u!=null&&r(e,["outputConfig"],Nv(F0(u))),o}function bv(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["model"],Le(n,l));const u=s(e,["src"]);u!=null&&r(o,["inputConfig"],Rv(yg(n,u)));const d=s(e,["config"]);return d!=null&&r(o,["config"],Dv(d,o)),o}function wv(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],Ao(n,l));const u=s(e,["config"]);return u!=null&&r(o,["config"],u),o}function Iv(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],Ao(n,l));const u=s(e,["config"]);return u!=null&&r(o,["config"],u),o}function Uv(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const u=s(n,["pageToken"]);e!==void 0&&u!=null&&r(e,["_query","pageToken"],u);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),o}function Lv(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],Uv(o,e)),e}function Vv(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],Ao(n,l));const u=s(e,["config"]);return u!=null&&r(o,["config"],u),o}function Pv(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const u=s(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function kv(n){const e={},o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function qv(n){const e={},o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function Hv(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const l=s(n,["args"]);l!=null&&r(e,["args"],l);const u=s(n,["name"]);return u!=null&&r(e,["name"],u),e}function Gv(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],Pv(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const u=s(n,["inlineData"]);u!=null&&r(e,["inlineData"],kv(u));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],qv(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],Hv(h));const y=s(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=s(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const T=s(n,["text"]);return T!=null&&r(e,["text"],T),e}function Bv(n){const e={},o=s(n,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>Gv(d))),r(e,["parts"],u)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function zv(n){const e={},o=s(n,["citationSources"]);return o!=null&&r(e,["citations"],o),e}function Fv(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=s(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function Yv(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Fv(u))),r(e,["urlMetadata"],l)}return e}function Ov(n){const e={},o=s(n,["content"]);o!=null&&r(e,["content"],Bv(o));const l=s(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],zv(l));const u=s(n,["tokenCount"]);u!=null&&r(e,["tokenCount"],u);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const m=s(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],Yv(m));const h=s(n,["avgLogprobs"]);h!=null&&r(e,["avgLogprobs"],h);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=s(n,["index"]);p!=null&&r(e,["index"],p);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const T=s(n,["safetyRatings"]);return T!=null&&r(e,["safetyRatings"],T),e}function Jv(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>Ov(p))),r(e,["candidates"],y)}const u=s(n,["modelVersion"]);u!=null&&r(e,["modelVersion"],u);const d=s(n,["promptFeedback"]);d!=null&&r(e,["promptFeedback"],d);const m=s(n,["responseId"]);m!=null&&r(e,["responseId"],m);const h=s(n,["usageMetadata"]);return h!=null&&r(e,["usageMetadata"],h),e}function Pu(n){const e={},o=s(n,["details"]);o!=null&&r(e,["details"],o);const l=s(n,["code"]);l!=null&&r(e,["code"],l);const u=s(n,["message"]);return u!=null&&r(e,["message"],u),e}function Kv(n){const e={},o=s(n,["response"]);o!=null&&r(e,["response"],Jv(o));const l=s(n,["error"]);return l!=null&&r(e,["error"],Pu(l)),e}function Xv(n){const e={},o=s(n,["values"]);return o!=null&&r(e,["values"],o),e}function Qv(n){const e={},o=s(n,["embedding"]);o!=null&&r(e,["embedding"],Xv(o));const l=s(n,["tokenCount"]);return l!=null&&r(e,["tokenCount"],l),e}function $v(n){const e={},o=s(n,["response"]);o!=null&&r(e,["response"],Qv(o));const l=s(n,["error"]);return l!=null&&r(e,["error"],Pu(l)),e}function Zv(n){const e={},o=s(n,["responsesFile"]);o!=null&&r(e,["fileName"],o);const l=s(n,["inlinedResponses","inlinedResponses"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>Kv(m))),r(e,["inlinedResponses"],d)}const u=s(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>$v(m))),r(e,["inlinedEmbedContentResponses"],d)}return e}function ho(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["metadata","displayName"]);l!=null&&r(e,["displayName"],l);const u=s(n,["metadata","state"]);u!=null&&r(e,["state"],Tg(u));const d=s(n,["metadata","createTime"]);d!=null&&r(e,["createTime"],d);const m=s(n,["metadata","endTime"]);m!=null&&r(e,["endTime"],m);const h=s(n,["metadata","updateTime"]);h!=null&&r(e,["updateTime"],h);const y=s(n,["metadata","model"]);y!=null&&r(e,["model"],y);const p=s(n,["metadata","output"]);return p!=null&&r(e,["dest"],Zv(vg(p))),e}function Wv(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const u=s(n,["operations"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>ho(m))),r(e,["batchJobs"],d)}return e}function jv(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const u=s(n,["done"]);u!=null&&r(e,["done"],u);const d=s(n,["error"]);return d!=null&&r(e,["error"],Pu(d)),e}function xg(n){const e={},o=s(n,["details"]);o!=null&&r(e,["details"],o);const l=s(n,["code"]);l!=null&&r(e,["code"],l);const u=s(n,["message"]);return u!=null&&r(e,["message"],u),e}function eT(n){const e={},o=s(n,["instancesFormat"]);o!=null&&r(e,["format"],o);const l=s(n,["gcsSource","uris"]);l!=null&&r(e,["gcsUri"],l);const u=s(n,["bigquerySource","inputUri"]);return u!=null&&r(e,["bigqueryUri"],u),e}function tT(n){const e={},o=s(n,["predictionsFormat"]);o!=null&&r(e,["format"],o);const l=s(n,["gcsDestination","outputUriPrefix"]);l!=null&&r(e,["gcsUri"],l);const u=s(n,["bigqueryDestination","outputUri"]);return u!=null&&r(e,["bigqueryUri"],u),e}function Eu(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const u=s(n,["state"]);u!=null&&r(e,["state"],Tg(u));const d=s(n,["error"]);d!=null&&r(e,["error"],xg(d));const m=s(n,["createTime"]);m!=null&&r(e,["createTime"],m);const h=s(n,["startTime"]);h!=null&&r(e,["startTime"],h);const y=s(n,["endTime"]);y!=null&&r(e,["endTime"],y);const p=s(n,["updateTime"]);p!=null&&r(e,["updateTime"],p);const v=s(n,["model"]);v!=null&&r(e,["model"],v);const T=s(n,["inputConfig"]);T!=null&&r(e,["src"],eT(T));const x=s(n,["outputConfig"]);return x!=null&&r(e,["dest"],tT(vg(x))),e}function nT(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const u=s(n,["batchPredictionJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>Eu(m))),r(e,["batchJobs"],d)}return e}function iT(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const u=s(n,["done"]);u!=null&&r(e,["done"],u);const d=s(n,["error"]);return d!=null&&r(e,["error"],xg(d)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Ai;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(Ai||(Ai={}));class Dl{constructor(e,o,l,u){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(e,l,u)}init(e,o,l){var u,d;this.nameInternal=e,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let m={config:{}};!l||Object.keys(l).length===0?m={config:{}}:typeof l=="object"?m=Object.assign({},l):m=l,m.config&&(m.config.pageToken=o.nextPageToken),this.paramsInternal=m,this.pageInternalSize=(d=(u=m.config)===null||u===void 0?void 0:u.pageSize)!==null&&d!==void 0?d:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return((e=this.params.config)===null||e===void 0?void 0:e.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class oT extends _i{constructor(e){super(),this.apiClient=e,this.create=async o=>{var l,u;if(this.apiClient.isVertexAI())return o.config=this.formatDestination(o.src,o.config),this.createInternal(o);const d=o.src;if(!(Array.isArray(o.src)||d.inlinedRequests!==void 0))return this.createInternal(o);const h=this.createInlinedGenerateContentRequest(o),y=h.path,p=h.body,v=pu(this.apiClient,o)._query||{};return this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=o.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=o.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()).then(x=>ho(x))},this.createEmbeddings=async o=>{var l,u;if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");if(!(o.src.inlinedRequests!==void 0))return this.createEmbeddingsInternal(o);const h=this.createInlinedEmbedContentRequest(o),y=h.path,p=h.body,v=gu(this.apiClient,o)._query||{};return this.apiClient.request({path:y,queryParams:v,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(l=o.config)===null||l===void 0?void 0:l.httpOptions,abortSignal:(u=o.config)===null||u===void 0?void 0:u.abortSignal}).then(x=>x.json()).then(x=>ho(x))},this.list=async(o={})=>new Dl(Ai.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(o),o)}createInlinedGenerateContentRequest(e){const o=pu(this.apiClient,e),l=o._url,u=ie("{model}:batchGenerateContent",l),h=o.batch.inputConfig.requests,y=h.requests,p=[];for(const v of y){const T=Object.assign({},v);if(T.systemInstruction){const x=T.systemInstruction;delete T.systemInstruction;const M=T.request;M.systemInstruction=x,T.request=M}p.push(T)}return h.requests=p,delete o.config,delete o._url,delete o._query,{path:u,body:o}}createInlinedEmbedContentRequest(e){const o=gu(this.apiClient,e),l=o._url,u=ie("{model}:asyncBatchEmbedContent",l),h=o.batch.inputConfig.requests,y=h.requests,p=[];delete h.config;for(const v of y){const T=Object.assign({},v),x=T.request;for(const M in T)M!=="request"&&(x[M]=T[M],delete T[M]);p.push(T)}return h.requests=p,delete o.config,delete o._url,delete o._query,{path:u,body:o}}getGcsUri(e){if(typeof e=="string")return e.startsWith("gs://")?e:void 0;if(!Array.isArray(e)&&e.gcsUri&&e.gcsUri.length>0)return e.gcsUri[0]}getBigqueryUri(e){if(typeof e=="string")return e.startsWith("bq://")?e:void 0;if(!Array.isArray(e))return e.bigqueryUri}formatDestination(e,o){const l=o?Object.assign({},o):{},u=Date.now().toString();if(l.displayName||(l.displayName=`genaiBatchJob_${u}`),l.dest===void 0){const d=this.getGcsUri(e),m=this.getBigqueryUri(e);if(d)d.endsWith(".jsonl")?l.dest=`${d.slice(0,-6)}/dest`:l.dest=`${d}_dest_${u}`;else if(m)l.dest=`${m}_dest_${u}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return l}async createInternal(e){var o,l,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=bv(this.apiClient,e);return h=ie("batchPredictionJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Eu(v))}else{const p=pu(this.apiClient,e);return h=ie("{model}:batchGenerateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>ho(v))}}async createEmbeddingsInternal(e){var o,l;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=gu(this.apiClient,e);return d=ie("{model}:asyncBatchEmbedContent",h._url),m=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>ho(y))}}async get(e){var o,l,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=wv(this.apiClient,e);return h=ie("batchPredictionJobs/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Eu(v))}else{const p=xv(this.apiClient,e);return h=ie("batches/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>ho(v))}}async cancel(e){var o,l,u,d;let m="",h={};if(this.apiClient.isVertexAI()){const y=Iv(this.apiClient,e);m=ie("batchPredictionJobs/{name}:cancel",y._url),h=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const y=Ev(this.apiClient,e);m=ie("batches/{name}:cancel",y._url),h=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal})}}async listInternal(e){var o,l,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=Lv(e);return h=ie("batchPredictionJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=nT(v),x=new bp;return Object.assign(x,T),x})}else{const p=_v(e);return h=ie("batches",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=Wv(v),x=new bp;return Object.assign(x,T),x})}}async delete(e){var o,l,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=Vv(this.apiClient,e);return h=ie("batchPredictionJobs/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>iT(v))}else{const p=Mv(this.apiClient,e);return h=ie("batches/{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>jv(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function lT(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const u=s(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function aT(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function sT(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function rT(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const l=s(n,["args"]);l!=null&&r(e,["args"],l);const u=s(n,["name"]);return u!=null&&r(e,["name"],u),e}function uT(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],lT(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const u=s(n,["inlineData"]);u!=null&&r(e,["inlineData"],aT(u));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],sT(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],rT(h));const y=s(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=s(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const T=s(n,["text"]);return T!=null&&r(e,["text"],T),e}function Lp(n){const e={},o=s(n,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>uT(d))),r(e,["parts"],u)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function cT(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const u=s(n,["name"]);u!=null&&r(e,["name"],u);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const h=s(n,["response"]);h!=null&&r(e,["response"],h);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function fT(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function dT(n){const e={},o=s(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],fT(o)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function mT(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function pT(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],mT(o)),e}function gT(){return{}}function hT(n){const e={},o=s(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function yT(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>cT(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],dT(l));const u=s(n,["googleSearchRetrieval"]);if(u!=null&&r(e,["googleSearchRetrieval"],pT(u)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],gT());const m=s(n,["computerUse"]);m!=null&&r(e,["computerUse"],hT(m));const h=s(n,["codeExecution"]);return h!=null&&r(e,["codeExecution"],h),e}function vT(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function TT(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function CT(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],TT(o));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function ST(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],vT(o));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],CT(l)),e}function xT(n,e){const o={},l=s(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const u=s(n,["expireTime"]);e!==void 0&&u!=null&&r(e,["expireTime"],u);const d=s(n,["displayName"]);e!==void 0&&d!=null&&r(e,["displayName"],d);const m=s(n,["contents"]);if(e!==void 0&&m!=null){let v=$t(m);Array.isArray(v)&&(v=v.map(T=>Lp(T))),r(e,["contents"],v)}const h=s(n,["systemInstruction"]);e!==void 0&&h!=null&&r(e,["systemInstruction"],Lp(Et(h)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(T=>yT(T))),r(e,["tools"],v)}const p=s(n,["toolConfig"]);if(e!==void 0&&p!=null&&r(e,["toolConfig"],ST(p)),s(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function ET(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["model"],rg(n,l));const u=s(e,["config"]);return u!=null&&r(o,["config"],xT(u,o)),o}function AT(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],wn(n,l));const u=s(e,["config"]);return u!=null&&r(o,["config"],u),o}function _T(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],wn(n,l));const u=s(e,["config"]);return u!=null&&r(o,["config"],u),o}function MT(n,e){const o={},l=s(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const u=s(n,["expireTime"]);return e!==void 0&&u!=null&&r(e,["expireTime"],u),o}function RT(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],wn(n,l));const u=s(e,["config"]);return u!=null&&r(o,["config"],MT(u,o)),o}function NT(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const u=s(n,["pageToken"]);return e!==void 0&&u!=null&&r(e,["_query","pageToken"],u),o}function DT(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],NT(o,e)),e}function bT(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const u=s(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function wT(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function IT(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function UT(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const l=s(n,["args"]);l!=null&&r(e,["args"],l);const u=s(n,["name"]);return u!=null&&r(e,["name"],u),e}function LT(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],bT(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const u=s(n,["inlineData"]);u!=null&&r(e,["inlineData"],wT(u));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],IT(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],UT(h));const y=s(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=s(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const T=s(n,["text"]);return T!=null&&r(e,["text"],T),e}function Vp(n){const e={},o=s(n,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>LT(d))),r(e,["parts"],u)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function VT(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(n,["description"]);o!=null&&r(e,["description"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const u=s(n,["parameters"]);u!=null&&r(e,["parameters"],u);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const m=s(n,["response"]);m!=null&&r(e,["response"],m);const h=s(n,["responseJsonSchema"]);return h!=null&&r(e,["responseJsonSchema"],h),e}function PT(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function kT(n){const e={},o=s(n,["timeRangeFilter"]);o!=null&&r(e,["timeRangeFilter"],PT(o));const l=s(n,["excludeDomains"]);return l!=null&&r(e,["excludeDomains"],l),e}function qT(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function HT(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],qT(o)),e}function GT(n){const e={},o=s(n,["excludeDomains"]);return o!=null&&r(e,["excludeDomains"],o),e}function BT(n){const e={},o=s(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function zT(n){const e={},o=s(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],BT(o));const l=s(n,["authType"]);l!=null&&r(e,["authType"],l);const u=s(n,["googleServiceAccountConfig"]);u!=null&&r(e,["googleServiceAccountConfig"],u);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const m=s(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const h=s(n,["oidcConfig"]);return h!=null&&r(e,["oidcConfig"],h),e}function FT(n){const e={},o=s(n,["authConfig"]);return o!=null&&r(e,["authConfig"],zT(o)),e}function YT(){return{}}function OT(n){const e={},o=s(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function JT(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(x=>VT(x))),r(e,["functionDeclarations"],T)}const l=s(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const u=s(n,["googleSearch"]);u!=null&&r(e,["googleSearch"],kT(u));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],HT(d));const m=s(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],GT(m));const h=s(n,["googleMaps"]);h!=null&&r(e,["googleMaps"],FT(h)),s(n,["urlContext"])!=null&&r(e,["urlContext"],YT());const p=s(n,["computerUse"]);p!=null&&r(e,["computerUse"],OT(p));const v=s(n,["codeExecution"]);return v!=null&&r(e,["codeExecution"],v),e}function KT(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function XT(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function QT(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],XT(o));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function $T(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],KT(o));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],QT(l)),e}function ZT(n,e){const o={},l=s(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const u=s(n,["expireTime"]);e!==void 0&&u!=null&&r(e,["expireTime"],u);const d=s(n,["displayName"]);e!==void 0&&d!=null&&r(e,["displayName"],d);const m=s(n,["contents"]);if(e!==void 0&&m!=null){let T=$t(m);Array.isArray(T)&&(T=T.map(x=>Vp(x))),r(e,["contents"],T)}const h=s(n,["systemInstruction"]);e!==void 0&&h!=null&&r(e,["systemInstruction"],Vp(Et(h)));const y=s(n,["tools"]);if(e!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(x=>JT(x))),r(e,["tools"],T)}const p=s(n,["toolConfig"]);e!==void 0&&p!=null&&r(e,["toolConfig"],$T(p));const v=s(n,["kmsKeyName"]);return e!==void 0&&v!=null&&r(e,["encryption_spec","kmsKeyName"],v),o}function WT(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["model"],rg(n,l));const u=s(e,["config"]);return u!=null&&r(o,["config"],ZT(u,o)),o}function jT(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],wn(n,l));const u=s(e,["config"]);return u!=null&&r(o,["config"],u),o}function eC(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],wn(n,l));const u=s(e,["config"]);return u!=null&&r(o,["config"],u),o}function tC(n,e){const o={},l=s(n,["ttl"]);e!==void 0&&l!=null&&r(e,["ttl"],l);const u=s(n,["expireTime"]);return e!==void 0&&u!=null&&r(e,["expireTime"],u),o}function nC(n,e){const o={},l=s(e,["name"]);l!=null&&r(o,["_url","name"],wn(n,l));const u=s(e,["config"]);return u!=null&&r(o,["config"],tC(u,o)),o}function iC(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const u=s(n,["pageToken"]);return e!==void 0&&u!=null&&r(e,["_query","pageToken"],u),o}function oC(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],iC(o,e)),e}function Ka(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const u=s(n,["model"]);u!=null&&r(e,["model"],u);const d=s(n,["createTime"]);d!=null&&r(e,["createTime"],d);const m=s(n,["updateTime"]);m!=null&&r(e,["updateTime"],m);const h=s(n,["expireTime"]);h!=null&&r(e,["expireTime"],h);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function lC(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function aC(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const u=s(n,["cachedContents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>Ka(m))),r(e,["cachedContents"],d)}return e}function Xa(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const u=s(n,["model"]);u!=null&&r(e,["model"],u);const d=s(n,["createTime"]);d!=null&&r(e,["createTime"],d);const m=s(n,["updateTime"]);m!=null&&r(e,["updateTime"],m);const h=s(n,["expireTime"]);h!=null&&r(e,["expireTime"],h);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function sC(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function rC(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const u=s(n,["cachedContents"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>Xa(m))),r(e,["cachedContents"],d)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class uC extends _i{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Dl(Ai.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(o),o)}async create(e){var o,l,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=WT(this.apiClient,e);return h=ie("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Xa(v))}else{const p=ET(this.apiClient,e);return h=ie("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Ka(v))}}async get(e){var o,l,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=jT(this.apiClient,e);return h=ie("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Xa(v))}else{const p=AT(this.apiClient,e);return h=ie("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Ka(v))}}async delete(e){var o,l,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=eC(this.apiClient,e);return h=ie("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=sC(v),x=new Np;return Object.assign(x,T),x})}else{const p=_T(this.apiClient,e);return h=ie("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=lC(v),x=new Np;return Object.assign(x,T),x})}}async update(e){var o,l,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=nC(this.apiClient,e);return h=ie("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Xa(v))}else{const p=RT(this.apiClient,e);return h=ie("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Ka(v))}}async listInternal(e){var o,l,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=oC(e);return h=ie("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=rC(v),x=new Dp;return Object.assign(x,T),x})}else{const p=DT(e);return h=ie("cachedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=aC(v),x=new Dp;return Object.assign(x,T),x})}}}function Pp(n){var e=typeof Symbol=="function"&&Symbol.iterator,o=e&&n[e],l=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&l>=n.length&&(n=void 0),{value:n&&n[l++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Je(n){return this instanceof Je?(this.v=n,this):new Je(n)}function To(n,e,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=o.apply(n,e||[]),u,d=[];return u=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",m),u[Symbol.asyncIterator]=function(){return this},u;function m(M){return function(U){return Promise.resolve(U).then(M,T)}}function h(M,U){l[M]&&(u[M]=function(P){return new Promise(function(B,V){d.push([M,P,B,V])>1||y(M,P)})},U&&(u[M]=U(u[M])))}function y(M,U){try{p(l[M](U))}catch(P){x(d[0][3],P)}}function p(M){M.value instanceof Je?Promise.resolve(M.value.v).then(v,T):x(d[0][2],M)}function v(M){y("next",M)}function T(M){y("throw",M)}function x(M,U){M(U),d.shift(),d.length&&y(d[0][0],d[0][1])}}function Rl(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],o;return e?e.call(n):(n=typeof Pp=="function"?Pp(n):n[Symbol.iterator](),o={},l("next"),l("throw"),l("return"),o[Symbol.asyncIterator]=function(){return this},o);function l(d){o[d]=n[d]&&function(m){return new Promise(function(h,y){m=n[d](m),u(h,y,m.done,m.value)})}}function u(d,m,h,y){Promise.resolve(y).then(function(p){d({value:p,done:h})},m)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function cC(n){var e;if(n.candidates==null||n.candidates.length===0)return!1;const o=(e=n.candidates[0])===null||e===void 0?void 0:e.content;return o===void 0?!1:Eg(o)}function Eg(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const e of n.parts)if(e===void 0||Object.keys(e).length===0)return!1;return!0}function fC(n){if(n.length!==0){for(const e of n)if(e.role!=="user"&&e.role!=="model")throw new Error(`Role must be user or model, but got ${e.role}.`)}}function kp(n){if(n===void 0||n.length===0)return[];const e=[],o=n.length;let l=0;for(;l<o;)if(n[l].role==="user")e.push(n[l]),l++;else{const u=[];let d=!0;for(;l<o&&n[l].role==="model";)u.push(n[l]),d&&!Eg(n[l])&&(d=!1),l++;d?e.push(...u):e.pop()}return e}class dC{constructor(e,o){this.modelsModule=e,this.apiClient=o}create(e){return new mC(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class mC{constructor(e,o,l,u={},d=[]){this.apiClient=e,this.modelsModule=o,this.model=l,this.config=u,this.history=d,this.sendPromise=Promise.resolve(),fC(d)}async sendMessage(e){var o;await this.sendPromise;const l=Et(e.message),u=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var d,m,h;const y=await u,p=(m=(d=y.candidates)===null||d===void 0?void 0:d[0])===null||m===void 0?void 0:m.content,v=y.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let x=[];v!=null&&(x=(h=v.slice(T))!==null&&h!==void 0?h:[]);const M=p?[p]:[];this.recordHistory(l,M,x)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),u}async sendMessageStream(e){var o;await this.sendPromise;const l=Et(e.message),u=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(o=e.config)!==null&&o!==void 0?o:this.config});this.sendPromise=u.then(()=>{}).catch(()=>{});const d=await u;return this.processStreamResponse(d,l)}getHistory(e=!1){const o=e?kp(this.history):this.history;return structuredClone(o)}processStreamResponse(e,o){var l,u;return To(this,arguments,function*(){var m,h,y,p;const v=[];try{for(var T=!0,x=Rl(e),M;M=yield Je(x.next()),m=M.done,!m;T=!0){p=M.value,T=!1;const U=p;if(cC(U)){const P=(u=(l=U.candidates)===null||l===void 0?void 0:l[0])===null||u===void 0?void 0:u.content;P!==void 0&&v.push(P)}yield yield Je(U)}}catch(U){h={error:U}}finally{try{!T&&!m&&(y=x.return)&&(yield Je(y.call(x)))}finally{if(h)throw h.error}}this.recordHistory(o,v)})}recordHistory(e,o,l){let u=[];o.length>0&&o.every(d=>d.role!==void 0)?u=o:u.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...kp(l)):this.history.push(e),this.history.push(...u)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Za extends Error{constructor(e){super(e.message),this.name="ApiError",this.status=e.status,Object.setPrototypeOf(this,Za.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function pC(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const u=s(n,["pageToken"]);return e!==void 0&&u!=null&&r(e,["_query","pageToken"],u),o}function gC(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],pC(o,e)),e}function hC(n){const e={},o=s(n,["details"]);o!=null&&r(e,["details"],o);const l=s(n,["message"]);l!=null&&r(e,["message"],l);const u=s(n,["code"]);return u!=null&&r(e,["code"],u),e}function yC(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const u=s(n,["mimeType"]);u!=null&&r(e,["mimeType"],u);const d=s(n,["sizeBytes"]);d!=null&&r(e,["sizeBytes"],d);const m=s(n,["createTime"]);m!=null&&r(e,["createTime"],m);const h=s(n,["expirationTime"]);h!=null&&r(e,["expirationTime"],h);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=s(n,["sha256Hash"]);p!=null&&r(e,["sha256Hash"],p);const v=s(n,["uri"]);v!=null&&r(e,["uri"],v);const T=s(n,["downloadUri"]);T!=null&&r(e,["downloadUri"],T);const x=s(n,["state"]);x!=null&&r(e,["state"],x);const M=s(n,["source"]);M!=null&&r(e,["source"],M);const U=s(n,["videoMetadata"]);U!=null&&r(e,["videoMetadata"],U);const P=s(n,["error"]);return P!=null&&r(e,["error"],hC(P)),e}function vC(n){const e={},o=s(n,["file"]);o!=null&&r(e,["file"],yC(o));const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function TC(n){const e={},o=s(n,["name"]);o!=null&&r(e,["_url","file"],pg(o));const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function CC(n){const e={},o=s(n,["name"]);o!=null&&r(e,["_url","file"],pg(o));const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function SC(n){const e={},o=s(n,["details"]);o!=null&&r(e,["details"],o);const l=s(n,["message"]);l!=null&&r(e,["message"],l);const u=s(n,["code"]);return u!=null&&r(e,["code"],u),e}function Au(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const u=s(n,["mimeType"]);u!=null&&r(e,["mimeType"],u);const d=s(n,["sizeBytes"]);d!=null&&r(e,["sizeBytes"],d);const m=s(n,["createTime"]);m!=null&&r(e,["createTime"],m);const h=s(n,["expirationTime"]);h!=null&&r(e,["expirationTime"],h);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=s(n,["sha256Hash"]);p!=null&&r(e,["sha256Hash"],p);const v=s(n,["uri"]);v!=null&&r(e,["uri"],v);const T=s(n,["downloadUri"]);T!=null&&r(e,["downloadUri"],T);const x=s(n,["state"]);x!=null&&r(e,["state"],x);const M=s(n,["source"]);M!=null&&r(e,["source"],M);const U=s(n,["videoMetadata"]);U!=null&&r(e,["videoMetadata"],U);const P=s(n,["error"]);return P!=null&&r(e,["error"],SC(P)),e}function xC(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const u=s(n,["files"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>Au(m))),r(e,["files"],d)}return e}function EC(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function AC(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class _C extends _i{constructor(e){super(),this.apiClient=e,this.list=async(o={})=>new Dl(Ai.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(o),o)}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then(o=>Au(o))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var o,l;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=gC(e);return d=ie("files",h._url),m=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const p=xC(y),v=new b0;return Object.assign(v,p),v})}}async createInternal(e){var o,l;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=vC(e);return d=ie("upload/v1beta/files",h._url),m=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>{const p=EC(y),v=new w0;return Object.assign(v,p),v})}}async get(e){var o,l;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=TC(e);return d=ie("files/{file}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>Au(y))}}async delete(e){var o,l;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=CC(e);return d=ie("files/{file}",h._url),m=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const p=AC(y),v=new I0;return Object.assign(v,p),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function MC(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function Ag(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],MC(o)),e}function RC(n){const e={},o=s(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=s(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],Ag(l)),e}function NC(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>RC(u))),r(e,["speakerVoiceConfigs"],l)}return e}function DC(n){const e={},o=s(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],Ag(o));const l=s(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],NC(l));const u=s(n,["languageCode"]);return u!=null&&r(e,["languageCode"],u),e}function bC(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const u=s(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function wC(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function IC(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function UC(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const l=s(n,["args"]);l!=null&&r(e,["args"],l);const u=s(n,["name"]);return u!=null&&r(e,["name"],u),e}function LC(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],bC(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const u=s(n,["inlineData"]);u!=null&&r(e,["inlineData"],wC(u));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],IC(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],UC(h));const y=s(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=s(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const T=s(n,["text"]);return T!=null&&r(e,["text"],T),e}function VC(n){const e={},o=s(n,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>LC(d))),r(e,["parts"],u)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function PC(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const u=s(n,["name"]);u!=null&&r(e,["name"],u);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const h=s(n,["response"]);h!=null&&r(e,["response"],h);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function kC(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function qC(n){const e={},o=s(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],kC(o)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function HC(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function GC(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],HC(o)),e}function BC(){return{}}function zC(n){const e={},o=s(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function FC(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>PC(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],qC(l));const u=s(n,["googleSearchRetrieval"]);if(u!=null&&r(e,["googleSearchRetrieval"],GC(u)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],BC());const m=s(n,["computerUse"]);m!=null&&r(e,["computerUse"],zC(m));const h=s(n,["codeExecution"]);return h!=null&&r(e,["codeExecution"],h),e}function YC(n){const e={},o=s(n,["handle"]);if(o!=null&&r(e,["handle"],o),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function qp(){return{}}function OC(n){const e={},o=s(n,["disabled"]);o!=null&&r(e,["disabled"],o);const l=s(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const u=s(n,["endOfSpeechSensitivity"]);u!=null&&r(e,["endOfSpeechSensitivity"],u);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const m=s(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function JC(n){const e={},o=s(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],OC(o));const l=s(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const u=s(n,["turnCoverage"]);return u!=null&&r(e,["turnCoverage"],u),e}function KC(n){const e={},o=s(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function XC(n){const e={},o=s(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const l=s(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],KC(l)),e}function QC(n){const e={},o=s(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function $C(n,e){const o={},l=s(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const u=s(n,["responseModalities"]);e!==void 0&&u!=null&&r(e,["setup","generationConfig","responseModalities"],u);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const m=s(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const h=s(n,["topK"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","topK"],h);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const T=s(n,["speechConfig"]);e!==void 0&&T!=null&&r(e,["setup","generationConfig","speechConfig"],DC(Vu(T)));const x=s(n,["enableAffectiveDialog"]);e!==void 0&&x!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],x);const M=s(n,["systemInstruction"]);e!==void 0&&M!=null&&r(e,["setup","systemInstruction"],VC(Et(M)));const U=s(n,["tools"]);if(e!==void 0&&U!=null){let X=Eo(U);Array.isArray(X)&&(X=X.map(ne=>FC(xo(ne)))),r(e,["setup","tools"],X)}const P=s(n,["sessionResumption"]);e!==void 0&&P!=null&&r(e,["setup","sessionResumption"],YC(P));const B=s(n,["inputAudioTranscription"]);e!==void 0&&B!=null&&r(e,["setup","inputAudioTranscription"],qp());const V=s(n,["outputAudioTranscription"]);e!==void 0&&V!=null&&r(e,["setup","outputAudioTranscription"],qp());const J=s(n,["realtimeInputConfig"]);e!==void 0&&J!=null&&r(e,["setup","realtimeInputConfig"],JC(J));const Q=s(n,["contextWindowCompression"]);e!==void 0&&Q!=null&&r(e,["setup","contextWindowCompression"],XC(Q));const ee=s(n,["proactivity"]);return e!==void 0&&ee!=null&&r(e,["setup","proactivity"],QC(ee)),o}function ZC(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["setup","model"],Le(n,l));const u=s(e,["config"]);return u!=null&&r(o,["config"],$C(u,o)),o}function WC(){return{}}function jC(){return{}}function eS(n){const e={},o=s(n,["media"]);o!=null&&r(e,["mediaChunks"],ug(o));const l=s(n,["audio"]);l!=null&&r(e,["audio"],fg(l));const u=s(n,["audioStreamEnd"]);u!=null&&r(e,["audioStreamEnd"],u);const d=s(n,["video"]);d!=null&&r(e,["video"],cg(d));const m=s(n,["text"]);return m!=null&&r(e,["text"],m),s(n,["activityStart"])!=null&&r(e,["activityStart"],WC()),s(n,["activityEnd"])!=null&&r(e,["activityEnd"],jC()),e}function _g(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const l=s(n,["weight"]);return l!=null&&r(e,["weight"],l),e}function tS(n){const e={},o=s(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>_g(u))),r(e,["weightedPrompts"],l)}return e}function Mg(n){const e={},o=s(n,["temperature"]);o!=null&&r(e,["temperature"],o);const l=s(n,["topK"]);l!=null&&r(e,["topK"],l);const u=s(n,["seed"]);u!=null&&r(e,["seed"],u);const d=s(n,["guidance"]);d!=null&&r(e,["guidance"],d);const m=s(n,["bpm"]);m!=null&&r(e,["bpm"],m);const h=s(n,["density"]);h!=null&&r(e,["density"],h);const y=s(n,["brightness"]);y!=null&&r(e,["brightness"],y);const p=s(n,["scale"]);p!=null&&r(e,["scale"],p);const v=s(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const T=s(n,["muteDrums"]);T!=null&&r(e,["muteDrums"],T);const x=s(n,["onlyBassAndDrums"]);x!=null&&r(e,["onlyBassAndDrums"],x);const M=s(n,["musicGenerationMode"]);return M!=null&&r(e,["musicGenerationMode"],M),e}function nS(n){const e={},o=s(n,["musicGenerationConfig"]);return o!=null&&r(e,["musicGenerationConfig"],Mg(o)),e}function Rg(n){const e={},o=s(n,["model"]);return o!=null&&r(e,["model"],o),e}function Ng(n){const e={},o=s(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>_g(u))),r(e,["weightedPrompts"],l)}return e}function _u(n){const e={},o=s(n,["setup"]);o!=null&&r(e,["setup"],Rg(o));const l=s(n,["clientContent"]);l!=null&&r(e,["clientContent"],Ng(l));const u=s(n,["musicGenerationConfig"]);u!=null&&r(e,["musicGenerationConfig"],Mg(u));const d=s(n,["playbackControl"]);return d!=null&&r(e,["playbackControl"],d),e}function iS(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function oS(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],iS(o)),e}function lS(n){const e={},o=s(n,["voiceConfig"]);if(o!=null&&r(e,["voiceConfig"],oS(o)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function aS(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const u=s(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function sS(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function rS(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function uS(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const l=s(n,["args"]);l!=null&&r(e,["args"],l);const u=s(n,["name"]);return u!=null&&r(e,["name"],u),e}function cS(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],aS(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const u=s(n,["inlineData"]);u!=null&&r(e,["inlineData"],sS(u));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],rS(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],uS(h));const y=s(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=s(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const T=s(n,["text"]);return T!=null&&r(e,["text"],T),e}function fS(n){const e={},o=s(n,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>cS(d))),r(e,["parts"],u)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function dS(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(n,["description"]);o!=null&&r(e,["description"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const u=s(n,["parameters"]);u!=null&&r(e,["parameters"],u);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const m=s(n,["response"]);m!=null&&r(e,["response"],m);const h=s(n,["responseJsonSchema"]);return h!=null&&r(e,["responseJsonSchema"],h),e}function mS(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function pS(n){const e={},o=s(n,["timeRangeFilter"]);o!=null&&r(e,["timeRangeFilter"],mS(o));const l=s(n,["excludeDomains"]);return l!=null&&r(e,["excludeDomains"],l),e}function gS(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function hS(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],gS(o)),e}function yS(n){const e={},o=s(n,["excludeDomains"]);return o!=null&&r(e,["excludeDomains"],o),e}function vS(n){const e={},o=s(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function TS(n){const e={},o=s(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],vS(o));const l=s(n,["authType"]);l!=null&&r(e,["authType"],l);const u=s(n,["googleServiceAccountConfig"]);u!=null&&r(e,["googleServiceAccountConfig"],u);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const m=s(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const h=s(n,["oidcConfig"]);return h!=null&&r(e,["oidcConfig"],h),e}function CS(n){const e={},o=s(n,["authConfig"]);return o!=null&&r(e,["authConfig"],TS(o)),e}function SS(){return{}}function xS(n){const e={},o=s(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function ES(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(x=>dS(x))),r(e,["functionDeclarations"],T)}const l=s(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const u=s(n,["googleSearch"]);u!=null&&r(e,["googleSearch"],pS(u));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],hS(d));const m=s(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],yS(m));const h=s(n,["googleMaps"]);h!=null&&r(e,["googleMaps"],CS(h)),s(n,["urlContext"])!=null&&r(e,["urlContext"],SS());const p=s(n,["computerUse"]);p!=null&&r(e,["computerUse"],xS(p));const v=s(n,["codeExecution"]);return v!=null&&r(e,["codeExecution"],v),e}function AS(n){const e={},o=s(n,["handle"]);o!=null&&r(e,["handle"],o);const l=s(n,["transparent"]);return l!=null&&r(e,["transparent"],l),e}function Hp(){return{}}function _S(n){const e={},o=s(n,["disabled"]);o!=null&&r(e,["disabled"],o);const l=s(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const u=s(n,["endOfSpeechSensitivity"]);u!=null&&r(e,["endOfSpeechSensitivity"],u);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const m=s(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function MS(n){const e={},o=s(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],_S(o));const l=s(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const u=s(n,["turnCoverage"]);return u!=null&&r(e,["turnCoverage"],u),e}function RS(n){const e={},o=s(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function NS(n){const e={},o=s(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const l=s(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],RS(l)),e}function DS(n){const e={},o=s(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function bS(n,e){const o={},l=s(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const u=s(n,["responseModalities"]);e!==void 0&&u!=null&&r(e,["setup","generationConfig","responseModalities"],u);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const m=s(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const h=s(n,["topK"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","topK"],h);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const T=s(n,["speechConfig"]);e!==void 0&&T!=null&&r(e,["setup","generationConfig","speechConfig"],lS(Vu(T)));const x=s(n,["enableAffectiveDialog"]);e!==void 0&&x!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],x);const M=s(n,["systemInstruction"]);e!==void 0&&M!=null&&r(e,["setup","systemInstruction"],fS(Et(M)));const U=s(n,["tools"]);if(e!==void 0&&U!=null){let X=Eo(U);Array.isArray(X)&&(X=X.map(ne=>ES(xo(ne)))),r(e,["setup","tools"],X)}const P=s(n,["sessionResumption"]);e!==void 0&&P!=null&&r(e,["setup","sessionResumption"],AS(P));const B=s(n,["inputAudioTranscription"]);e!==void 0&&B!=null&&r(e,["setup","inputAudioTranscription"],Hp());const V=s(n,["outputAudioTranscription"]);e!==void 0&&V!=null&&r(e,["setup","outputAudioTranscription"],Hp());const J=s(n,["realtimeInputConfig"]);e!==void 0&&J!=null&&r(e,["setup","realtimeInputConfig"],MS(J));const Q=s(n,["contextWindowCompression"]);e!==void 0&&Q!=null&&r(e,["setup","contextWindowCompression"],NS(Q));const ee=s(n,["proactivity"]);return e!==void 0&&ee!=null&&r(e,["setup","proactivity"],DS(ee)),o}function wS(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["setup","model"],Le(n,l));const u=s(e,["config"]);return u!=null&&r(o,["config"],bS(u,o)),o}function IS(){return{}}function US(){return{}}function LS(n){const e={},o=s(n,["media"]);o!=null&&r(e,["mediaChunks"],ug(o));const l=s(n,["audio"]);l!=null&&r(e,["audio"],fg(l));const u=s(n,["audioStreamEnd"]);u!=null&&r(e,["audioStreamEnd"],u);const d=s(n,["video"]);d!=null&&r(e,["video"],cg(d));const m=s(n,["text"]);return m!=null&&r(e,["text"],m),s(n,["activityStart"])!=null&&r(e,["activityStart"],IS()),s(n,["activityEnd"])!=null&&r(e,["activityEnd"],US()),e}function VS(){return{}}function PS(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const u=s(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function kS(n){const e={},o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function qS(n){const e={},o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function Dg(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const l=s(n,["args"]);l!=null&&r(e,["args"],l);const u=s(n,["name"]);return u!=null&&r(e,["name"],u),e}function HS(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],PS(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const u=s(n,["inlineData"]);u!=null&&r(e,["inlineData"],kS(u));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],qS(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],Dg(h));const y=s(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=s(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const T=s(n,["text"]);return T!=null&&r(e,["text"],T),e}function GS(n){const e={},o=s(n,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>HS(d))),r(e,["parts"],u)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function Gp(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const l=s(n,["finished"]);return l!=null&&r(e,["finished"],l),e}function BS(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=s(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function zS(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>BS(u))),r(e,["urlMetadata"],l)}return e}function FS(n){const e={},o=s(n,["modelTurn"]);o!=null&&r(e,["modelTurn"],GS(o));const l=s(n,["turnComplete"]);l!=null&&r(e,["turnComplete"],l);const u=s(n,["interrupted"]);u!=null&&r(e,["interrupted"],u);const d=s(n,["groundingMetadata"]);d!=null&&r(e,["groundingMetadata"],d);const m=s(n,["generationComplete"]);m!=null&&r(e,["generationComplete"],m);const h=s(n,["inputTranscription"]);h!=null&&r(e,["inputTranscription"],Gp(h));const y=s(n,["outputTranscription"]);y!=null&&r(e,["outputTranscription"],Gp(y));const p=s(n,["urlContextMetadata"]);p!=null&&r(e,["urlContextMetadata"],zS(p));const v=s(n,["turnCompleteReason"]);v!=null&&r(e,["turnCompleteReason"],v);const T=s(n,["waitingForInput"]);return T!=null&&r(e,["waitingForInput"],T),e}function YS(n){const e={},o=s(n,["functionCalls"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>Dg(u))),r(e,["functionCalls"],l)}return e}function OS(n){const e={},o=s(n,["ids"]);return o!=null&&r(e,["ids"],o),e}function Ya(n){const e={},o=s(n,["modality"]);o!=null&&r(e,["modality"],o);const l=s(n,["tokenCount"]);return l!=null&&r(e,["tokenCount"],l),e}function JS(n){const e={},o=s(n,["promptTokenCount"]);o!=null&&r(e,["promptTokenCount"],o);const l=s(n,["cachedContentTokenCount"]);l!=null&&r(e,["cachedContentTokenCount"],l);const u=s(n,["responseTokenCount"]);u!=null&&r(e,["responseTokenCount"],u);const d=s(n,["toolUsePromptTokenCount"]);d!=null&&r(e,["toolUsePromptTokenCount"],d);const m=s(n,["thoughtsTokenCount"]);m!=null&&r(e,["thoughtsTokenCount"],m);const h=s(n,["totalTokenCount"]);h!=null&&r(e,["totalTokenCount"],h);const y=s(n,["promptTokensDetails"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(M=>Ya(M))),r(e,["promptTokensDetails"],x)}const p=s(n,["cacheTokensDetails"]);if(p!=null){let x=p;Array.isArray(x)&&(x=x.map(M=>Ya(M))),r(e,["cacheTokensDetails"],x)}const v=s(n,["responseTokensDetails"]);if(v!=null){let x=v;Array.isArray(x)&&(x=x.map(M=>Ya(M))),r(e,["responseTokensDetails"],x)}const T=s(n,["toolUsePromptTokensDetails"]);if(T!=null){let x=T;Array.isArray(x)&&(x=x.map(M=>Ya(M))),r(e,["toolUsePromptTokensDetails"],x)}return e}function KS(n){const e={},o=s(n,["timeLeft"]);return o!=null&&r(e,["timeLeft"],o),e}function XS(n){const e={},o=s(n,["newHandle"]);o!=null&&r(e,["newHandle"],o);const l=s(n,["resumable"]);l!=null&&r(e,["resumable"],l);const u=s(n,["lastConsumedClientMessageIndex"]);return u!=null&&r(e,["lastConsumedClientMessageIndex"],u),e}function QS(n){const e={};s(n,["setupComplete"])!=null&&r(e,["setupComplete"],VS());const l=s(n,["serverContent"]);l!=null&&r(e,["serverContent"],FS(l));const u=s(n,["toolCall"]);u!=null&&r(e,["toolCall"],YS(u));const d=s(n,["toolCallCancellation"]);d!=null&&r(e,["toolCallCancellation"],OS(d));const m=s(n,["usageMetadata"]);m!=null&&r(e,["usageMetadata"],JS(m));const h=s(n,["goAway"]);h!=null&&r(e,["goAway"],KS(h));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],XS(y)),e}function $S(){return{}}function ZS(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const l=s(n,["weight"]);return l!=null&&r(e,["weight"],l),e}function WS(n){const e={},o=s(n,["weightedPrompts"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>ZS(u))),r(e,["weightedPrompts"],l)}return e}function jS(n){const e={},o=s(n,["temperature"]);o!=null&&r(e,["temperature"],o);const l=s(n,["topK"]);l!=null&&r(e,["topK"],l);const u=s(n,["seed"]);u!=null&&r(e,["seed"],u);const d=s(n,["guidance"]);d!=null&&r(e,["guidance"],d);const m=s(n,["bpm"]);m!=null&&r(e,["bpm"],m);const h=s(n,["density"]);h!=null&&r(e,["density"],h);const y=s(n,["brightness"]);y!=null&&r(e,["brightness"],y);const p=s(n,["scale"]);p!=null&&r(e,["scale"],p);const v=s(n,["muteBass"]);v!=null&&r(e,["muteBass"],v);const T=s(n,["muteDrums"]);T!=null&&r(e,["muteDrums"],T);const x=s(n,["onlyBassAndDrums"]);x!=null&&r(e,["onlyBassAndDrums"],x);const M=s(n,["musicGenerationMode"]);return M!=null&&r(e,["musicGenerationMode"],M),e}function ex(n){const e={},o=s(n,["clientContent"]);o!=null&&r(e,["clientContent"],WS(o));const l=s(n,["musicGenerationConfig"]);return l!=null&&r(e,["musicGenerationConfig"],jS(l)),e}function tx(n){const e={},o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);l!=null&&r(e,["mimeType"],l);const u=s(n,["sourceMetadata"]);return u!=null&&r(e,["sourceMetadata"],ex(u)),e}function nx(n){const e={},o=s(n,["audioChunks"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>tx(u))),r(e,["audioChunks"],l)}return e}function ix(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const l=s(n,["filteredReason"]);return l!=null&&r(e,["filteredReason"],l),e}function ox(n){const e={};s(n,["setupComplete"])!=null&&r(e,["setupComplete"],$S());const l=s(n,["serverContent"]);l!=null&&r(e,["serverContent"],nx(l));const u=s(n,["filteredPrompt"]);return u!=null&&r(e,["filteredPrompt"],ix(u)),e}function lx(n){const e={},o=s(n,["sessionId"]);return o!=null&&r(e,["sessionId"],o),e}function ax(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const u=s(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function sx(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function rx(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function bg(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const l=s(n,["args"]);l!=null&&r(e,["args"],l);const u=s(n,["name"]);return u!=null&&r(e,["name"],u),e}function ux(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],ax(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const u=s(n,["inlineData"]);u!=null&&r(e,["inlineData"],sx(u));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],rx(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],bg(h));const y=s(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=s(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const T=s(n,["text"]);return T!=null&&r(e,["text"],T),e}function cx(n){const e={},o=s(n,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>ux(d))),r(e,["parts"],u)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function Bp(n){const e={},o=s(n,["text"]);o!=null&&r(e,["text"],o);const l=s(n,["finished"]);return l!=null&&r(e,["finished"],l),e}function fx(n){const e={},o=s(n,["modelTurn"]);o!=null&&r(e,["modelTurn"],cx(o));const l=s(n,["turnComplete"]);l!=null&&r(e,["turnComplete"],l);const u=s(n,["interrupted"]);u!=null&&r(e,["interrupted"],u);const d=s(n,["groundingMetadata"]);d!=null&&r(e,["groundingMetadata"],d);const m=s(n,["generationComplete"]);m!=null&&r(e,["generationComplete"],m);const h=s(n,["inputTranscription"]);h!=null&&r(e,["inputTranscription"],Bp(h));const y=s(n,["outputTranscription"]);y!=null&&r(e,["outputTranscription"],Bp(y));const p=s(n,["turnCompleteReason"]);p!=null&&r(e,["turnCompleteReason"],p);const v=s(n,["waitingForInput"]);return v!=null&&r(e,["waitingForInput"],v),e}function dx(n){const e={},o=s(n,["functionCalls"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>bg(u))),r(e,["functionCalls"],l)}return e}function mx(n){const e={},o=s(n,["ids"]);return o!=null&&r(e,["ids"],o),e}function Oa(n){const e={},o=s(n,["modality"]);o!=null&&r(e,["modality"],o);const l=s(n,["tokenCount"]);return l!=null&&r(e,["tokenCount"],l),e}function px(n){const e={},o=s(n,["promptTokenCount"]);o!=null&&r(e,["promptTokenCount"],o);const l=s(n,["cachedContentTokenCount"]);l!=null&&r(e,["cachedContentTokenCount"],l);const u=s(n,["candidatesTokenCount"]);u!=null&&r(e,["responseTokenCount"],u);const d=s(n,["toolUsePromptTokenCount"]);d!=null&&r(e,["toolUsePromptTokenCount"],d);const m=s(n,["thoughtsTokenCount"]);m!=null&&r(e,["thoughtsTokenCount"],m);const h=s(n,["totalTokenCount"]);h!=null&&r(e,["totalTokenCount"],h);const y=s(n,["promptTokensDetails"]);if(y!=null){let M=y;Array.isArray(M)&&(M=M.map(U=>Oa(U))),r(e,["promptTokensDetails"],M)}const p=s(n,["cacheTokensDetails"]);if(p!=null){let M=p;Array.isArray(M)&&(M=M.map(U=>Oa(U))),r(e,["cacheTokensDetails"],M)}const v=s(n,["candidatesTokensDetails"]);if(v!=null){let M=v;Array.isArray(M)&&(M=M.map(U=>Oa(U))),r(e,["responseTokensDetails"],M)}const T=s(n,["toolUsePromptTokensDetails"]);if(T!=null){let M=T;Array.isArray(M)&&(M=M.map(U=>Oa(U))),r(e,["toolUsePromptTokensDetails"],M)}const x=s(n,["trafficType"]);return x!=null&&r(e,["trafficType"],x),e}function gx(n){const e={},o=s(n,["timeLeft"]);return o!=null&&r(e,["timeLeft"],o),e}function hx(n){const e={},o=s(n,["newHandle"]);o!=null&&r(e,["newHandle"],o);const l=s(n,["resumable"]);l!=null&&r(e,["resumable"],l);const u=s(n,["lastConsumedClientMessageIndex"]);return u!=null&&r(e,["lastConsumedClientMessageIndex"],u),e}function yx(n){const e={},o=s(n,["setupComplete"]);o!=null&&r(e,["setupComplete"],lx(o));const l=s(n,["serverContent"]);l!=null&&r(e,["serverContent"],fx(l));const u=s(n,["toolCall"]);u!=null&&r(e,["toolCall"],dx(u));const d=s(n,["toolCallCancellation"]);d!=null&&r(e,["toolCallCancellation"],mx(d));const m=s(n,["usageMetadata"]);m!=null&&r(e,["usageMetadata"],px(m));const h=s(n,["goAway"]);h!=null&&r(e,["goAway"],gx(h));const y=s(n,["sessionResumptionUpdate"]);return y!=null&&r(e,["sessionResumptionUpdate"],hx(y)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function vx(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const u=s(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function Tx(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function Cx(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function Sx(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const l=s(n,["args"]);l!=null&&r(e,["args"],l);const u=s(n,["name"]);return u!=null&&r(e,["name"],u),e}function xx(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],vx(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const u=s(n,["inlineData"]);u!=null&&r(e,["inlineData"],Tx(u));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],Cx(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],Sx(h));const y=s(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=s(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const T=s(n,["text"]);return T!=null&&r(e,["text"],T),e}function Wa(n){const e={},o=s(n,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>xx(d))),r(e,["parts"],u)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function Ex(n){const e={},o=s(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const l=s(n,["default"]);l!=null&&r(e,["default"],l);const u=s(n,["description"]);u!=null&&r(e,["description"],u);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const m=s(n,["example"]);m!=null&&r(e,["example"],m);const h=s(n,["format"]);h!=null&&r(e,["format"],h);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const p=s(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const T=s(n,["maxProperties"]);T!=null&&r(e,["maxProperties"],T);const x=s(n,["maximum"]);x!=null&&r(e,["maximum"],x);const M=s(n,["minItems"]);M!=null&&r(e,["minItems"],M);const U=s(n,["minLength"]);U!=null&&r(e,["minLength"],U);const P=s(n,["minProperties"]);P!=null&&r(e,["minProperties"],P);const B=s(n,["minimum"]);B!=null&&r(e,["minimum"],B);const V=s(n,["nullable"]);V!=null&&r(e,["nullable"],V);const J=s(n,["pattern"]);J!=null&&r(e,["pattern"],J);const Q=s(n,["properties"]);Q!=null&&r(e,["properties"],Q);const ee=s(n,["propertyOrdering"]);ee!=null&&r(e,["propertyOrdering"],ee);const X=s(n,["required"]);X!=null&&r(e,["required"],X);const ne=s(n,["title"]);ne!=null&&r(e,["title"],ne);const fe=s(n,["type"]);return fe!=null&&r(e,["type"],fe),e}function Ax(n){const e={};if(s(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const o=s(n,["category"]);o!=null&&r(e,["category"],o);const l=s(n,["threshold"]);return l!=null&&r(e,["threshold"],l),e}function _x(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const u=s(n,["name"]);u!=null&&r(e,["name"],u);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const h=s(n,["response"]);h!=null&&r(e,["response"],h);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function Mx(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function Rx(n){const e={},o=s(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],Mx(o)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function Nx(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function Dx(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],Nx(o)),e}function bx(){return{}}function wx(n){const e={},o=s(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function Ix(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>_x(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],Rx(l));const u=s(n,["googleSearchRetrieval"]);if(u!=null&&r(e,["googleSearchRetrieval"],Dx(u)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],bx());const m=s(n,["computerUse"]);m!=null&&r(e,["computerUse"],wx(m));const h=s(n,["codeExecution"]);return h!=null&&r(e,["codeExecution"],h),e}function Ux(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function Lx(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function Vx(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],Lx(o));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function Px(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],Ux(o));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],Vx(l)),e}function kx(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function wg(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],kx(o)),e}function qx(n){const e={},o=s(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=s(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],wg(l)),e}function Hx(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>qx(u))),r(e,["speakerVoiceConfigs"],l)}return e}function Gx(n){const e={},o=s(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],wg(o));const l=s(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],Hx(l));const u=s(n,["languageCode"]);return u!=null&&r(e,["languageCode"],u),e}function Bx(n){const e={},o=s(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=s(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function zx(n,e,o){const l={},u=s(e,["systemInstruction"]);o!==void 0&&u!=null&&r(o,["systemInstruction"],Wa(Et(u)));const d=s(e,["temperature"]);d!=null&&r(l,["temperature"],d);const m=s(e,["topP"]);m!=null&&r(l,["topP"],m);const h=s(e,["topK"]);h!=null&&r(l,["topK"],h);const y=s(e,["candidateCount"]);y!=null&&r(l,["candidateCount"],y);const p=s(e,["maxOutputTokens"]);p!=null&&r(l,["maxOutputTokens"],p);const v=s(e,["stopSequences"]);v!=null&&r(l,["stopSequences"],v);const T=s(e,["responseLogprobs"]);T!=null&&r(l,["responseLogprobs"],T);const x=s(e,["logprobs"]);x!=null&&r(l,["logprobs"],x);const M=s(e,["presencePenalty"]);M!=null&&r(l,["presencePenalty"],M);const U=s(e,["frequencyPenalty"]);U!=null&&r(l,["frequencyPenalty"],U);const P=s(e,["seed"]);P!=null&&r(l,["seed"],P);const B=s(e,["responseMimeType"]);B!=null&&r(l,["responseMimeType"],B);const V=s(e,["responseSchema"]);V!=null&&r(l,["responseSchema"],Ex(Uu(V)));const J=s(e,["responseJsonSchema"]);if(J!=null&&r(l,["responseJsonSchema"],J),s(e,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(s(e,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const Q=s(e,["safetySettings"]);if(o!==void 0&&Q!=null){let le=Q;Array.isArray(le)&&(le=le.map(be=>Ax(be))),r(o,["safetySettings"],le)}const ee=s(e,["tools"]);if(o!==void 0&&ee!=null){let le=Eo(ee);Array.isArray(le)&&(le=le.map(be=>Ix(xo(be)))),r(o,["tools"],le)}const X=s(e,["toolConfig"]);if(o!==void 0&&X!=null&&r(o,["toolConfig"],Px(X)),s(e,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const ne=s(e,["cachedContent"]);o!==void 0&&ne!=null&&r(o,["cachedContent"],wn(n,ne));const fe=s(e,["responseModalities"]);fe!=null&&r(l,["responseModalities"],fe);const Se=s(e,["mediaResolution"]);Se!=null&&r(l,["mediaResolution"],Se);const se=s(e,["speechConfig"]);if(se!=null&&r(l,["speechConfig"],Gx(Lu(se))),s(e,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ye=s(e,["thinkingConfig"]);return ye!=null&&r(l,["thinkingConfig"],Bx(ye)),l}function zp(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],Le(n,l));const u=s(e,["contents"]);if(u!=null){let m=$t(u);Array.isArray(m)&&(m=m.map(h=>Wa(h))),r(o,["contents"],m)}const d=s(e,["config"]);return d!=null&&r(o,["generationConfig"],zx(n,d,o)),o}function Fx(n,e){const o={},l=s(n,["taskType"]);e!==void 0&&l!=null&&r(e,["requests[]","taskType"],l);const u=s(n,["title"]);e!==void 0&&u!=null&&r(e,["requests[]","title"],u);const d=s(n,["outputDimensionality"]);if(e!==void 0&&d!=null&&r(e,["requests[]","outputDimensionality"],d),s(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(s(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function Yx(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],Le(n,l));const u=s(e,["contents"]);u!=null&&r(o,["requests[]","content"],Iu(n,u));const d=s(e,["config"]);d!=null&&r(o,["config"],Fx(d,o));const m=s(e,["model"]);return m!==void 0&&r(o,["requests[]","model"],Le(n,m)),o}function Ox(n,e){const o={};if(s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=s(n,["numberOfImages"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const u=s(n,["aspectRatio"]);e!==void 0&&u!=null&&r(e,["parameters","aspectRatio"],u);const d=s(n,["guidanceScale"]);if(e!==void 0&&d!=null&&r(e,["parameters","guidanceScale"],d),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const m=s(n,["safetyFilterLevel"]);e!==void 0&&m!=null&&r(e,["parameters","safetySetting"],m);const h=s(n,["personGeneration"]);e!==void 0&&h!=null&&r(e,["parameters","personGeneration"],h);const y=s(n,["includeSafetyAttributes"]);e!==void 0&&y!=null&&r(e,["parameters","includeSafetyAttributes"],y);const p=s(n,["includeRaiReason"]);e!==void 0&&p!=null&&r(e,["parameters","includeRaiReason"],p);const v=s(n,["language"]);e!==void 0&&v!=null&&r(e,["parameters","language"],v);const T=s(n,["outputMimeType"]);e!==void 0&&T!=null&&r(e,["parameters","outputOptions","mimeType"],T);const x=s(n,["outputCompressionQuality"]);if(e!==void 0&&x!=null&&r(e,["parameters","outputOptions","compressionQuality"],x),s(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");const M=s(n,["imageSize"]);if(e!==void 0&&M!=null&&r(e,["parameters","sampleImageSize"],M),s(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return o}function Jx(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],Le(n,l));const u=s(e,["prompt"]);u!=null&&r(o,["instances[0]","prompt"],u);const d=s(e,["config"]);return d!=null&&r(o,["config"],Ox(d,o)),o}function Kx(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","name"],Le(n,l));const u=s(e,["config"]);return u!=null&&r(o,["config"],u),o}function Xx(n,e,o){const l={},u=s(e,["pageSize"]);o!==void 0&&u!=null&&r(o,["_query","pageSize"],u);const d=s(e,["pageToken"]);o!==void 0&&d!=null&&r(o,["_query","pageToken"],d);const m=s(e,["filter"]);o!==void 0&&m!=null&&r(o,["_query","filter"],m);const h=s(e,["queryBase"]);return o!==void 0&&h!=null&&r(o,["_url","models_url"],gg(n,h)),l}function Qx(n,e){const o={},l=s(e,["config"]);return l!=null&&r(o,["config"],Xx(n,l,o)),o}function $x(n,e){const o={},l=s(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const u=s(n,["description"]);e!==void 0&&u!=null&&r(e,["description"],u);const d=s(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&r(e,["defaultCheckpointId"],d),o}function Zx(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","name"],Le(n,l));const u=s(e,["config"]);return u!=null&&r(o,["config"],$x(u,o)),o}function Wx(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","name"],Le(n,l));const u=s(e,["config"]);return u!=null&&r(o,["config"],u),o}function jx(n){const e={};if(s(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(s(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(s(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return e}function eE(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],Le(n,l));const u=s(e,["contents"]);if(u!=null){let m=$t(u);Array.isArray(m)&&(m=m.map(h=>Wa(h))),r(o,["contents"],m)}const d=s(e,["config"]);return d!=null&&r(o,["config"],jx(d)),o}function Ig(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const o=s(n,["imageBytes"]);o!=null&&r(e,["bytesBase64Encoded"],Mi(o));const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function tE(n,e){const o={},l=s(n,["prompt"]);e!==void 0&&l!=null&&r(e,["instances[0]","prompt"],l);const u=s(n,["image"]);if(e!==void 0&&u!=null&&r(e,["instances[0]","image"],Ig(u)),s(n,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");return o}function nE(n,e){const o={},l=s(n,["numberOfVideos"]);if(e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l),s(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(s(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const u=s(n,["durationSeconds"]);if(e!==void 0&&u!=null&&r(e,["parameters","durationSeconds"],u),s(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=s(n,["aspectRatio"]);e!==void 0&&d!=null&&r(e,["parameters","aspectRatio"],d);const m=s(n,["resolution"]);e!==void 0&&m!=null&&r(e,["parameters","resolution"],m);const h=s(n,["personGeneration"]);if(e!==void 0&&h!=null&&r(e,["parameters","personGeneration"],h),s(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=s(n,["negativePrompt"]);e!==void 0&&y!=null&&r(e,["parameters","negativePrompt"],y);const p=s(n,["enhancePrompt"]);if(e!==void 0&&p!=null&&r(e,["parameters","enhancePrompt"],p),s(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");if(s(n,["lastFrame"])!==void 0)throw new Error("lastFrame parameter is not supported in Gemini API.");if(s(n,["referenceImages"])!==void 0)throw new Error("referenceImages parameter is not supported in Gemini API.");if(s(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(s(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return o}function iE(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],Le(n,l));const u=s(e,["prompt"]);u!=null&&r(o,["instances[0]","prompt"],u);const d=s(e,["image"]);if(d!=null&&r(o,["instances[0]","image"],Ig(d)),s(e,["video"])!==void 0)throw new Error("video parameter is not supported in Gemini API.");const m=s(e,["source"]);m!=null&&r(o,["config"],tE(m,o));const h=s(e,["config"]);return h!=null&&r(o,["config"],nE(h,o)),o}function oE(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const u=s(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function lE(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function aE(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function sE(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const l=s(n,["args"]);l!=null&&r(e,["args"],l);const u=s(n,["name"]);return u!=null&&r(e,["name"],u),e}function rE(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],oE(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const u=s(n,["inlineData"]);u!=null&&r(e,["inlineData"],lE(u));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],aE(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],sE(h));const y=s(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=s(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const T=s(n,["text"]);return T!=null&&r(e,["text"],T),e}function _o(n){const e={},o=s(n,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>rE(d))),r(e,["parts"],u)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function uE(n){const e={},o=s(n,["anyOf"]);o!=null&&r(e,["anyOf"],o);const l=s(n,["default"]);l!=null&&r(e,["default"],l);const u=s(n,["description"]);u!=null&&r(e,["description"],u);const d=s(n,["enum"]);d!=null&&r(e,["enum"],d);const m=s(n,["example"]);m!=null&&r(e,["example"],m);const h=s(n,["format"]);h!=null&&r(e,["format"],h);const y=s(n,["items"]);y!=null&&r(e,["items"],y);const p=s(n,["maxItems"]);p!=null&&r(e,["maxItems"],p);const v=s(n,["maxLength"]);v!=null&&r(e,["maxLength"],v);const T=s(n,["maxProperties"]);T!=null&&r(e,["maxProperties"],T);const x=s(n,["maximum"]);x!=null&&r(e,["maximum"],x);const M=s(n,["minItems"]);M!=null&&r(e,["minItems"],M);const U=s(n,["minLength"]);U!=null&&r(e,["minLength"],U);const P=s(n,["minProperties"]);P!=null&&r(e,["minProperties"],P);const B=s(n,["minimum"]);B!=null&&r(e,["minimum"],B);const V=s(n,["nullable"]);V!=null&&r(e,["nullable"],V);const J=s(n,["pattern"]);J!=null&&r(e,["pattern"],J);const Q=s(n,["properties"]);Q!=null&&r(e,["properties"],Q);const ee=s(n,["propertyOrdering"]);ee!=null&&r(e,["propertyOrdering"],ee);const X=s(n,["required"]);X!=null&&r(e,["required"],X);const ne=s(n,["title"]);ne!=null&&r(e,["title"],ne);const fe=s(n,["type"]);return fe!=null&&r(e,["type"],fe),e}function cE(n){const e={},o=s(n,["featureSelectionPreference"]);return o!=null&&r(e,["featureSelectionPreference"],o),e}function fE(n){const e={},o=s(n,["method"]);o!=null&&r(e,["method"],o);const l=s(n,["category"]);l!=null&&r(e,["category"],l);const u=s(n,["threshold"]);return u!=null&&r(e,["threshold"],u),e}function dE(n){const e={};if(s(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const o=s(n,["description"]);o!=null&&r(e,["description"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const u=s(n,["parameters"]);u!=null&&r(e,["parameters"],u);const d=s(n,["parametersJsonSchema"]);d!=null&&r(e,["parametersJsonSchema"],d);const m=s(n,["response"]);m!=null&&r(e,["response"],m);const h=s(n,["responseJsonSchema"]);return h!=null&&r(e,["responseJsonSchema"],h),e}function mE(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function pE(n){const e={},o=s(n,["timeRangeFilter"]);o!=null&&r(e,["timeRangeFilter"],mE(o));const l=s(n,["excludeDomains"]);return l!=null&&r(e,["excludeDomains"],l),e}function gE(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function hE(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],gE(o)),e}function yE(n){const e={},o=s(n,["excludeDomains"]);return o!=null&&r(e,["excludeDomains"],o),e}function vE(n){const e={},o=s(n,["apiKeyString"]);return o!=null&&r(e,["apiKeyString"],o),e}function TE(n){const e={},o=s(n,["apiKeyConfig"]);o!=null&&r(e,["apiKeyConfig"],vE(o));const l=s(n,["authType"]);l!=null&&r(e,["authType"],l);const u=s(n,["googleServiceAccountConfig"]);u!=null&&r(e,["googleServiceAccountConfig"],u);const d=s(n,["httpBasicAuthConfig"]);d!=null&&r(e,["httpBasicAuthConfig"],d);const m=s(n,["oauthConfig"]);m!=null&&r(e,["oauthConfig"],m);const h=s(n,["oidcConfig"]);return h!=null&&r(e,["oidcConfig"],h),e}function CE(n){const e={},o=s(n,["authConfig"]);return o!=null&&r(e,["authConfig"],TE(o)),e}function SE(){return{}}function xE(n){const e={},o=s(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function Ug(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let T=o;Array.isArray(T)&&(T=T.map(x=>dE(x))),r(e,["functionDeclarations"],T)}const l=s(n,["retrieval"]);l!=null&&r(e,["retrieval"],l);const u=s(n,["googleSearch"]);u!=null&&r(e,["googleSearch"],pE(u));const d=s(n,["googleSearchRetrieval"]);d!=null&&r(e,["googleSearchRetrieval"],hE(d));const m=s(n,["enterpriseWebSearch"]);m!=null&&r(e,["enterpriseWebSearch"],yE(m));const h=s(n,["googleMaps"]);h!=null&&r(e,["googleMaps"],CE(h)),s(n,["urlContext"])!=null&&r(e,["urlContext"],SE());const p=s(n,["computerUse"]);p!=null&&r(e,["computerUse"],xE(p));const v=s(n,["codeExecution"]);return v!=null&&r(e,["codeExecution"],v),e}function EE(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["allowedFunctionNames"]);return l!=null&&r(e,["allowedFunctionNames"],l),e}function AE(n){const e={},o=s(n,["latitude"]);o!=null&&r(e,["latitude"],o);const l=s(n,["longitude"]);return l!=null&&r(e,["longitude"],l),e}function _E(n){const e={},o=s(n,["latLng"]);o!=null&&r(e,["latLng"],AE(o));const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function ME(n){const e={},o=s(n,["functionCallingConfig"]);o!=null&&r(e,["functionCallingConfig"],EE(o));const l=s(n,["retrievalConfig"]);return l!=null&&r(e,["retrievalConfig"],_E(l)),e}function RE(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function NE(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],RE(o)),e}function DE(n){const e={},o=s(n,["voiceConfig"]);if(o!=null&&r(e,["voiceConfig"],NE(o)),s(n,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=s(n,["languageCode"]);return l!=null&&r(e,["languageCode"],l),e}function bE(n){const e={},o=s(n,["includeThoughts"]);o!=null&&r(e,["includeThoughts"],o);const l=s(n,["thinkingBudget"]);return l!=null&&r(e,["thinkingBudget"],l),e}function wE(n,e,o){const l={},u=s(e,["systemInstruction"]);o!==void 0&&u!=null&&r(o,["systemInstruction"],_o(Et(u)));const d=s(e,["temperature"]);d!=null&&r(l,["temperature"],d);const m=s(e,["topP"]);m!=null&&r(l,["topP"],m);const h=s(e,["topK"]);h!=null&&r(l,["topK"],h);const y=s(e,["candidateCount"]);y!=null&&r(l,["candidateCount"],y);const p=s(e,["maxOutputTokens"]);p!=null&&r(l,["maxOutputTokens"],p);const v=s(e,["stopSequences"]);v!=null&&r(l,["stopSequences"],v);const T=s(e,["responseLogprobs"]);T!=null&&r(l,["responseLogprobs"],T);const x=s(e,["logprobs"]);x!=null&&r(l,["logprobs"],x);const M=s(e,["presencePenalty"]);M!=null&&r(l,["presencePenalty"],M);const U=s(e,["frequencyPenalty"]);U!=null&&r(l,["frequencyPenalty"],U);const P=s(e,["seed"]);P!=null&&r(l,["seed"],P);const B=s(e,["responseMimeType"]);B!=null&&r(l,["responseMimeType"],B);const V=s(e,["responseSchema"]);V!=null&&r(l,["responseSchema"],uE(Uu(V)));const J=s(e,["responseJsonSchema"]);J!=null&&r(l,["responseJsonSchema"],J);const Q=s(e,["routingConfig"]);Q!=null&&r(l,["routingConfig"],Q);const ee=s(e,["modelSelectionConfig"]);ee!=null&&r(l,["modelConfig"],cE(ee));const X=s(e,["safetySettings"]);if(o!==void 0&&X!=null){let W=X;Array.isArray(W)&&(W=W.map(w=>fE(w))),r(o,["safetySettings"],W)}const ne=s(e,["tools"]);if(o!==void 0&&ne!=null){let W=Eo(ne);Array.isArray(W)&&(W=W.map(w=>Ug(xo(w)))),r(o,["tools"],W)}const fe=s(e,["toolConfig"]);o!==void 0&&fe!=null&&r(o,["toolConfig"],ME(fe));const Se=s(e,["labels"]);o!==void 0&&Se!=null&&r(o,["labels"],Se);const se=s(e,["cachedContent"]);o!==void 0&&se!=null&&r(o,["cachedContent"],wn(n,se));const ye=s(e,["responseModalities"]);ye!=null&&r(l,["responseModalities"],ye);const le=s(e,["mediaResolution"]);le!=null&&r(l,["mediaResolution"],le);const be=s(e,["speechConfig"]);be!=null&&r(l,["speechConfig"],DE(Lu(be)));const Ke=s(e,["audioTimestamp"]);Ke!=null&&r(l,["audioTimestamp"],Ke);const lt=s(e,["thinkingConfig"]);return lt!=null&&r(l,["thinkingConfig"],bE(lt)),l}function Fp(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],Le(n,l));const u=s(e,["contents"]);if(u!=null){let m=$t(u);Array.isArray(m)&&(m=m.map(h=>_o(h))),r(o,["contents"],m)}const d=s(e,["config"]);return d!=null&&r(o,["generationConfig"],wE(n,d,o)),o}function IE(n,e){const o={},l=s(n,["taskType"]);e!==void 0&&l!=null&&r(e,["instances[]","task_type"],l);const u=s(n,["title"]);e!==void 0&&u!=null&&r(e,["instances[]","title"],u);const d=s(n,["outputDimensionality"]);e!==void 0&&d!=null&&r(e,["parameters","outputDimensionality"],d);const m=s(n,["mimeType"]);e!==void 0&&m!=null&&r(e,["instances[]","mimeType"],m);const h=s(n,["autoTruncate"]);return e!==void 0&&h!=null&&r(e,["parameters","autoTruncate"],h),o}function UE(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],Le(n,l));const u=s(e,["contents"]);u!=null&&r(o,["instances[]","content"],Iu(n,u));const d=s(e,["config"]);return d!=null&&r(o,["config"],IE(d,o)),o}function LE(n,e){const o={},l=s(n,["outputGcsUri"]);e!==void 0&&l!=null&&r(e,["parameters","storageUri"],l);const u=s(n,["negativePrompt"]);e!==void 0&&u!=null&&r(e,["parameters","negativePrompt"],u);const d=s(n,["numberOfImages"]);e!==void 0&&d!=null&&r(e,["parameters","sampleCount"],d);const m=s(n,["aspectRatio"]);e!==void 0&&m!=null&&r(e,["parameters","aspectRatio"],m);const h=s(n,["guidanceScale"]);e!==void 0&&h!=null&&r(e,["parameters","guidanceScale"],h);const y=s(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const p=s(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&r(e,["parameters","safetySetting"],p);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const T=s(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&r(e,["parameters","includeSafetyAttributes"],T);const x=s(n,["includeRaiReason"]);e!==void 0&&x!=null&&r(e,["parameters","includeRaiReason"],x);const M=s(n,["language"]);e!==void 0&&M!=null&&r(e,["parameters","language"],M);const U=s(n,["outputMimeType"]);e!==void 0&&U!=null&&r(e,["parameters","outputOptions","mimeType"],U);const P=s(n,["outputCompressionQuality"]);e!==void 0&&P!=null&&r(e,["parameters","outputOptions","compressionQuality"],P);const B=s(n,["addWatermark"]);e!==void 0&&B!=null&&r(e,["parameters","addWatermark"],B);const V=s(n,["imageSize"]);e!==void 0&&V!=null&&r(e,["parameters","sampleImageSize"],V);const J=s(n,["enhancePrompt"]);return e!==void 0&&J!=null&&r(e,["parameters","enhancePrompt"],J),o}function VE(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],Le(n,l));const u=s(e,["prompt"]);u!=null&&r(o,["instances[0]","prompt"],u);const d=s(e,["config"]);return d!=null&&r(o,["config"],LE(d,o)),o}function tn(n){const e={},o=s(n,["gcsUri"]);o!=null&&r(e,["gcsUri"],o);const l=s(n,["imageBytes"]);l!=null&&r(e,["bytesBase64Encoded"],Mi(l));const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function PE(n){const e={},o=s(n,["maskMode"]);o!=null&&r(e,["maskMode"],o);const l=s(n,["segmentationClasses"]);l!=null&&r(e,["maskClasses"],l);const u=s(n,["maskDilation"]);return u!=null&&r(e,["dilation"],u),e}function kE(n){const e={},o=s(n,["controlType"]);o!=null&&r(e,["controlType"],o);const l=s(n,["enableControlImageComputation"]);return l!=null&&r(e,["computeControl"],l),e}function qE(n){const e={},o=s(n,["styleDescription"]);return o!=null&&r(e,["styleDescription"],o),e}function HE(n){const e={},o=s(n,["subjectType"]);o!=null&&r(e,["subjectType"],o);const l=s(n,["subjectDescription"]);return l!=null&&r(e,["subjectDescription"],l),e}function GE(n){const e={},o=s(n,["referenceImage"]);o!=null&&r(e,["referenceImage"],tn(o));const l=s(n,["referenceId"]);l!=null&&r(e,["referenceId"],l);const u=s(n,["referenceType"]);u!=null&&r(e,["referenceType"],u);const d=s(n,["maskImageConfig"]);d!=null&&r(e,["maskImageConfig"],PE(d));const m=s(n,["controlImageConfig"]);m!=null&&r(e,["controlImageConfig"],kE(m));const h=s(n,["styleImageConfig"]);h!=null&&r(e,["styleImageConfig"],qE(h));const y=s(n,["subjectImageConfig"]);return y!=null&&r(e,["subjectImageConfig"],HE(y)),e}function BE(n,e){const o={},l=s(n,["outputGcsUri"]);e!==void 0&&l!=null&&r(e,["parameters","storageUri"],l);const u=s(n,["negativePrompt"]);e!==void 0&&u!=null&&r(e,["parameters","negativePrompt"],u);const d=s(n,["numberOfImages"]);e!==void 0&&d!=null&&r(e,["parameters","sampleCount"],d);const m=s(n,["aspectRatio"]);e!==void 0&&m!=null&&r(e,["parameters","aspectRatio"],m);const h=s(n,["guidanceScale"]);e!==void 0&&h!=null&&r(e,["parameters","guidanceScale"],h);const y=s(n,["seed"]);e!==void 0&&y!=null&&r(e,["parameters","seed"],y);const p=s(n,["safetyFilterLevel"]);e!==void 0&&p!=null&&r(e,["parameters","safetySetting"],p);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const T=s(n,["includeSafetyAttributes"]);e!==void 0&&T!=null&&r(e,["parameters","includeSafetyAttributes"],T);const x=s(n,["includeRaiReason"]);e!==void 0&&x!=null&&r(e,["parameters","includeRaiReason"],x);const M=s(n,["language"]);e!==void 0&&M!=null&&r(e,["parameters","language"],M);const U=s(n,["outputMimeType"]);e!==void 0&&U!=null&&r(e,["parameters","outputOptions","mimeType"],U);const P=s(n,["outputCompressionQuality"]);e!==void 0&&P!=null&&r(e,["parameters","outputOptions","compressionQuality"],P);const B=s(n,["addWatermark"]);e!==void 0&&B!=null&&r(e,["parameters","addWatermark"],B);const V=s(n,["editMode"]);e!==void 0&&V!=null&&r(e,["parameters","editMode"],V);const J=s(n,["baseSteps"]);return e!==void 0&&J!=null&&r(e,["parameters","editConfig","baseSteps"],J),o}function zE(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],Le(n,l));const u=s(e,["prompt"]);u!=null&&r(o,["instances[0]","prompt"],u);const d=s(e,["referenceImages"]);if(d!=null){let h=d;Array.isArray(h)&&(h=h.map(y=>GE(y))),r(o,["instances[0]","referenceImages"],h)}const m=s(e,["config"]);return m!=null&&r(o,["config"],BE(m,o)),o}function FE(n,e){const o={},l=s(n,["outputGcsUri"]);e!==void 0&&l!=null&&r(e,["parameters","storageUri"],l);const u=s(n,["includeRaiReason"]);e!==void 0&&u!=null&&r(e,["parameters","includeRaiReason"],u);const d=s(n,["outputMimeType"]);e!==void 0&&d!=null&&r(e,["parameters","outputOptions","mimeType"],d);const m=s(n,["outputCompressionQuality"]);e!==void 0&&m!=null&&r(e,["parameters","outputOptions","compressionQuality"],m);const h=s(n,["enhanceInputImage"]);e!==void 0&&h!=null&&r(e,["parameters","upscaleConfig","enhanceInputImage"],h);const y=s(n,["imagePreservationFactor"]);e!==void 0&&y!=null&&r(e,["parameters","upscaleConfig","imagePreservationFactor"],y);const p=s(n,["numberOfImages"]);e!==void 0&&p!=null&&r(e,["parameters","sampleCount"],p);const v=s(n,["mode"]);return e!==void 0&&v!=null&&r(e,["parameters","mode"],v),o}function YE(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],Le(n,l));const u=s(e,["image"]);u!=null&&r(o,["instances[0]","image"],tn(u));const d=s(e,["upscaleFactor"]);d!=null&&r(o,["parameters","upscaleConfig","upscaleFactor"],d);const m=s(e,["config"]);return m!=null&&r(o,["config"],FE(m,o)),o}function OE(n){const e={},o=s(n,["productImage"]);return o!=null&&r(e,["image"],tn(o)),e}function JE(n,e){const o={},l=s(n,["prompt"]);e!==void 0&&l!=null&&r(e,["instances[0]","prompt"],l);const u=s(n,["personImage"]);e!==void 0&&u!=null&&r(e,["instances[0]","personImage","image"],tn(u));const d=s(n,["productImages"]);if(e!==void 0&&d!=null){let m=d;Array.isArray(m)&&(m=m.map(h=>OE(h))),r(e,["instances[0]","productImages"],m)}return o}function KE(n,e){const o={},l=s(n,["numberOfImages"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const u=s(n,["baseSteps"]);e!==void 0&&u!=null&&r(e,["parameters","editConfig","baseSteps"],u);const d=s(n,["outputGcsUri"]);e!==void 0&&d!=null&&r(e,["parameters","storageUri"],d);const m=s(n,["seed"]);e!==void 0&&m!=null&&r(e,["parameters","seed"],m);const h=s(n,["safetyFilterLevel"]);e!==void 0&&h!=null&&r(e,["parameters","safetySetting"],h);const y=s(n,["personGeneration"]);e!==void 0&&y!=null&&r(e,["parameters","personGeneration"],y);const p=s(n,["addWatermark"]);e!==void 0&&p!=null&&r(e,["parameters","addWatermark"],p);const v=s(n,["outputMimeType"]);e!==void 0&&v!=null&&r(e,["parameters","outputOptions","mimeType"],v);const T=s(n,["outputCompressionQuality"]);e!==void 0&&T!=null&&r(e,["parameters","outputOptions","compressionQuality"],T);const x=s(n,["enhancePrompt"]);return e!==void 0&&x!=null&&r(e,["parameters","enhancePrompt"],x),o}function XE(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],Le(n,l));const u=s(e,["source"]);u!=null&&r(o,["config"],JE(u,o));const d=s(e,["config"]);return d!=null&&r(o,["config"],KE(d,o)),o}function QE(n){const e={},o=s(n,["image"]);return o!=null&&r(e,["image"],tn(o)),e}function $E(n,e){const o={},l=s(n,["prompt"]);e!==void 0&&l!=null&&r(e,["instances[0]","prompt"],l);const u=s(n,["image"]);e!==void 0&&u!=null&&r(e,["instances[0]","image"],tn(u));const d=s(n,["scribbleImage"]);return e!==void 0&&d!=null&&r(e,["instances[0]","scribble"],QE(d)),o}function ZE(n,e){const o={},l=s(n,["mode"]);e!==void 0&&l!=null&&r(e,["parameters","mode"],l);const u=s(n,["maxPredictions"]);e!==void 0&&u!=null&&r(e,["parameters","maxPredictions"],u);const d=s(n,["confidenceThreshold"]);e!==void 0&&d!=null&&r(e,["parameters","confidenceThreshold"],d);const m=s(n,["maskDilation"]);e!==void 0&&m!=null&&r(e,["parameters","maskDilation"],m);const h=s(n,["binaryColorThreshold"]);return e!==void 0&&h!=null&&r(e,["parameters","binaryColorThreshold"],h),o}function WE(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],Le(n,l));const u=s(e,["source"]);u!=null&&r(o,["config"],$E(u,o));const d=s(e,["config"]);return d!=null&&r(o,["config"],ZE(d,o)),o}function jE(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","name"],Le(n,l));const u=s(e,["config"]);return u!=null&&r(o,["config"],u),o}function eA(n,e,o){const l={},u=s(e,["pageSize"]);o!==void 0&&u!=null&&r(o,["_query","pageSize"],u);const d=s(e,["pageToken"]);o!==void 0&&d!=null&&r(o,["_query","pageToken"],d);const m=s(e,["filter"]);o!==void 0&&m!=null&&r(o,["_query","filter"],m);const h=s(e,["queryBase"]);return o!==void 0&&h!=null&&r(o,["_url","models_url"],gg(n,h)),l}function tA(n,e){const o={},l=s(e,["config"]);return l!=null&&r(o,["config"],eA(n,l,o)),o}function nA(n,e){const o={},l=s(n,["displayName"]);e!==void 0&&l!=null&&r(e,["displayName"],l);const u=s(n,["description"]);e!==void 0&&u!=null&&r(e,["description"],u);const d=s(n,["defaultCheckpointId"]);return e!==void 0&&d!=null&&r(e,["defaultCheckpointId"],d),o}function iA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],Le(n,l));const u=s(e,["config"]);return u!=null&&r(o,["config"],nA(u,o)),o}function oA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","name"],Le(n,l));const u=s(e,["config"]);return u!=null&&r(o,["config"],u),o}function lA(n,e){const o={},l=s(n,["systemInstruction"]);e!==void 0&&l!=null&&r(e,["systemInstruction"],_o(Et(l)));const u=s(n,["tools"]);if(e!==void 0&&u!=null){let m=u;Array.isArray(m)&&(m=m.map(h=>Ug(h))),r(e,["tools"],m)}const d=s(n,["generationConfig"]);return e!==void 0&&d!=null&&r(e,["generationConfig"],d),o}function aA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],Le(n,l));const u=s(e,["contents"]);if(u!=null){let m=$t(u);Array.isArray(m)&&(m=m.map(h=>_o(h))),r(o,["contents"],m)}const d=s(e,["config"]);return d!=null&&r(o,["config"],lA(d,o)),o}function sA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],Le(n,l));const u=s(e,["contents"]);if(u!=null){let m=$t(u);Array.isArray(m)&&(m=m.map(h=>_o(h))),r(o,["contents"],m)}const d=s(e,["config"]);return d!=null&&r(o,["config"],d),o}function Lg(n){const e={},o=s(n,["uri"]);o!=null&&r(e,["gcsUri"],o);const l=s(n,["videoBytes"]);l!=null&&r(e,["bytesBase64Encoded"],Mi(l));const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function rA(n,e){const o={},l=s(n,["prompt"]);e!==void 0&&l!=null&&r(e,["instances[0]","prompt"],l);const u=s(n,["image"]);e!==void 0&&u!=null&&r(e,["instances[0]","image"],tn(u));const d=s(n,["video"]);return e!==void 0&&d!=null&&r(e,["instances[0]","video"],Lg(d)),o}function uA(n){const e={},o=s(n,["image"]);o!=null&&r(e,["image"],tn(o));const l=s(n,["referenceType"]);return l!=null&&r(e,["referenceType"],l),e}function cA(n){const e={},o=s(n,["image"]);o!=null&&r(e,["_self"],tn(o));const l=s(n,["maskMode"]);return l!=null&&r(e,["maskMode"],l),e}function fA(n,e){const o={},l=s(n,["numberOfVideos"]);e!==void 0&&l!=null&&r(e,["parameters","sampleCount"],l);const u=s(n,["outputGcsUri"]);e!==void 0&&u!=null&&r(e,["parameters","storageUri"],u);const d=s(n,["fps"]);e!==void 0&&d!=null&&r(e,["parameters","fps"],d);const m=s(n,["durationSeconds"]);e!==void 0&&m!=null&&r(e,["parameters","durationSeconds"],m);const h=s(n,["seed"]);e!==void 0&&h!=null&&r(e,["parameters","seed"],h);const y=s(n,["aspectRatio"]);e!==void 0&&y!=null&&r(e,["parameters","aspectRatio"],y);const p=s(n,["resolution"]);e!==void 0&&p!=null&&r(e,["parameters","resolution"],p);const v=s(n,["personGeneration"]);e!==void 0&&v!=null&&r(e,["parameters","personGeneration"],v);const T=s(n,["pubsubTopic"]);e!==void 0&&T!=null&&r(e,["parameters","pubsubTopic"],T);const x=s(n,["negativePrompt"]);e!==void 0&&x!=null&&r(e,["parameters","negativePrompt"],x);const M=s(n,["enhancePrompt"]);e!==void 0&&M!=null&&r(e,["parameters","enhancePrompt"],M);const U=s(n,["generateAudio"]);e!==void 0&&U!=null&&r(e,["parameters","generateAudio"],U);const P=s(n,["lastFrame"]);e!==void 0&&P!=null&&r(e,["instances[0]","lastFrame"],tn(P));const B=s(n,["referenceImages"]);if(e!==void 0&&B!=null){let Q=B;Array.isArray(Q)&&(Q=Q.map(ee=>uA(ee))),r(e,["instances[0]","referenceImages"],Q)}const V=s(n,["mask"]);e!==void 0&&V!=null&&r(e,["instances[0]","mask"],cA(V));const J=s(n,["compressionQuality"]);return e!==void 0&&J!=null&&r(e,["parameters","compressionQuality"],J),o}function dA(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["_url","model"],Le(n,l));const u=s(e,["prompt"]);u!=null&&r(o,["instances[0]","prompt"],u);const d=s(e,["image"]);d!=null&&r(o,["instances[0]","image"],tn(d));const m=s(e,["video"]);m!=null&&r(o,["instances[0]","video"],Lg(m));const h=s(e,["source"]);h!=null&&r(o,["config"],rA(h,o));const y=s(e,["config"]);return y!=null&&r(o,["config"],fA(y,o)),o}function mA(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const u=s(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function pA(n){const e={},o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function gA(n){const e={},o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function hA(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const l=s(n,["args"]);l!=null&&r(e,["args"],l);const u=s(n,["name"]);return u!=null&&r(e,["name"],u),e}function yA(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],mA(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const u=s(n,["inlineData"]);u!=null&&r(e,["inlineData"],pA(u));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],gA(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],hA(h));const y=s(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=s(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const T=s(n,["text"]);return T!=null&&r(e,["text"],T),e}function vA(n){const e={},o=s(n,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>yA(d))),r(e,["parts"],u)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function TA(n){const e={},o=s(n,["citationSources"]);return o!=null&&r(e,["citations"],o),e}function CA(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=s(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function SA(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>CA(u))),r(e,["urlMetadata"],l)}return e}function xA(n){const e={},o=s(n,["content"]);o!=null&&r(e,["content"],vA(o));const l=s(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],TA(l));const u=s(n,["tokenCount"]);u!=null&&r(e,["tokenCount"],u);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const m=s(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],SA(m));const h=s(n,["avgLogprobs"]);h!=null&&r(e,["avgLogprobs"],h);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=s(n,["index"]);p!=null&&r(e,["index"],p);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const T=s(n,["safetyRatings"]);return T!=null&&r(e,["safetyRatings"],T),e}function Yp(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(p=>xA(p))),r(e,["candidates"],y)}const u=s(n,["modelVersion"]);u!=null&&r(e,["modelVersion"],u);const d=s(n,["promptFeedback"]);d!=null&&r(e,["promptFeedback"],d);const m=s(n,["responseId"]);m!=null&&r(e,["responseId"],m);const h=s(n,["usageMetadata"]);return h!=null&&r(e,["usageMetadata"],h),e}function EA(n){const e={},o=s(n,["values"]);return o!=null&&r(e,["values"],o),e}function AA(){return{}}function _A(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["embeddings"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>EA(m))),r(e,["embeddings"],d)}return s(n,["metadata"])!=null&&r(e,["metadata"],AA()),e}function MA(n){const e={},o=s(n,["bytesBase64Encoded"]);o!=null&&r(e,["imageBytes"],Mi(o));const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function Vg(n){const e={},o=s(n,["safetyAttributes","categories"]);o!=null&&r(e,["categories"],o);const l=s(n,["safetyAttributes","scores"]);l!=null&&r(e,["scores"],l);const u=s(n,["contentType"]);return u!=null&&r(e,["contentType"],u),e}function RA(n){const e={},o=s(n,["_self"]);o!=null&&r(e,["image"],MA(o));const l=s(n,["raiFilteredReason"]);l!=null&&r(e,["raiFilteredReason"],l);const u=s(n,["_self"]);return u!=null&&r(e,["safetyAttributes"],Vg(u)),e}function NA(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["predictions"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>RA(m))),r(e,["generatedImages"],d)}const u=s(n,["positivePromptSafetyAttributes"]);return u!=null&&r(e,["positivePromptSafetyAttributes"],Vg(u)),e}function DA(n){const e={},o=s(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const l=s(n,["createTime"]);l!=null&&r(e,["createTime"],l);const u=s(n,["updateTime"]);return u!=null&&r(e,["updateTime"],u),e}function Mu(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const u=s(n,["description"]);u!=null&&r(e,["description"],u);const d=s(n,["version"]);d!=null&&r(e,["version"],d);const m=s(n,["_self"]);m!=null&&r(e,["tunedModelInfo"],DA(m));const h=s(n,["inputTokenLimit"]);h!=null&&r(e,["inputTokenLimit"],h);const y=s(n,["outputTokenLimit"]);y!=null&&r(e,["outputTokenLimit"],y);const p=s(n,["supportedGenerationMethods"]);return p!=null&&r(e,["supportedActions"],p),e}function bA(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const u=s(n,["_self"]);if(u!=null){let d=hg(u);Array.isArray(d)&&(d=d.map(m=>Mu(m))),r(e,["models"],d)}return e}function wA(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function IA(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["totalTokens"]);l!=null&&r(e,["totalTokens"],l);const u=s(n,["cachedContentTokenCount"]);return u!=null&&r(e,["cachedContentTokenCount"],u),e}function UA(n){const e={},o=s(n,["video","uri"]);o!=null&&r(e,["uri"],o);const l=s(n,["video","encodedVideo"]);l!=null&&r(e,["videoBytes"],Mi(l));const u=s(n,["encoding"]);return u!=null&&r(e,["mimeType"],u),e}function LA(n){const e={},o=s(n,["_self"]);return o!=null&&r(e,["video"],UA(o)),e}function VA(n){const e={},o=s(n,["generatedSamples"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>LA(m))),r(e,["generatedVideos"],d)}const l=s(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const u=s(n,["raiMediaFilteredReasons"]);return u!=null&&r(e,["raiMediaFilteredReasons"],u),e}function PA(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["metadata"]);l!=null&&r(e,["metadata"],l);const u=s(n,["done"]);u!=null&&r(e,["done"],u);const d=s(n,["error"]);d!=null&&r(e,["error"],d);const m=s(n,["response","generateVideoResponse"]);return m!=null&&r(e,["response"],VA(m)),e}function kA(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const u=s(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function qA(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["data"]);l!=null&&r(e,["data"],l);const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function HA(n){const e={},o=s(n,["displayName"]);o!=null&&r(e,["displayName"],o);const l=s(n,["fileUri"]);l!=null&&r(e,["fileUri"],l);const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function GA(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const l=s(n,["args"]);l!=null&&r(e,["args"],l);const u=s(n,["name"]);return u!=null&&r(e,["name"],u),e}function BA(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],kA(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const u=s(n,["inlineData"]);u!=null&&r(e,["inlineData"],qA(u));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],HA(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],GA(h));const y=s(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=s(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const T=s(n,["text"]);return T!=null&&r(e,["text"],T),e}function zA(n){const e={},o=s(n,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>BA(d))),r(e,["parts"],u)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function FA(n){const e={},o=s(n,["citations"]);return o!=null&&r(e,["citations"],o),e}function YA(n){const e={},o=s(n,["retrievedUrl"]);o!=null&&r(e,["retrievedUrl"],o);const l=s(n,["urlRetrievalStatus"]);return l!=null&&r(e,["urlRetrievalStatus"],l),e}function OA(n){const e={},o=s(n,["urlMetadata"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>YA(u))),r(e,["urlMetadata"],l)}return e}function JA(n){const e={},o=s(n,["content"]);o!=null&&r(e,["content"],zA(o));const l=s(n,["citationMetadata"]);l!=null&&r(e,["citationMetadata"],FA(l));const u=s(n,["finishMessage"]);u!=null&&r(e,["finishMessage"],u);const d=s(n,["finishReason"]);d!=null&&r(e,["finishReason"],d);const m=s(n,["urlContextMetadata"]);m!=null&&r(e,["urlContextMetadata"],OA(m));const h=s(n,["avgLogprobs"]);h!=null&&r(e,["avgLogprobs"],h);const y=s(n,["groundingMetadata"]);y!=null&&r(e,["groundingMetadata"],y);const p=s(n,["index"]);p!=null&&r(e,["index"],p);const v=s(n,["logprobsResult"]);v!=null&&r(e,["logprobsResult"],v);const T=s(n,["safetyRatings"]);return T!=null&&r(e,["safetyRatings"],T),e}function Op(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["candidates"]);if(l!=null){let p=l;Array.isArray(p)&&(p=p.map(v=>JA(v))),r(e,["candidates"],p)}const u=s(n,["createTime"]);u!=null&&r(e,["createTime"],u);const d=s(n,["modelVersion"]);d!=null&&r(e,["modelVersion"],d);const m=s(n,["promptFeedback"]);m!=null&&r(e,["promptFeedback"],m);const h=s(n,["responseId"]);h!=null&&r(e,["responseId"],h);const y=s(n,["usageMetadata"]);return y!=null&&r(e,["usageMetadata"],y),e}function KA(n){const e={},o=s(n,["truncated"]);o!=null&&r(e,["truncated"],o);const l=s(n,["token_count"]);return l!=null&&r(e,["tokenCount"],l),e}function XA(n){const e={},o=s(n,["values"]);o!=null&&r(e,["values"],o);const l=s(n,["statistics"]);return l!=null&&r(e,["statistics"],KA(l)),e}function QA(n){const e={},o=s(n,["billableCharacterCount"]);return o!=null&&r(e,["billableCharacterCount"],o),e}function $A(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["predictions[]","embeddings"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>XA(m))),r(e,["embeddings"],d)}const u=s(n,["metadata"]);return u!=null&&r(e,["metadata"],QA(u)),e}function Pg(n){const e={},o=s(n,["gcsUri"]);o!=null&&r(e,["gcsUri"],o);const l=s(n,["bytesBase64Encoded"]);l!=null&&r(e,["imageBytes"],Mi(l));const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function kg(n){const e={},o=s(n,["safetyAttributes","categories"]);o!=null&&r(e,["categories"],o);const l=s(n,["safetyAttributes","scores"]);l!=null&&r(e,["scores"],l);const u=s(n,["contentType"]);return u!=null&&r(e,["contentType"],u),e}function ja(n){const e={},o=s(n,["_self"]);o!=null&&r(e,["image"],Pg(o));const l=s(n,["raiFilteredReason"]);l!=null&&r(e,["raiFilteredReason"],l);const u=s(n,["_self"]);u!=null&&r(e,["safetyAttributes"],kg(u));const d=s(n,["prompt"]);return d!=null&&r(e,["enhancedPrompt"],d),e}function ZA(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["predictions"]);if(l!=null){let d=l;Array.isArray(d)&&(d=d.map(m=>ja(m))),r(e,["generatedImages"],d)}const u=s(n,["positivePromptSafetyAttributes"]);return u!=null&&r(e,["positivePromptSafetyAttributes"],kg(u)),e}function WA(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["predictions"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>ja(d))),r(e,["generatedImages"],u)}return e}function jA(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["predictions"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>ja(d))),r(e,["generatedImages"],u)}return e}function e_(n){const e={},o=s(n,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>ja(u))),r(e,["generatedImages"],l)}return e}function t_(n){const e={},o=s(n,["label"]);o!=null&&r(e,["label"],o);const l=s(n,["score"]);return l!=null&&r(e,["score"],l),e}function n_(n){const e={},o=s(n,["_self"]);o!=null&&r(e,["mask"],Pg(o));const l=s(n,["labels"]);if(l!=null){let u=l;Array.isArray(u)&&(u=u.map(d=>t_(d))),r(e,["labels"],u)}return e}function i_(n){const e={},o=s(n,["predictions"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>n_(u))),r(e,["generatedMasks"],l)}return e}function o_(n){const e={},o=s(n,["endpoint"]);o!=null&&r(e,["name"],o);const l=s(n,["deployedModelId"]);return l!=null&&r(e,["deployedModelId"],l),e}function l_(n){const e={},o=s(n,["labels","google-vertex-llm-tuning-base-model-id"]);o!=null&&r(e,["baseModel"],o);const l=s(n,["createTime"]);l!=null&&r(e,["createTime"],l);const u=s(n,["updateTime"]);return u!=null&&r(e,["updateTime"],u),e}function a_(n){const e={},o=s(n,["checkpointId"]);o!=null&&r(e,["checkpointId"],o);const l=s(n,["epoch"]);l!=null&&r(e,["epoch"],l);const u=s(n,["step"]);return u!=null&&r(e,["step"],u),e}function Ru(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["displayName"]);l!=null&&r(e,["displayName"],l);const u=s(n,["description"]);u!=null&&r(e,["description"],u);const d=s(n,["versionId"]);d!=null&&r(e,["version"],d);const m=s(n,["deployedModels"]);if(m!=null){let T=m;Array.isArray(T)&&(T=T.map(x=>o_(x))),r(e,["endpoints"],T)}const h=s(n,["labels"]);h!=null&&r(e,["labels"],h);const y=s(n,["_self"]);y!=null&&r(e,["tunedModelInfo"],l_(y));const p=s(n,["defaultCheckpointId"]);p!=null&&r(e,["defaultCheckpointId"],p);const v=s(n,["checkpoints"]);if(v!=null){let T=v;Array.isArray(T)&&(T=T.map(x=>a_(x))),r(e,["checkpoints"],T)}return e}function s_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const u=s(n,["_self"]);if(u!=null){let d=hg(u);Array.isArray(d)&&(d=d.map(m=>Ru(m))),r(e,["models"],d)}return e}function r_(n){const e={},o=s(n,["sdkHttpResponse"]);return o!=null&&r(e,["sdkHttpResponse"],o),e}function u_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["totalTokens"]);return l!=null&&r(e,["totalTokens"],l),e}function c_(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["tokensInfo"]);return l!=null&&r(e,["tokensInfo"],l),e}function f_(n){const e={},o=s(n,["gcsUri"]);o!=null&&r(e,["uri"],o);const l=s(n,["bytesBase64Encoded"]);l!=null&&r(e,["videoBytes"],Mi(l));const u=s(n,["mimeType"]);return u!=null&&r(e,["mimeType"],u),e}function d_(n){const e={},o=s(n,["_self"]);return o!=null&&r(e,["video"],f_(o)),e}function m_(n){const e={},o=s(n,["videos"]);if(o!=null){let d=o;Array.isArray(d)&&(d=d.map(m=>d_(m))),r(e,["generatedVideos"],d)}const l=s(n,["raiMediaFilteredCount"]);l!=null&&r(e,["raiMediaFilteredCount"],l);const u=s(n,["raiMediaFilteredReasons"]);return u!=null&&r(e,["raiMediaFilteredReasons"],u),e}function p_(n){const e={},o=s(n,["name"]);o!=null&&r(e,["name"],o);const l=s(n,["metadata"]);l!=null&&r(e,["metadata"],l);const u=s(n,["done"]);u!=null&&r(e,["done"],u);const d=s(n,["error"]);d!=null&&r(e,["error"],d);const m=s(n,["response"]);return m!=null&&r(e,["response"],m_(m)),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const g_="Content-Type",h_="X-Server-Timeout",y_="User-Agent",Nu="x-goog-api-client",v_="1.20.0",T_=`google-genai-sdk/${v_}`,C_="v1beta1",S_="v1beta",Jp=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class x_{constructor(e){var o,l;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const u={};this.clientOptions.vertexai?(u.apiVersion=(o=this.clientOptions.apiVersion)!==null&&o!==void 0?o:C_,u.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(u.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:S_,u.baseUrl="https://generativelanguage.googleapis.com/"),u.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=u,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(u,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var e;return(e=this.clientOptions.vertexai)!==null&&e!==void 0?e:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||e.baseUrl===void 0||e.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&e.apiVersion!==""&&l.push(e.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),o=new URL(e);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(e){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=e;else throw new Error("HTTP options are not correctly set.")}constructUrl(e,o,l){const u=[this.getRequestUrlInternal(o)];return l&&u.push(this.getBaseResourcePath()),e!==""&&u.push(e),new URL(`${u.join("/")}`)}shouldPrependVertexProjectPath(e){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||e.path.startsWith("projects/")||e.httpMethod==="GET"&&e.path.startsWith("publishers/google/models"))}async request(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),u=this.constructUrl(e.path,o,l);if(e.queryParams)for(const[m,h]of Object.entries(e.queryParams))u.searchParams.append(m,String(h));let d={};if(e.httpMethod==="GET"){if(e.body&&e.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else d.body=e.body;return d=await this.includeExtraHttpOptionsToRequestInit(d,o,e.abortSignal),this.unaryApiCall(u,d,e.httpMethod)}patchHttpOptions(e,o){const l=JSON.parse(JSON.stringify(e));for(const[u,d]of Object.entries(o))typeof d=="object"?l[u]=Object.assign(Object.assign({},l[u]),d):d!==void 0&&(l[u]=d);return l}async requestStream(e){let o=this.clientOptions.httpOptions;e.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const l=this.shouldPrependVertexProjectPath(e),u=this.constructUrl(e.path,o,l);(!u.searchParams.has("alt")||u.searchParams.get("alt")!=="sse")&&u.searchParams.set("alt","sse");let d={};return d.body=e.body,d=await this.includeExtraHttpOptionsToRequestInit(d,o,e.abortSignal),this.streamApiCall(u,d,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,o,l){if(o&&o.timeout||l){const u=new AbortController,d=u.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const m=setTimeout(()=>u.abort(),o.timeout);m&&typeof m.unref=="function"&&m.unref()}l&&l.addEventListener("abort",()=>{u.abort()}),e.signal=d}return o&&o.extraBody!==null&&E_(e,o.extraBody),e.headers=await this.getHeadersInternal(o),e}async unaryApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async u=>(await Kp(u),new Su(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}async streamApiCall(e,o,l){return this.apiCall(e.toString(),Object.assign(Object.assign({},o),{method:l})).then(async u=>(await Kp(u),this.processStreamResponse(u))).catch(u=>{throw u instanceof Error?u:new Error(JSON.stringify(u))})}processStreamResponse(e){var o;return To(this,arguments,function*(){const u=(o=e==null?void 0:e.body)===null||o===void 0?void 0:o.getReader(),d=new TextDecoder("utf-8");if(!u)throw new Error("Response body is empty");try{let m="";for(;;){const{done:h,value:y}=yield Je(u.read());if(h){if(m.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const p=d.decode(y,{stream:!0});try{const T=JSON.parse(p);if("error"in T){const x=JSON.parse(JSON.stringify(T.error)),M=x.status,U=x.code,P=`got status: ${M}. ${JSON.stringify(T)}`;if(U>=400&&U<600)throw new Za({message:P,status:U})}}catch(T){if(T.name==="ApiError")throw T}m+=p;let v=m.match(Jp);for(;v;){const T=v[1];try{const x=new Response(T,{headers:e==null?void 0:e.headers,status:e==null?void 0:e.status,statusText:e==null?void 0:e.statusText});yield yield Je(new Su(x)),m=m.slice(v[0].length),v=m.match(Jp)}catch(x){throw new Error(`exception parsing stream chunk ${T}. ${x}`)}}}}finally{u.releaseLock()}})}async apiCall(e,o){return fetch(e,o).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const e={},o=T_+" "+this.clientOptions.userAgentExtra;return e[y_]=o,e[Nu]=o,e[g_]="application/json",e}async getHeadersInternal(e){const o=new Headers;if(e&&e.headers){for(const[l,u]of Object.entries(e.headers))o.append(l,u);e.timeout&&e.timeout>0&&o.append(h_,String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(o),o}async uploadFile(e,o){var l;const u={};o!=null&&(u.mimeType=o.mimeType,u.name=o.name,u.displayName=o.displayName),u.name&&!u.name.startsWith("files/")&&(u.name=`files/${u.name}`);const d=this.clientOptions.uploader,m=await d.stat(e);u.sizeBytes=String(m.size);const h=(l=o==null?void 0:o.mimeType)!==null&&l!==void 0?l:m.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");u.mimeType=h;const y=await this.fetchUploadUrl(u,o);return d.upload(e,y,this)}async downloadFile(e){await this.clientOptions.downloader.download(e,this)}async fetchUploadUrl(e,o){var l;let u={};o!=null&&o.httpOptions?u=o.httpOptions:u={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const d={file:e},m=await this.request({path:ie("upload/v1beta/files",d._url),body:JSON.stringify(d),httpMethod:"POST",httpOptions:u});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const h=(l=m==null?void 0:m.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(h===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return h}}async function Kp(n){var e;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let l;!((e=n.headers.get("content-type"))===null||e===void 0)&&e.includes("application/json")?l=await n.json():l={error:{message:await n.text(),code:n.status,status:n.statusText}};const u=JSON.stringify(l);throw o>=400&&o<600?new Za({message:u,status:o}):new Error(u)}}function E_(n,e){if(!e||Object.keys(e).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const d=JSON.parse(n.body);if(typeof d=="object"&&d!==null&&!Array.isArray(d))o=d;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(d,m){const h=Object.assign({},d);for(const y in m)if(Object.prototype.hasOwnProperty.call(m,y)){const p=m[y],v=h[y];p&&typeof p=="object"&&!Array.isArray(p)&&v&&typeof v=="object"&&!Array.isArray(v)?h[y]=l(v,p):(v&&p&&typeof v!=typeof p&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof p}. Overwriting.`),h[y]=p)}return h}const u=l(o,e);n.body=JSON.stringify(u)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const A_="mcp_used/unknown";let __=!1;function qg(n){for(const e of n)if(M_(e)||typeof e=="object"&&"inputSchema"in e)return!0;return __}function Hg(n){var e;const o=(e=n[Nu])!==null&&e!==void 0?e:"";n[Nu]=(o+` ${A_}`).trimStart()}function M_(n){return n!==null&&typeof n=="object"&&n instanceof ku}function R_(n,e=100){return To(this,arguments,function*(){let l,u=0;for(;u<e;){const d=yield Je(n.listTools({cursor:l}));for(const m of d.tools)yield yield Je(m),u++;if(!d.nextCursor)break;l=d.nextCursor}})}class ku{constructor(e=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=o}static create(e,o){return new ku(e,o)}async initialize(){var e,o,l,u;if(this.mcpTools.length>0)return;const d={},m=[];for(const v of this.mcpClients)try{for(var h=!0,y=(o=void 0,Rl(R_(v))),p;p=await y.next(),e=p.done,!e;h=!0){u=p.value,h=!1;const T=u;m.push(T);const x=T.name;if(d[x])throw new Error(`Duplicate function name ${x} found in MCP tools. Please ensure function names are unique.`);d[x]=v}}catch(T){o={error:T}}finally{try{!h&&!e&&(l=y.return)&&await l.call(y)}finally{if(o)throw o.error}}this.mcpTools=m,this.functionNameToMcpClient=d}async tool(){return await this.initialize(),z0(this.mcpTools,this.config)}async callTool(e){await this.initialize();const o=[];for(const l of e)if(l.name in this.functionNameToMcpClient){const u=this.functionNameToMcpClient[l.name];let d;this.config.timeout&&(d={timeout:this.config.timeout});const m=await u.callTool({name:l.name,arguments:l.args},void 0,d);o.push({functionResponse:{name:l.name,response:m.isError?{error:m}:m}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function N_(n,e,o){const l=new L0;let u;o.data instanceof Blob?u=JSON.parse(await o.data.text()):u=JSON.parse(o.data);const d=ox(u);Object.assign(l,d),e(l)}class D_{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l}async connect(e){var o,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const u=this.apiClient.getWebsocketBaseUrl(),d=this.apiClient.getApiVersion(),m=I_(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${u}/ws/google.ai.generativelanguage.${d}.GenerativeService.BidiGenerateMusic?key=${h}`;let p=()=>{};const v=new Promise(Q=>{p=Q}),T=e.callbacks,x=function(){p({})},M=this.apiClient,U={onopen:x,onmessage:Q=>{N_(M,T.onmessage,Q)},onerror:(o=T==null?void 0:T.onerror)!==null&&o!==void 0?o:function(Q){},onclose:(l=T==null?void 0:T.onclose)!==null&&l!==void 0?l:function(Q){}},P=this.webSocketFactory.create(y,w_(m),U);P.connect(),await v;const B=Le(this.apiClient,e.model),V=Rg({model:B}),J=_u({setup:V});return P.send(JSON.stringify(J)),new b_(P,this.apiClient)}}class b_{constructor(e,o){this.conn=e,this.apiClient=o}async setWeightedPrompts(e){if(!e.weightedPrompts||Object.keys(e.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=tS(e),l=Ng(o);this.conn.send(JSON.stringify({clientContent:l}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const o=nS(e),l=_u(o);this.conn.send(JSON.stringify(l))}sendPlaybackControl(e){const o=_u({playbackControl:e});this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(yo.PLAY)}pause(){this.sendPlaybackControl(yo.PAUSE)}stop(){this.sendPlaybackControl(yo.STOP)}resetContext(){this.sendPlaybackControl(yo.RESET_CONTEXT)}close(){this.conn.close()}}function w_(n){const e={};return n.forEach((o,l)=>{e[l]=o}),e}function I_(n){const e=new Headers;for(const[o,l]of Object.entries(n))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const U_="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function L_(n,e,o){const l=new U0;let u;o.data instanceof Blob?u=await o.data.text():o.data instanceof ArrayBuffer?u=new TextDecoder().decode(o.data):u=o.data;const d=JSON.parse(u);if(n.isVertexAI()){const m=yx(d);Object.assign(l,m)}else{const m=QS(d);Object.assign(l,m)}e(l)}class V_{constructor(e,o,l){this.apiClient=e,this.auth=o,this.webSocketFactory=l,this.music=new D_(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var o,l,u,d,m,h;if(e.config&&e.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),p=this.apiClient.getApiVersion();let v;const T=this.apiClient.getHeaders();e.config&&e.config.tools&&qg(e.config.tools)&&Hg(T);const x=H_(T);if(this.apiClient.isVertexAI())v=`${y}/ws/google.cloud.aiplatform.${p}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(x);else{const se=this.apiClient.getApiKey();let ye="BidiGenerateContent",le="key";se!=null&&se.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),p!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ye="BidiGenerateContentConstrained",le="access_token"),v=`${y}/ws/google.ai.generativelanguage.${p}.GenerativeService.${ye}?${le}=${se}`}let M=()=>{};const U=new Promise(se=>{M=se}),P=e.callbacks,B=function(){var se;(se=P==null?void 0:P.onopen)===null||se===void 0||se.call(P),M({})},V=this.apiClient,J={onopen:B,onmessage:se=>{L_(V,P.onmessage,se)},onerror:(o=P==null?void 0:P.onerror)!==null&&o!==void 0?o:function(se){},onclose:(l=P==null?void 0:P.onclose)!==null&&l!==void 0?l:function(se){}},Q=this.webSocketFactory.create(v,q_(x),J);Q.connect(),await U;let ee=Le(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&ee.startsWith("publishers/")){const se=this.apiClient.getProject(),ye=this.apiClient.getLocation();ee=`projects/${se}/locations/${ye}/`+ee}let X={};this.apiClient.isVertexAI()&&((u=e.config)===null||u===void 0?void 0:u.responseModalities)===void 0&&(e.config===void 0?e.config={responseModalities:[So.AUDIO]}:e.config.responseModalities=[So.AUDIO]),!((d=e.config)===null||d===void 0)&&d.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const ne=(h=(m=e.config)===null||m===void 0?void 0:m.tools)!==null&&h!==void 0?h:[],fe=[];for(const se of ne)if(this.isCallableTool(se)){const ye=se;fe.push(await ye.tool())}else fe.push(se);fe.length>0&&(e.config.tools=fe);const Se={model:ee,config:e.config,callbacks:e.callbacks};return this.apiClient.isVertexAI()?X=wS(this.apiClient,Se):X=ZC(this.apiClient,Se),delete X.config,Q.send(JSON.stringify(X)),new k_(Q,this.apiClient)}isCallableTool(e){return"callTool"in e&&typeof e.callTool=="function"}}const P_={turnComplete:!0};class k_{constructor(e,o){this.conn=e,this.apiClient=o}tLiveClientContent(e,o){if(o.turns!==null&&o.turns!==void 0){let l=[];try{l=$t(o.turns),e.isVertexAI()?l=l.map(u=>_o(u)):l=l.map(u=>Wa(u))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:l,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(e,o){let l=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?l=o.functionResponses:l=[o.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const d of l){if(typeof d!="object"||d===null||!("name"in d)||!("response"in d))throw new Error(`Could not parse function response, type '${typeof d}'.`);if(!e.isVertexAI()&&!("id"in d))throw new Error(U_)}return{toolResponse:{functionResponses:l}}}sendClientContent(e){e=Object.assign(Object.assign({},P_),e);const o=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(o))}sendRealtimeInput(e){let o={};this.apiClient.isVertexAI()?o={realtimeInput:LS(e)}:o={realtimeInput:eS(e)},this.conn.send(JSON.stringify(o))}sendToolResponse(e){if(e.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function q_(n){const e={};return n.forEach((o,l)=>{e[l]=o}),e}function H_(n){const e=new Headers;for(const[o,l]of Object.entries(n))e.append(o,l);return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xp=10;function Qp(n){var e,o,l;if(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.disable)return!0;let u=!1;for(const m of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(Co(m)){u=!0;break}if(!u)return!0;const d=(l=n==null?void 0:n.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return d&&(d<0||!Number.isInteger(d))||d==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",d),!0):!1}function Co(n){return"callTool"in n&&typeof n.callTool=="function"}function G_(n){var e,o,l;return(l=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(u=>Co(u)))!==null&&l!==void 0?l:!1}function B_(n){var e,o,l;return(l=(o=(e=n.config)===null||e===void 0?void 0:e.tools)===null||o===void 0?void 0:o.some(u=>!Co(u)))!==null&&l!==void 0?l:!1}function $p(n){var e;return!(!((e=n==null?void 0:n.automaticFunctionCalling)===null||e===void 0)&&e.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class z_ extends _i{constructor(e){super(),this.apiClient=e,this.generateContent=async o=>{var l,u,d,m,h;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!G_(o)||Qp(o.config))return await this.generateContentInternal(y);if(B_(o))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let p,v;const T=$t(y.contents),x=(d=(u=(l=y.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||u===void 0?void 0:u.maximumRemoteCalls)!==null&&d!==void 0?d:Xp;let M=0;for(;M<x&&(p=await this.generateContentInternal(y),!(!p.functionCalls||p.functionCalls.length===0));){const U=p.candidates[0].content,P=[];for(const B of(h=(m=o.config)===null||m===void 0?void 0:m.tools)!==null&&h!==void 0?h:[])if(Co(B)){const J=await B.callTool(p.functionCalls);P.push(...J)}M++,v={role:"user",parts:P},y.contents=$t(y.contents),y.contents.push(U),y.contents.push(v),$p(y.config)&&(T.push(U),T.push(v))}return $p(y.config)&&(p.automaticFunctionCallingHistory=T),p},this.generateContentStream=async o=>{if(this.maybeMoveToResponseJsonSchem(o),Qp(o.config)){const l=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(l)}else return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(l=>{var u;let d;const m=[];if(l!=null&&l.generatedImages)for(const y of l.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((u=y==null?void 0:y.safetyAttributes)===null||u===void 0?void 0:u.contentType)==="Positive Prompt"?d=y==null?void 0:y.safetyAttributes:m.push(y);let h;return d?h={generatedImages:m,positivePromptSafetyAttributes:d,sdkHttpResponse:l.sdkHttpResponse}:h={generatedImages:m,sdkHttpResponse:l.sdkHttpResponse},h}),this.list=async o=>{var l;const m={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!m.config.queryBase){if(!((l=m.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");m.config.filter="labels.tune-type:*"}return new Dl(Ai.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(m),m)},this.editImage=async o=>{const l={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(l.referenceImages=o.referenceImages.map(u=>u.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async o=>{let l={numberOfImages:1,mode:"upscale"};o.config&&(l=Object.assign(Object.assign({},l),o.config));const u={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:l};return await this.upscaleImageInternal(u)},this.generateVideos=async o=>{if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(e){e.config&&e.config.responseSchema&&(e.config.responseJsonSchema||Object.keys(e.config.responseSchema).includes("$schema")&&(e.config.responseJsonSchema=e.config.responseSchema,delete e.config.responseSchema))}async processParamsMaybeAddMcpUsage(e){var o,l,u;const d=(o=e.config)===null||o===void 0?void 0:o.tools;if(!d)return e;const m=await Promise.all(d.map(async y=>Co(y)?await y.tool():y)),h={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:m})};if(h.config.tools=m,e.config&&e.config.tools&&qg(e.config.tools)){const y=(u=(l=e.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&u!==void 0?u:{};let p=Object.assign({},y);Object.keys(p).length===0&&(p=this.apiClient.getDefaultHeaders()),Hg(p),h.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:p})}return h}async initAfcToolsMap(e){var o,l,u;const d=new Map;for(const m of(l=(o=e.config)===null||o===void 0?void 0:o.tools)!==null&&l!==void 0?l:[])if(Co(m)){const h=m,y=await h.tool();for(const p of(u=y.functionDeclarations)!==null&&u!==void 0?u:[]){if(!p.name)throw new Error("Function declaration name is required.");if(d.has(p.name))throw new Error(`Duplicate tool declaration name: ${p.name}`);d.set(p.name,h)}}return d}async processAfcStream(e){var o,l,u;const d=(u=(l=(o=e.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&u!==void 0?u:Xp;let m=!1,h=0;const y=await this.initAfcToolsMap(e);return(function(p,v,T){var x,M;return To(this,arguments,function*(){for(var U,P,B,V;h<d;){m&&(h++,m=!1);const X=yield Je(p.processParamsMaybeAddMcpUsage(T)),ne=yield Je(p.generateContentStreamInternal(X)),fe=[],Se=[];try{for(var J=!0,Q=(P=void 0,Rl(ne)),ee;ee=yield Je(Q.next()),U=ee.done,!U;J=!0){V=ee.value,J=!1;const se=V;if(yield yield Je(se),se.candidates&&(!((x=se.candidates[0])===null||x===void 0)&&x.content)){Se.push(se.candidates[0].content);for(const ye of(M=se.candidates[0].content.parts)!==null&&M!==void 0?M:[])if(h<d&&ye.functionCall){if(!ye.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ye.functionCall.name)){const le=yield Je(v.get(ye.functionCall.name).callTool([ye.functionCall]));fe.push(...le)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ye.functionCall.name}`)}}}}catch(se){P={error:se}}finally{try{!J&&!U&&(B=Q.return)&&(yield Je(B.call(Q)))}finally{if(P)throw P.error}}if(fe.length>0){m=!0;const se=new _l;se.candidates=[{content:{role:"user",parts:fe}}],yield yield Je(se);const ye=[];ye.push(...Se),ye.push({role:"user",parts:fe});const le=$t(T.contents).concat(ye);T.contents=le}else break}})})(this,y,e)}async generateContentInternal(e){var o,l,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=Fp(this.apiClient,e);return h=ie("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=Op(v),x=new _l;return Object.assign(x,T),x})}else{const p=zp(this.apiClient,e);return h=ie("{model}:generateContent",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=Yp(v),x=new _l;return Object.assign(x,T),x})}}async generateContentStreamInternal(e){var o,l,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=Fp(this.apiClient,e);return h=ie("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}),m.then(function(T){return To(this,arguments,function*(){var x,M,U,P;try{for(var B=!0,V=Rl(T),J;J=yield Je(V.next()),x=J.done,!x;B=!0){P=J.value,B=!1;const Q=P,ee=Op(yield Je(Q.json()));ee.sdkHttpResponse={headers:Q.headers};const X=new _l;Object.assign(X,ee),yield yield Je(X)}}catch(Q){M={error:Q}}finally{try{!B&&!x&&(U=V.return)&&(yield Je(U.call(V)))}finally{if(M)throw M.error}}})})}else{const p=zp(this.apiClient,e);return h=ie("{model}:streamGenerateContent?alt=sse",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}),m.then(function(T){return To(this,arguments,function*(){var x,M,U,P;try{for(var B=!0,V=Rl(T),J;J=yield Je(V.next()),x=J.done,!x;B=!0){P=J.value,B=!1;const Q=P,ee=Yp(yield Je(Q.json()));ee.sdkHttpResponse={headers:Q.headers};const X=new _l;Object.assign(X,ee),yield yield Je(X)}}catch(Q){M={error:Q}}finally{try{!B&&!x&&(U=V.return)&&(yield Je(U.call(V)))}finally{if(M)throw M.error}}})})}}async embedContent(e){var o,l,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=UE(this.apiClient,e);return h=ie("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=$A(v),x=new xp;return Object.assign(x,T),x})}else{const p=Yx(this.apiClient,e);return h=ie("{model}:batchEmbedContents",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=_A(v),x=new xp;return Object.assign(x,T),x})}}async generateImagesInternal(e){var o,l,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=VE(this.apiClient,e);return h=ie("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=ZA(v),x=new Ep;return Object.assign(x,T),x})}else{const p=Jx(this.apiClient,e);return h=ie("{model}:predict",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=NA(v),x=new Ep;return Object.assign(x,T),x})}}async editImageInternal(e){var o,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=zE(this.apiClient,e);return d=ie("{model}:predict",h._url),m=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const p=WA(y),v=new _0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var o,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=YE(this.apiClient,e);return d=ie("{model}:predict",h._url),m=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const p=jA(y),v=new M0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(e){var o,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=XE(this.apiClient,e);return d=ie("{model}:predict",h._url),m=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>{const p=e_(y),v=new R0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(e){var o,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=WE(this.apiClient,e);return d=ie("{model}:predict",h._url),m=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u.then(y=>{const p=i_(y),v=new N0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(e){var o,l,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=jE(this.apiClient,e);return h=ie("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Ru(v))}else{const p=Kx(this.apiClient,e);return h=ie("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Mu(v))}}async listInternal(e){var o,l,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=tA(this.apiClient,e);return h=ie("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=s_(v),x=new Ap;return Object.assign(x,T),x})}else{const p=Qx(this.apiClient,e);return h=ie("{models_url}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=bA(v),x=new Ap;return Object.assign(x,T),x})}}async update(e){var o,l,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=iA(this.apiClient,e);return h=ie("{model}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>Ru(v))}else{const p=Zx(this.apiClient,e);return h=ie("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"PATCH",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>Mu(v))}}async delete(e){var o,l,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=oA(this.apiClient,e);return h=ie("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=r_(v),x=new _p;return Object.assign(x,T),x})}else{const p=Wx(this.apiClient,e);return h=ie("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=wA(v),x=new _p;return Object.assign(x,T),x})}}async countTokens(e){var o,l,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=aA(this.apiClient,e);return h=ie("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=u_(v),x=new Mp;return Object.assign(x,T),x})}else{const p=eE(this.apiClient,e);return h=ie("{model}:countTokens",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=IA(v),x=new Mp;return Object.assign(x,T),x})}}async computeTokens(e){var o,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=sA(this.apiClient,e);return d=ie("{model}:computeTokens",h._url),m=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>{const p=c_(y),v=new D0;return Object.assign(v,p),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(e){var o,l,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=dA(this.apiClient,e);return h=ie("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m.then(v=>{const T=p_(v),x=new Qa;return Object.assign(x,T),x})}else{const p=iE(this.apiClient,e);return h=ie("{model}:predictLongRunning",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m.then(v=>{const T=PA(v),x=new Qa;return Object.assign(x,T),x})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class F_ extends _i{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=o.name.split("/operations/")[0];let d;l&&"httpOptions"in l&&(d=l.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:u,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:u,isVertexAI:!1})}}async get(e){const o=e.operation,l=e.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const u=o.name.split("/operations/")[0];let d;l&&"httpOptions"in l&&(d=l.httpOptions);const m=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:u,config:{httpOptions:d}});return o._fromAPIResponse({apiResponse:m,isVertexAI:!0})}else{const u=await this.getVideosOperationInternal({operationName:o.name,config:l});return o._fromAPIResponse({apiResponse:u,isVertexAI:!1})}}async getVideosOperationInternal(e){var o,l,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=h0(e);return h=ie("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json()),m}else{const p=p0(e);return h=ie("{operationName}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json()),m}}async fetchPredictVideosOperationInternal(e){var o,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=g0(e);return d=ie("{resourceName}:fetchPredictOperation",h._url),m=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),u}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Y_(n){const e={},o=s(n,["voiceName"]);return o!=null&&r(e,["voiceName"],o),e}function Gg(n){const e={},o=s(n,["prebuiltVoiceConfig"]);return o!=null&&r(e,["prebuiltVoiceConfig"],Y_(o)),e}function O_(n){const e={},o=s(n,["speaker"]);o!=null&&r(e,["speaker"],o);const l=s(n,["voiceConfig"]);return l!=null&&r(e,["voiceConfig"],Gg(l)),e}function J_(n){const e={},o=s(n,["speakerVoiceConfigs"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>O_(u))),r(e,["speakerVoiceConfigs"],l)}return e}function K_(n){const e={},o=s(n,["voiceConfig"]);o!=null&&r(e,["voiceConfig"],Gg(o));const l=s(n,["multiSpeakerVoiceConfig"]);l!=null&&r(e,["multiSpeakerVoiceConfig"],J_(l));const u=s(n,["languageCode"]);return u!=null&&r(e,["languageCode"],u),e}function X_(n){const e={},o=s(n,["fps"]);o!=null&&r(e,["fps"],o);const l=s(n,["endOffset"]);l!=null&&r(e,["endOffset"],l);const u=s(n,["startOffset"]);return u!=null&&r(e,["startOffset"],u),e}function Q_(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["data"]);o!=null&&r(e,["data"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function $_(n){const e={};if(s(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=s(n,["fileUri"]);o!=null&&r(e,["fileUri"],o);const l=s(n,["mimeType"]);return l!=null&&r(e,["mimeType"],l),e}function Z_(n){const e={},o=s(n,["id"]);o!=null&&r(e,["id"],o);const l=s(n,["args"]);l!=null&&r(e,["args"],l);const u=s(n,["name"]);return u!=null&&r(e,["name"],u),e}function W_(n){const e={},o=s(n,["videoMetadata"]);o!=null&&r(e,["videoMetadata"],X_(o));const l=s(n,["thought"]);l!=null&&r(e,["thought"],l);const u=s(n,["inlineData"]);u!=null&&r(e,["inlineData"],Q_(u));const d=s(n,["fileData"]);d!=null&&r(e,["fileData"],$_(d));const m=s(n,["thoughtSignature"]);m!=null&&r(e,["thoughtSignature"],m);const h=s(n,["functionCall"]);h!=null&&r(e,["functionCall"],Z_(h));const y=s(n,["codeExecutionResult"]);y!=null&&r(e,["codeExecutionResult"],y);const p=s(n,["executableCode"]);p!=null&&r(e,["executableCode"],p);const v=s(n,["functionResponse"]);v!=null&&r(e,["functionResponse"],v);const T=s(n,["text"]);return T!=null&&r(e,["text"],T),e}function j_(n){const e={},o=s(n,["parts"]);if(o!=null){let u=o;Array.isArray(u)&&(u=u.map(d=>W_(d))),r(e,["parts"],u)}const l=s(n,["role"]);return l!=null&&r(e,["role"],l),e}function eM(n){const e={},o=s(n,["behavior"]);o!=null&&r(e,["behavior"],o);const l=s(n,["description"]);l!=null&&r(e,["description"],l);const u=s(n,["name"]);u!=null&&r(e,["name"],u);const d=s(n,["parameters"]);d!=null&&r(e,["parameters"],d);const m=s(n,["parametersJsonSchema"]);m!=null&&r(e,["parametersJsonSchema"],m);const h=s(n,["response"]);h!=null&&r(e,["response"],h);const y=s(n,["responseJsonSchema"]);return y!=null&&r(e,["responseJsonSchema"],y),e}function tM(n){const e={},o=s(n,["startTime"]);o!=null&&r(e,["startTime"],o);const l=s(n,["endTime"]);return l!=null&&r(e,["endTime"],l),e}function nM(n){const e={},o=s(n,["timeRangeFilter"]);if(o!=null&&r(e,["timeRangeFilter"],tM(o)),s(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return e}function iM(n){const e={},o=s(n,["mode"]);o!=null&&r(e,["mode"],o);const l=s(n,["dynamicThreshold"]);return l!=null&&r(e,["dynamicThreshold"],l),e}function oM(n){const e={},o=s(n,["dynamicRetrievalConfig"]);return o!=null&&r(e,["dynamicRetrievalConfig"],iM(o)),e}function lM(){return{}}function aM(n){const e={},o=s(n,["environment"]);return o!=null&&r(e,["environment"],o),e}function sM(n){const e={},o=s(n,["functionDeclarations"]);if(o!=null){let y=o;Array.isArray(y)&&(y=y.map(p=>eM(p))),r(e,["functionDeclarations"],y)}if(s(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=s(n,["googleSearch"]);l!=null&&r(e,["googleSearch"],nM(l));const u=s(n,["googleSearchRetrieval"]);if(u!=null&&r(e,["googleSearchRetrieval"],oM(u)),s(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(s(n,["googleMaps"])!==void 0)throw new Error("googleMaps parameter is not supported in Gemini API.");s(n,["urlContext"])!=null&&r(e,["urlContext"],lM());const m=s(n,["computerUse"]);m!=null&&r(e,["computerUse"],aM(m));const h=s(n,["codeExecution"]);return h!=null&&r(e,["codeExecution"],h),e}function rM(n){const e={},o=s(n,["handle"]);if(o!=null&&r(e,["handle"],o),s(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return e}function Zp(){return{}}function uM(n){const e={},o=s(n,["disabled"]);o!=null&&r(e,["disabled"],o);const l=s(n,["startOfSpeechSensitivity"]);l!=null&&r(e,["startOfSpeechSensitivity"],l);const u=s(n,["endOfSpeechSensitivity"]);u!=null&&r(e,["endOfSpeechSensitivity"],u);const d=s(n,["prefixPaddingMs"]);d!=null&&r(e,["prefixPaddingMs"],d);const m=s(n,["silenceDurationMs"]);return m!=null&&r(e,["silenceDurationMs"],m),e}function cM(n){const e={},o=s(n,["automaticActivityDetection"]);o!=null&&r(e,["automaticActivityDetection"],uM(o));const l=s(n,["activityHandling"]);l!=null&&r(e,["activityHandling"],l);const u=s(n,["turnCoverage"]);return u!=null&&r(e,["turnCoverage"],u),e}function fM(n){const e={},o=s(n,["targetTokens"]);return o!=null&&r(e,["targetTokens"],o),e}function dM(n){const e={},o=s(n,["triggerTokens"]);o!=null&&r(e,["triggerTokens"],o);const l=s(n,["slidingWindow"]);return l!=null&&r(e,["slidingWindow"],fM(l)),e}function mM(n){const e={},o=s(n,["proactiveAudio"]);return o!=null&&r(e,["proactiveAudio"],o),e}function pM(n,e){const o={},l=s(n,["generationConfig"]);e!==void 0&&l!=null&&r(e,["setup","generationConfig"],l);const u=s(n,["responseModalities"]);e!==void 0&&u!=null&&r(e,["setup","generationConfig","responseModalities"],u);const d=s(n,["temperature"]);e!==void 0&&d!=null&&r(e,["setup","generationConfig","temperature"],d);const m=s(n,["topP"]);e!==void 0&&m!=null&&r(e,["setup","generationConfig","topP"],m);const h=s(n,["topK"]);e!==void 0&&h!=null&&r(e,["setup","generationConfig","topK"],h);const y=s(n,["maxOutputTokens"]);e!==void 0&&y!=null&&r(e,["setup","generationConfig","maxOutputTokens"],y);const p=s(n,["mediaResolution"]);e!==void 0&&p!=null&&r(e,["setup","generationConfig","mediaResolution"],p);const v=s(n,["seed"]);e!==void 0&&v!=null&&r(e,["setup","generationConfig","seed"],v);const T=s(n,["speechConfig"]);e!==void 0&&T!=null&&r(e,["setup","generationConfig","speechConfig"],K_(Vu(T)));const x=s(n,["enableAffectiveDialog"]);e!==void 0&&x!=null&&r(e,["setup","generationConfig","enableAffectiveDialog"],x);const M=s(n,["systemInstruction"]);e!==void 0&&M!=null&&r(e,["setup","systemInstruction"],j_(Et(M)));const U=s(n,["tools"]);if(e!==void 0&&U!=null){let X=Eo(U);Array.isArray(X)&&(X=X.map(ne=>sM(xo(ne)))),r(e,["setup","tools"],X)}const P=s(n,["sessionResumption"]);e!==void 0&&P!=null&&r(e,["setup","sessionResumption"],rM(P));const B=s(n,["inputAudioTranscription"]);e!==void 0&&B!=null&&r(e,["setup","inputAudioTranscription"],Zp());const V=s(n,["outputAudioTranscription"]);e!==void 0&&V!=null&&r(e,["setup","outputAudioTranscription"],Zp());const J=s(n,["realtimeInputConfig"]);e!==void 0&&J!=null&&r(e,["setup","realtimeInputConfig"],cM(J));const Q=s(n,["contextWindowCompression"]);e!==void 0&&Q!=null&&r(e,["setup","contextWindowCompression"],dM(Q));const ee=s(n,["proactivity"]);return e!==void 0&&ee!=null&&r(e,["setup","proactivity"],mM(ee)),o}function gM(n,e){const o={},l=s(e,["model"]);l!=null&&r(o,["setup","model"],Le(n,l));const u=s(e,["config"]);return u!=null&&r(o,["config"],pM(u,o)),o}function hM(n,e,o){const l={},u=s(e,["expireTime"]);o!==void 0&&u!=null&&r(o,["expireTime"],u);const d=s(e,["newSessionExpireTime"]);o!==void 0&&d!=null&&r(o,["newSessionExpireTime"],d);const m=s(e,["uses"]);o!==void 0&&m!=null&&r(o,["uses"],m);const h=s(e,["liveConnectConstraints"]);o!==void 0&&h!=null&&r(o,["bidiGenerateContentSetup"],gM(n,h));const y=s(e,["lockAdditionalFields"]);return o!==void 0&&y!=null&&r(o,["fieldMask"],y),l}function yM(n,e){const o={},l=s(e,["config"]);return l!=null&&r(o,["config"],hM(n,l,o)),o}function vM(n){const e={},o=s(n,["name"]);return o!=null&&r(e,["name"],o),e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function TM(n){const e=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const l=n[o];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const u=Object.keys(l).map(d=>`${o}.${d}`);e.push(...u)}else e.push(o)}return e.join(",")}function CM(n,e){let o=null;const l=n.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const d=l.setup;typeof d=="object"&&d!==null?(n.bidiGenerateContentSetup=d,o=d):delete n.bidiGenerateContentSetup}else l!==void 0&&delete n.bidiGenerateContentSetup;const u=n.fieldMask;if(o){const d=TM(o);if(Array.isArray(e==null?void 0:e.lockAdditionalFields)&&(e==null?void 0:e.lockAdditionalFields.length)===0)d?n.fieldMask=d:delete n.fieldMask;else if(e!=null&&e.lockAdditionalFields&&e.lockAdditionalFields.length>0&&u!==null&&Array.isArray(u)&&u.length>0){const m=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];u.length>0&&(h=u.map(p=>m.includes(p)?`generationConfig.${p}`:p));const y=[];d&&y.push(d),h.length>0&&y.push(...h),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else u!==null&&Array.isArray(u)&&u.length>0?n.fieldMask=u.join(","):delete n.fieldMask;return n}class SM extends _i{constructor(e){super(),this.apiClient=e}async create(e){var o,l;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=yM(this.apiClient,e);d=ie("auth_tokens",h._url),m=h._query,delete h.config,delete h._url,delete h._query;const y=CM(h,e.config);return u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(p=>p.json()),u.then(p=>vM(p))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xM(n){const e={},o=s(n,["name"]);o!=null&&r(e,["_url","name"],o);const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function EM(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const u=s(n,["pageToken"]);e!==void 0&&u!=null&&r(e,["_query","pageToken"],u);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),o}function AM(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],EM(o,e)),e}function _M(n){const e={},o=s(n,["name"]);o!=null&&r(e,["_url","name"],o);const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function MM(n){const e={},o=s(n,["textInput"]);o!=null&&r(e,["textInput"],o);const l=s(n,["output"]);return l!=null&&r(e,["output"],l),e}function RM(n){const e={};if(s(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(s(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const o=s(n,["examples"]);if(o!=null){let l=o;Array.isArray(l)&&(l=l.map(u=>MM(u))),r(e,["examples","examples"],l)}return e}function NM(n,e){const o={};if(s(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const l=s(n,["tunedModelDisplayName"]);if(e!==void 0&&l!=null&&r(e,["displayName"],l),s(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const u=s(n,["epochCount"]);e!==void 0&&u!=null&&r(e,["tuningTask","hyperparameters","epochCount"],u);const d=s(n,["learningRateMultiplier"]);if(d!=null&&r(o,["tuningTask","hyperparameters","learningRateMultiplier"],d),s(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(s(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(s(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const m=s(n,["batchSize"]);e!==void 0&&m!=null&&r(e,["tuningTask","hyperparameters","batchSize"],m);const h=s(n,["learningRate"]);if(e!==void 0&&h!=null&&r(e,["tuningTask","hyperparameters","learningRate"],h),s(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return o}function DM(n){const e={},o=s(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const l=s(n,["preTunedModel"]);l!=null&&r(e,["preTunedModel"],l);const u=s(n,["trainingDataset"]);u!=null&&r(e,["tuningTask","trainingData"],RM(u));const d=s(n,["config"]);return d!=null&&r(e,["config"],NM(d,e)),e}function bM(n){const e={},o=s(n,["name"]);o!=null&&r(e,["_url","name"],o);const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function wM(n,e){const o={},l=s(n,["pageSize"]);e!==void 0&&l!=null&&r(e,["_query","pageSize"],l);const u=s(n,["pageToken"]);e!==void 0&&u!=null&&r(e,["_query","pageToken"],u);const d=s(n,["filter"]);return e!==void 0&&d!=null&&r(e,["_query","filter"],d),o}function IM(n){const e={},o=s(n,["config"]);return o!=null&&r(e,["config"],wM(o,e)),e}function UM(n){const e={},o=s(n,["name"]);o!=null&&r(e,["_url","name"],o);const l=s(n,["config"]);return l!=null&&r(e,["config"],l),e}function LM(n,e){const o={},l=s(n,["gcsUri"]);e!==void 0&&l!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],l);const u=s(n,["vertexDatasetResource"]);if(e!==void 0&&u!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],u),s(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return o}function VM(n,e){const o={},l=s(n,["gcsUri"]);l!=null&&r(o,["validationDatasetUri"],l);const u=s(n,["vertexDatasetResource"]);return e!==void 0&&u!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],u),o}function PM(n,e){const o={},l=s(n,["validationDataset"]);e!==void 0&&l!=null&&r(e,["supervisedTuningSpec"],VM(l,o));const u=s(n,["tunedModelDisplayName"]);e!==void 0&&u!=null&&r(e,["tunedModelDisplayName"],u);const d=s(n,["description"]);e!==void 0&&d!=null&&r(e,["description"],d);const m=s(n,["epochCount"]);e!==void 0&&m!=null&&r(e,["supervisedTuningSpec","hyperParameters","epochCount"],m);const h=s(n,["learningRateMultiplier"]);e!==void 0&&h!=null&&r(e,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],h);const y=s(n,["exportLastCheckpointOnly"]);e!==void 0&&y!=null&&r(e,["supervisedTuningSpec","exportLastCheckpointOnly"],y);const p=s(n,["preTunedModelCheckpointId"]);p!=null&&r(o,["preTunedModel","checkpointId"],p);const v=s(n,["adapterSize"]);if(e!==void 0&&v!=null&&r(e,["supervisedTuningSpec","hyperParameters","adapterSize"],v),s(n,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(s(n,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const T=s(n,["labels"]);return e!==void 0&&T!=null&&r(e,["labels"],T),o}function kM(n){const e={},o=s(n,["baseModel"]);o!=null&&r(e,["baseModel"],o);const l=s(n,["preTunedModel"]);l!=null&&r(e,["preTunedModel"],l);const u=s(n,["trainingDataset"]);u!=null&&r(e,["supervisedTuningSpec","trainingDatasetUri"],LM(u,e));const d=s(n,["config"]);return d!=null&&r(e,["config"],PM(d,e)),e}function qM(n){const e={},o=s(n,["name"]);o!=null&&r(e,["model"],o);const l=s(n,["name"]);return l!=null&&r(e,["endpoint"],l),e}function Bg(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const u=s(n,["state"]);u!=null&&r(e,["state"],mg(u));const d=s(n,["createTime"]);d!=null&&r(e,["createTime"],d);const m=s(n,["tuningTask","startTime"]);m!=null&&r(e,["startTime"],m);const h=s(n,["tuningTask","completeTime"]);h!=null&&r(e,["endTime"],h);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=s(n,["description"]);p!=null&&r(e,["description"],p);const v=s(n,["baseModel"]);v!=null&&r(e,["baseModel"],v);const T=s(n,["_self"]);T!=null&&r(e,["tunedModel"],qM(T));const x=s(n,["customBaseModel"]);x!=null&&r(e,["customBaseModel"],x);const M=s(n,["experiment"]);M!=null&&r(e,["experiment"],M);const U=s(n,["labels"]);U!=null&&r(e,["labels"],U);const P=s(n,["outputUri"]);P!=null&&r(e,["outputUri"],P);const B=s(n,["pipelineJob"]);B!=null&&r(e,["pipelineJob"],B);const V=s(n,["serviceAccount"]);V!=null&&r(e,["serviceAccount"],V);const J=s(n,["tunedModelDisplayName"]);return J!=null&&r(e,["tunedModelDisplayName"],J),e}function HM(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const u=s(n,["tunedModels"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>Bg(m))),r(e,["tuningJobs"],d)}return e}function GM(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const u=s(n,["metadata"]);u!=null&&r(e,["metadata"],u);const d=s(n,["done"]);d!=null&&r(e,["done"],d);const m=s(n,["error"]);return m!=null&&r(e,["error"],m),e}function BM(n){const e={},o=s(n,["checkpointId"]);o!=null&&r(e,["checkpointId"],o);const l=s(n,["epoch"]);l!=null&&r(e,["epoch"],l);const u=s(n,["step"]);u!=null&&r(e,["step"],u);const d=s(n,["endpoint"]);return d!=null&&r(e,["endpoint"],d),e}function zM(n){const e={},o=s(n,["model"]);o!=null&&r(e,["model"],o);const l=s(n,["endpoint"]);l!=null&&r(e,["endpoint"],l);const u=s(n,["checkpoints"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>BM(m))),r(e,["checkpoints"],d)}return e}function Du(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["name"]);l!=null&&r(e,["name"],l);const u=s(n,["state"]);u!=null&&r(e,["state"],mg(u));const d=s(n,["createTime"]);d!=null&&r(e,["createTime"],d);const m=s(n,["startTime"]);m!=null&&r(e,["startTime"],m);const h=s(n,["endTime"]);h!=null&&r(e,["endTime"],h);const y=s(n,["updateTime"]);y!=null&&r(e,["updateTime"],y);const p=s(n,["error"]);p!=null&&r(e,["error"],p);const v=s(n,["description"]);v!=null&&r(e,["description"],v);const T=s(n,["baseModel"]);T!=null&&r(e,["baseModel"],T);const x=s(n,["tunedModel"]);x!=null&&r(e,["tunedModel"],zM(x));const M=s(n,["preTunedModel"]);M!=null&&r(e,["preTunedModel"],M);const U=s(n,["supervisedTuningSpec"]);U!=null&&r(e,["supervisedTuningSpec"],U);const P=s(n,["tuningDataStats"]);P!=null&&r(e,["tuningDataStats"],P);const B=s(n,["encryptionSpec"]);B!=null&&r(e,["encryptionSpec"],B);const V=s(n,["partnerModelTuningSpec"]);V!=null&&r(e,["partnerModelTuningSpec"],V);const J=s(n,["customBaseModel"]);J!=null&&r(e,["customBaseModel"],J);const Q=s(n,["experiment"]);Q!=null&&r(e,["experiment"],Q);const ee=s(n,["labels"]);ee!=null&&r(e,["labels"],ee);const X=s(n,["outputUri"]);X!=null&&r(e,["outputUri"],X);const ne=s(n,["pipelineJob"]);ne!=null&&r(e,["pipelineJob"],ne);const fe=s(n,["serviceAccount"]);fe!=null&&r(e,["serviceAccount"],fe);const Se=s(n,["tunedModelDisplayName"]);return Se!=null&&r(e,["tunedModelDisplayName"],Se),e}function FM(n){const e={},o=s(n,["sdkHttpResponse"]);o!=null&&r(e,["sdkHttpResponse"],o);const l=s(n,["nextPageToken"]);l!=null&&r(e,["nextPageToken"],l);const u=s(n,["tuningJobs"]);if(u!=null){let d=u;Array.isArray(d)&&(d=d.map(m=>Du(m))),r(e,["tuningJobs"],d)}return e}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class YM extends _i{constructor(e){super(),this.apiClient=e,this.get=async o=>await this.getInternal(o),this.list=async(o={})=>new Dl(Ai.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(o),o),this.tune=async o=>{if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const l={tunedModelName:o.baseModel},u=Object.assign(Object.assign({},o),{preTunedModel:l});return u.baseModel=void 0,await this.tuneInternal(u)}else{const l=Object.assign({},o);return await this.tuneInternal(l)}else{const l=Object.assign({},o),u=await this.tuneMldevInternal(l);let d="";return u.metadata!==void 0&&u.metadata.tunedModel!==void 0?d=u.metadata.tunedModel:u.name!==void 0&&u.name.includes("/operations/")&&(d=u.name.split("/operations/")[0]),{name:d,state:Cu.JOB_STATE_QUEUED}}}}async getInternal(e){var o,l,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=bM(e);return h=ie("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>Du(v))}else{const p=xM(e);return h=ie("{name}",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>Bg(v))}}async listInternal(e){var o,l,u,d;let m,h="",y={};if(this.apiClient.isVertexAI()){const p=IM(e);return h=ie("tuningJobs",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=FM(v),x=new Rp;return Object.assign(x,T),x})}else{const p=AM(e);return h=ie("tunedModels",p._url),y=p._query,delete p.config,delete p._url,delete p._query,m=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal}).then(v=>v.json().then(T=>{const x=T;return x.sdkHttpResponse={headers:v.headers},x})),m.then(v=>{const T=HM(v),x=new Rp;return Object.assign(x,T),x})}}async cancel(e){var o,l,u,d;let m="",h={};if(this.apiClient.isVertexAI()){const y=UM(e);m=ie("{name}:cancel",y._url),h=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal})}else{const y=_M(e);m=ie("{name}:cancel",y._url),h=y._query,delete y.config,delete y._url,delete y._query,await this.apiClient.request({path:m,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(u=e.config)===null||u===void 0?void 0:u.httpOptions,abortSignal:(d=e.config)===null||d===void 0?void 0:d.abortSignal})}}async tuneInternal(e){var o,l;let u,d="",m={};if(this.apiClient.isVertexAI()){const h=kM(e);return d=ie("tuningJobs",h._url),m=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>Du(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var o,l;let u,d="",m={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=DM(e);return d=ie("tunedModels",h._url),m=h._query,delete h.config,delete h._url,delete h._query,u=this.apiClient.request({path:d,queryParams:m,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=e.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(l=e.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(p=>{const v=p;return v.sdkHttpResponse={headers:y.headers},v})),u.then(y=>GM(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OM{async download(e,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const JM=1024*1024*8,KM=3,XM=1e3,QM=2,hu="x-goog-upload-status";async function $M(n,e,o){var l,u,d;let m=0,h=0,y=new Su(new Response),p="upload";for(m=n.size;h<m;){const T=Math.min(JM,m-h),x=n.slice(h,h+T);h+T>=m&&(p+=", finalize");let M=0,U=XM;for(;M<KM&&(y=await o.request({path:"",body:x,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:e,headers:{"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":String(h),"Content-Length":String(T)}}}),!(!((l=y==null?void 0:y.headers)===null||l===void 0)&&l[hu]));)M++,await WM(U),U=U*QM;if(h+=T,((u=y==null?void 0:y.headers)===null||u===void 0?void 0:u[hu])!=="active")break;if(m<=h)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const v=await(y==null?void 0:y.json());if(((d=y==null?void 0:y.headers)===null||d===void 0?void 0:d[hu])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return v.file}async function ZM(n){return{size:n.size,type:n.type}}function WM(n){return new Promise(e=>setTimeout(e,n))}class jM{async upload(e,o,l){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await $M(e,o,l)}async stat(e){if(typeof e=="string")throw new Error("File path is not supported in browser uploader.");return await ZM(e)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class e1{create(e,o,l){return new t1(e,o,l)}}class t1{constructor(e,o,l){this.url=e,this.headers=o,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Wp="x-goog-api-key";class n1{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(e.get(Wp)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(Wp,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const i1="gl-node/";class Ri{constructor(e){var o;if(e.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=e.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=e.apiKey;const l=m0(e.httpOptions,e.vertexai,void 0,void 0);l&&(e.httpOptions?e.httpOptions.baseUrl=l:e.httpOptions={baseUrl:l}),this.apiVersion=e.apiVersion;const u=new n1(this.apiKey);this.apiClient=new x_({auth:u,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:i1+"web",uploader:new jM,downloader:new OM}),this.models=new z_(this.apiClient),this.live=new V_(this.apiClient,u,new e1),this.batches=new oT(this.apiClient),this.chats=new dC(this.models,this.apiClient),this.caches=new uC(this.apiClient),this.files=new _C(this.apiClient),this.operations=new F_(this.apiClient),this.authTokens=new SM(this.apiClient),this.tunings=new YM(this.apiClient)}}function Ei(n){return new Promise((e,o)=>{const l=new FileReader;l.readAsDataURL(n),l.onload=()=>{const u=l.result.split(",")[1];u?e(u):o(new Error("Could not convert file to base64 string."))},l.onerror=u=>o(u)})}function o1(n){return new Promise((e,o)=>{const l=new FileReader;l.readAsDataURL(n),l.onload=()=>e(l.result),l.onerror=u=>o(u)})}function l1(n,e){const o=n.split(","),l=o[0].match(/:(.*?);/);if(!l)throw new Error("Invalid data URL format");const u=l[1],d=atob(o[1]);let m=d.length;const h=new Uint8Array(m);for(;m--;)h[m]=d.charCodeAt(m);return new File([h],e,{type:u})}function a1(n){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";let o="";for(let l=0;l<n;l++)o+=e.charAt(Math.floor(Math.random()*e.length));return o}const s1=async(n,e,o)=>{var u,d;const l=new Ri({apiKey:void 0});try{const m=n.split(","),h=(u=m[0].match(/:(.*?);/))==null?void 0:u[1],y=m[1];if(!h||!y)throw new Error("Invalid data URL provided for editing.");const T=[{inlineData:{data:y,mimeType:h}},{text:e}];if(o){const M=o.split(","),U=(d=M[0].match(/:(.*?);/))==null?void 0:d[1],P=M[1];U&&P&&T.splice(1,0,{inlineData:{data:P,mimeType:U}})}const x=await l.models.generateContent({model:"gemini-2.5-flash-image-preview",contents:{parts:T},config:{responseModalities:[So.IMAGE,So.TEXT]}});for(const M of x.candidates[0].content.parts)if(M.inlineData)return M.inlineData.data;throw new Error("AI did not return an edited image.")}catch(m){throw console.error("Error editing image:",m),new Error(m instanceof Error?m.message:"Failed to edit the image.")}},r1=async(n,e,o,l)=>{try{const u=Array.from({length:o},()=>s1(n,e,l));return await Promise.all(u)}catch(u){throw console.error("Error generating multiple edits:",u),new Error(u instanceof Error?u.message:"Failed to generate multiple image edits.")}},u1=async(n,e)=>{const o=new Ri({apiKey:void 0});try{const u=[{text:`You are an artistic prompt enhancer for an AI image generator. Your task is to analyze a user's prompt and a style reference image. Combine them to create a single, detailed, and coherent final prompt.

**RULES:**
1.  **Artistic Style:** The final prompt must describe the artistic style, color palette, lighting, texture, and overall mood of the "STYLE REFERENCE IMAGE".
2.  **User Content:** The core subject and action of the final prompt must come from the "User's Base Prompt". Do not change the user's core idea.
3.  **Integration:** Weave the stylistic descriptions from the reference image into the user's prompt to create a rich, detailed final prompt.
4.  **Output:** The final output must be ONLY the detailed prompt string, nothing else.

**User's Base Prompt:** "${n}"
`}],d=await Ei(e);return u.push({text:"--- STYLE REFERENCE IMAGE ---"}),u.push({inlineData:{mimeType:e.type,data:d}}),u.push({text:"Now, based on the user's prompt and the style reference, generate the single, detailed final prompt."}),(await o.models.generateContent({model:"gemini-2.5-flash",contents:{parts:u}})).text.trim()}catch(l){throw console.error("Error enhancing prompt with style:",l),new Error("Failed to enhance prompt with style reference.")}},c1=async(n,e,o,l)=>{var d;const u=new Ri({apiKey:void 0});try{const h=[{text:`You are a world-class prompt engineer for an AI image generator. Your sole purpose is to create a single, perfect, detailed prompt by synthesizing user input and reference images.

**CRITICAL RULES - FOLLOW EXACTLY:**
1.  **ABSOLUTE CHARACTER FIDELITY (DO NOT DEVIATE):** This is the most important rule. You will be given image definitions for named characters. When the user's prompt mentions a character's name (e.g., "${((d=o[0])==null?void 0:d.name)||"Character A"}"), you MUST describe that character in the final prompt with 100% visual accuracy to their provided image.
    *   **DO NOT** change their appearance, clothing, colors, style, species, or any visual attribute.
    *   **DO NOT** add or invent details not present in the character's image.
    *   Your task is to translate the character's image into a precise textual description for the image generator to replicate. Any deviation from the source image is a failure.

2.  **PRECISE SCENE COMPOSITION:** If a "PRE-COMPOSED SCENE IMAGE" is provided, it dictates the exact layout, positioning, and scale of characters and objects. Your prompt must describe this exact visual arrangement.

3.  **STRICT STYLE ADHERENCE:** If a "STYLE REFERENCE IMAGE" is provided, the final image's artistic style, color palette, lighting, and texture MUST strictly match it. Your prompt must contain descriptive terms that enforce this style.

4.  **SEAMLESS INTEGRATION:** Weave the user's core idea (from the "User's Base Prompt") with the strict rules above into a single, cohesive, highly-detailed prompt.

5.  **OUTPUT FORMAT:** Your response MUST BE ONLY the final detailed prompt string. Do not include any other text, labels, or explanations.

**User's Base Prompt:** "${n}"
`}];for(const p of o){const v=await Ei(p.file);h.push({text:`--- CHARACTER DEFINITION: "${p.name}" ---`}),h.push({inlineData:{mimeType:p.file.type,data:v}})}if(e){const p=await Ei(e);h.push({text:"--- PRE-COMPOSED SCENE IMAGE (with layout) ---"}),h.push({inlineData:{mimeType:e.type,data:p}})}if(l){const p=await Ei(l);h.push({text:"--- STYLE REFERENCE IMAGE ---"}),h.push({inlineData:{mimeType:l.type,data:p}})}return h.push({text:"Now, based on all the provided assets and rules, generate the single, detailed final prompt."}),(await u.models.generateContent({model:"gemini-2.5-flash",contents:{parts:h}})).text.trim()}catch(m){throw console.error("Error generating detailed image prompt:",m),new Error("Failed to create a scene prompt from the provided assets.")}},f1=async(n,e,o)=>{const l=new Ri({apiKey:"PLACEHOLDER_API_KEY"});try{const u=await l.models.generateImages({model:"imagen-4.0-generate-001",prompt:n,config:{numberOfImages:e,outputMimeType:"image/jpeg",aspectRatio:o}});if(!u.generatedImages||u.generatedImages.length===0)throw new Error("The API did not return any images.");return u.generatedImages.map(d=>d.image.imageBytes)}catch(u){throw console.error("Error generating images:",u),new Error(u instanceof Error?u.message:"Failed to generate images due to an unknown error.")}},d1=async(n,e,o,l)=>{const u=new Ri({apiKey:"PLACEHOLDER_API_KEY"}),d=await u.models.generateContent({model:"gemini-2.5-flash",contents:`You are a creative storyboard director. Analyze the following story idea and break it down into exactly ${e} distinct, visually compelling scenes. For each scene, write a short, powerful, and detailed prompt suitable for an AI image generator. The prompts should flow logically to tell the story.
        
        Story Idea: "${n}"

        Your response must be a JSON array containing exactly ${e} string prompts. Do not include any other text or explanations.`,config:{responseMimeType:"application/json",responseSchema:{type:xt.ARRAY,items:{type:xt.STRING,description:"A detailed image prompt for a single storyboard panel."}}}}),m=JSON.parse(d.text.trim());if(!Array.isArray(m)||m.length===0)throw new Error("AI failed to generate storyboard prompts.");const h=m.map(v=>{const T=l?`${v}, ${l}`:v;return u.models.generateImages({model:"imagen-4.0-generate-001",prompt:T,config:{numberOfImages:1,outputMimeType:"image/jpeg",aspectRatio:o}})});return(await Promise.all(h)).map(v=>{if(!v.generatedImages||v.generatedImages.length===0)throw new Error("One or more storyboard images could not be generated.");return v.generatedImages[0].image.imageBytes})},m1=async(n,e)=>{const o=new Ri({apiKey:"PLACEHOLDER_API_KEY"});try{const l=await Ei(n),u=await Promise.all(e.map(T=>Ei(T))),d={inlineData:{mimeType:n.type,data:l}},m=u.map((T,x)=>({inlineData:{mimeType:e[x].type,data:T}})),h={text:"Analyze the background and the sequence of character images. For each character image, determine the most logical placement and scale within the background scene, considering potential interactions and overall composition. Provide the result as a JSON array of objects, with one object per character in the same order they were provided. Each object must have normalized coordinates (x, y) for the top-left corner and dimensions (width, height), where the background is the frame of reference (0,0 to 1,1)."},p=(await o.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[h,d,...m]},config:{responseMimeType:"application/json",responseSchema:{type:xt.ARRAY,items:{type:xt.OBJECT,properties:{x:{type:xt.NUMBER},y:{type:xt.NUMBER},width:{type:xt.NUMBER},height:{type:xt.NUMBER}},required:["x","y","width","height"]}}}})).text.trim(),v=JSON.parse(p);if(!Array.isArray(v)||v.length!==e.length)throw new Error("AI did not return a valid placement array for all characters.");return v}catch(l){throw console.error("Error getting smart placement:",l),new Error("Failed to get smart placement from AI. The model may have been unable to determine valid positions.")}},p1=async(n,e,o)=>{var v,T,x,M;const l=new Ri({apiKey:"PLACEHOLDER_API_KEY"});if(e.length===0)throw new Error("An image is required to generate a video.");let u;const d=e[0];try{o("Preparing your image...");const U=await Ei(d);u=await l.models.generateVideos({model:"veo-2.0-generate-001",prompt:n,image:{imageBytes:U,mimeType:d.type},config:{numberOfVideos:1}})}catch(U){throw console.error("Error starting video generation:",U),new Error("Failed to start video generation. Check your prompt or API key.")}for(o("Video generation started. Polling for results...");!u.done;){await new Promise(U=>setTimeout(U,1e4));try{u=await l.operations.getVideosOperation({operation:u})}catch(U){console.error("Polling failed, retrying...",U)}}if(u.error)throw console.error("Video generation failed:",u.error),new Error(`Video generation failed: ${u.error.message||"Unknown API error"}`);const m=(M=(x=(T=(v=u.response)==null?void 0:v.generatedVideos)==null?void 0:T[0])==null?void 0:x.video)==null?void 0:M.uri;if(!m)throw new Error("Could not retrieve video download link from the API response.");o("Fetching generated video...");const h=await fetch(`${m}&key=PLACEHOLDER_API_KEY`);if(!h.ok){const U=await h.text();throw new Error(`Failed to download the generated video. Status: ${h.status}. ${U}`)}const y=await h.blob(),p=URL.createObjectURL(y);return o("Done."),p},yu=["Igniting the creative sparks of the AI...","Teaching the AI to dream in pixels and code...","Assembling the digital orchestra for your masterpiece...","The AI is painting with light and shadow...","Translating your vision into a cinematic sequence...","Rendering the final frames, this may take a moment...","Almost there, polishing the final animation..."],Nl=[{name:"None",prompt:"",description:"Không áp dụng phong cách cụ thể."},{name:"Cinematic",prompt:"Cinematic, hyper-detailed, 8k, dramatic lighting, epic scope.",description:"Tạo ra một giao diện điện ảnh, kịch tính với chi tiết cao và ánh sáng hùng vĩ."},{name:"Anime",prompt:"Japanese anime style, vibrant colors, sharp lines, expressive characters.",description:"Phong cách hoạt hình Nhật Bản với màu sắc rực rỡ và các nhân vật biểu cảm."},{name:"3D Animation",prompt:"Dynamic 3D animation, complex models and environments, cinematic lighting, fluid character motion, strong sense of depth and perspective.",description:"Hoạt hình 3D động, mô hình phức tạp và chuyển động nhân vật mượt mà."},{name:"Photorealistic 3D",prompt:"Photorealistic CGI, ultra-realistic, 8k, Unreal Engine 5 render, cinematic lighting, ray tracing, physically-based rendering, hyper-detailed textures.",description:"Đồ họa 3D siêu thực, tiệm cận chất lượng game bom tấn với ánh sáng ray-tracing."},{name:"Pixar Style",prompt:"Pixar-style 3D animation, vibrant colors, expressive characters, detailed textures, cinematic quality, heartwarming storytelling.",description:"Hoạt hình 3D theo phong cách Pixar, ấm áp với các nhân vật biểu cảm."},{name:"Disney Style",prompt:"Disney-style 3D animation, classic fairytale aesthetic, expressive, large eyes, fluid motion, magical and enchanting atmosphere.",description:"Thẩm mỹ cổ tích Disney cổ điển, đầy mê hoặc và huyền diệu."},{name:"Dreamworks Style",prompt:"Dreamworks-style 3D animation, slightly stylized characters, dynamic action sequences, witty and humorous tone, expressive faces.",description:"Phong cách Dreamworks với các pha hành động và biểu cảm hài hước."},{name:"3D Cartoon",prompt:"Stylized 3D cartoon animation, bold colors, clean outlines, expressive and simplified character models, playful and vibrant atmosphere.",description:"Hoạt hình 3D cách điệu, vui tươi với màu sắc đậm và đường nét rõ ràng."},{name:"Pixel Art",prompt:"16-bit pixel art style, retro gaming aesthetic, limited color palette.",description:"Thẩm mỹ game retro 16-bit với bảng màu giới hạn."},{name:"Claymation",prompt:"Stop-motion claymation style, handcrafted look, slight imperfections.",description:"Phong cách hoạt hình đất sét tĩnh vật, mang lại cảm giác thủ công."},{name:"Watercolor",prompt:"Watercolor painting style, soft edges, blended colors, artistic feel.",description:"Phong cách tranh màu nước với các cạnh mềm mại và màu sắc hòa quyện."},{name:"Cyberpunk",prompt:"Cyberpunk style, neon-drenched cityscapes, futuristic, high-tech, dystopian feel.",description:"Thành phố tương lai ngập trong ánh đèn neon, cảm giác công nghệ cao và phản địa đàng."},{name:"Vintage Film",prompt:"Old-fashioned film look, grainy texture, muted colors, film scratches, 1950s aesthetic.",description:"Giao diện phim cũ với nhiễu hạt, màu sắc trầm và thẩm mỹ thập niên 50."}],vu=[{id:"film_grain",name:"Film Grain (Nhiễu phim)",prompt:"subtle film grain, cinematic texture",description:"Thêm một lớp nhiễu hạt tinh tế để tạo cảm giác phim nhựa cổ điển."},{id:"bloom",name:"Bloom (Ánh sáng tỏa)",prompt:"soft bloom effect, glowing highlights, ethereal lighting",description:"Làm cho các vùng sáng tỏa ra một cách mềm mại, tạo ra ánh sáng thơ mộng."},{id:"vignette",name:"Vignette (Tối góc)",prompt:"cinematic vignette, darkened corners, focus on center",description:"Làm tối các góc của hình ảnh để tập trung sự chú ý vào trung tâm."},{id:"chromatic_aberration",name:"Chromatic Aberration (Sai sắc)",prompt:"slight chromatic aberration, lens distortion effect",description:"Tạo ra hiệu ứng viền màu nhẹ ở các cạnh tương phản cao, giống như ống kính máy ảnh."},{id:"lens_flare",name:"Lens Flare (Lóa ống kính)",prompt:"anamorphic lens flare, cinematic light streaks",description:"Mô phỏng các vệt sáng lóe lên khi ánh sáng mạnh chiếu vào ống kính."},{id:"dof",name:"Depth of Field (Độ sâu trường ảnh)",prompt:"shallow depth of field, beautiful bokeh, blurred background",description:"Tạo ra hậu cảnh mờ ảo, làm nổi bật chủ thể chính."},{id:"teal_orange",name:"Teal & Orange",prompt:"teal and orange color grading, cinematic color scheme",description:"Áp dụng tông màu xanh mòng két và cam phổ biến trong các bộ phim Hollywood."},{id:"sepia",name:"Sepia Tone (Tông màu nâu đỏ)",prompt:"sepia tone, vintage, old photo look",description:"Mang lại cho hình ảnh một tông màu nâu đỏ ấm áp, cổ điển."},{id:"scanlines",name:"Scanlines (Vạch quét)",prompt:"CRT screen effect, visible scanlines, retro aesthetic",description:"Tạo hiệu ứng các đường quét ngang giống như trên màn hình TV cũ."}],Tu=[{id:"16:9",name:"Landscape (16:9)",prompt:", cinematic widescreen, 16:9 aspect ratio"},{id:"9:16",name:"Portrait (9:16)",prompt:", vertical format, 9:16 aspect ratio"},{id:"1:1",name:"Square (1:1)",prompt:", square format, 1:1 aspect ratio"},{id:"4:3",name:"Standard (4:3)",prompt:", standard 4:3 aspect ratio"},{id:"21:9",name:"Cinematic (21:9)",prompt:", ultra-widescreen, 21:9 aspect ratio, anamorphic look"}],jp=[{id:"1:1",name:"Vuông"},{id:"16:9",name:"Ngang"},{id:"9:16",name:"Dọc"},{id:"4:3",name:"Ảnh"},{id:"3:4",name:"Chân dung"}],Ml=[{value:144,label:"144p",prompt:", 144p resolution, low quality"},{value:360,label:"360p",prompt:", 360p resolution"},{value:480,label:"480p",prompt:", 480p resolution, SD quality"},{value:720,label:"720p",prompt:", 720p resolution, HD quality"},{value:1080,label:"1080p",prompt:", 1080p resolution, Full HD quality, sharp details"}],zg=[{id:"none",name:"None",prompt:""},{id:"low",name:"Low",prompt:", low motion blur"},{id:"medium",name:"Medium",prompt:", medium motion blur"},{id:"high",name:"High",prompt:", high motion blur, cinematic"}],eg=[{name:"Default (Mặc định)",prompt:""},{name:"Full Shot (Toàn cảnh)",prompt:"Full shot"},{name:"Medium Shot (Trung cảnh)",prompt:"Medium shot"},{name:"Close-up (Cận cảnh)",prompt:"Close-up shot"},{name:"Extreme Close-up (Đặc tả)",prompt:"Extreme close-up"},{name:"Long Shot (Viễn cảnh)",prompt:"Long shot"},{name:"Establishing Shot (Cảnh thiết lập)",prompt:"Establishing shot"},{name:"Point of View (Góc nhìn)",prompt:"POV shot"}],tg=[{name:"Default (Mặc định)",prompt:""},{name:"Eye-Level (Ngang tầm mắt)",prompt:"Eye-level angle"},{name:"High Angle (Góc cao)",prompt:"High angle"},{name:"Low Angle (Góc thấp)",prompt:"Low angle"},{name:"Dutch Angle (Góc nghiêng)",prompt:"Dutch angle"},{name:"Over-the-Shoulder (Qua vai)",prompt:"Over-the-shoulder shot"}],ng=[{name:"Default (Mặc định)",prompt:""},{name:"Static (Tĩnh)",prompt:"Static shot"},{name:"Pan Left (Lia trái)",prompt:"Camera pan left"},{name:"Pan Right (Lia phải)",prompt:"Camera pan right"},{name:"Tilt Up (Nghiêng lên)",prompt:"Camera tilt up"},{name:"Tilt Down (Nghiêng xuống)",prompt:"Camera tilt down"},{name:"Dolly In (Tiến vào)",prompt:"Dolly in"},{name:"Dolly Out (Lùi ra)",prompt:"Dolly out"},{name:"Tracking Shot (Theo dõi)",prompt:"Tracking shot"}],ig=[{name:"Default (Mặc định)",prompt:""},{name:"Wide Angle (Góc rộng)",prompt:"Wide-angle lens"},{name:"Telephoto (Chụp xa)",prompt:"Telephoto lens"},{name:"Fisheye (Mắt cá)",prompt:"Fisheye lens"},{name:"Macro (Cận cảnh)",prompt:"Macro lens"}],g1=({videoUrl:n,isLoading:e,loadingMessage:o,error:l,onEditRequest:u})=>{const[d,m]=H.useState(!1),h=H.useRef(null);H.useEffect(()=>{m(!1)},[n]);const y=M=>new Promise((U,P)=>{const B=document.createElement("canvas");B.width=M.videoWidth,B.height=M.videoHeight;const V=B.getContext("2d");if(!V){P(new Error("Could not get canvas context."));return}V.drawImage(M,0,0),U(B.toDataURL("image/jpeg"))}),p=()=>{h.current&&(h.current.pause(),m(!0))},v=async()=>{if(h.current)try{const M=await y(h.current);u(M),m(!1)}catch(M){console.error("Failed to extract frame:",M)}},T=()=>{m(!1),h.current&&h.current.play()},x=()=>e?S.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[S.jsxs("svg",{className:"animate-spin h-10 w-10 text-indigo-400 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[S.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),S.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),S.jsx("p",{className:"text-lg font-semibold text-gray-300",children:"Generating Your Animation"}),S.jsx("p",{className:"text-gray-400 mt-2 animate-pulse",children:o})]}):l?S.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center bg-red-900/20 border border-red-500/50 rounded-lg p-4",children:[S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-red-400 mb-3",viewBox:"0 0 20 20",fill:"currentColor",children:S.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),S.jsx("p",{className:"text-lg font-semibold text-red-300",children:"An Error Occurred"}),S.jsx("p",{className:"text-red-400 mt-1 max-w-full break-words px-2",children:l})]}):n?S.jsxs(S.Fragment,{children:[S.jsx("video",{ref:h,src:n,controls:!0,autoPlay:!0,loop:!d,muted:!0,className:"w-full h-full object-contain rounded-lg bg-black","aria-label":"Generated animation"},n),!d&&S.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center gap-2",children:[S.jsx("a",{href:n,download:`ai-animation-${Date.now()}.mp4`,className:"bg-gray-900/70 text-white rounded-full p-2 hover:bg-green-600 transition-all duration-200","aria-label":"Download video",children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:S.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})}),S.jsx("button",{onClick:p,className:"bg-gray-900/70 text-white rounded-full p-2 hover:bg-sky-600 transition-all duration-200","aria-label":"Edit a specific frame",children:S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[S.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),S.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]})})]}),d&&S.jsxs("div",{className:"absolute inset-0 bg-black/70 backdrop-blur-sm flex flex-col items-center justify-center text-center p-4",children:[S.jsx("p",{className:"text-lg font-semibold text-gray-200 mb-2",children:"Chọn Khung Hình Để Chỉnh Sửa"}),S.jsx("p",{className:"text-sm text-gray-400 mb-4",children:"Sử dụng thanh điều khiển của video để tìm khoảnh khắc bạn muốn, sau đó nhấn xác nhận."}),S.jsxs("div",{className:"flex gap-4",children:[S.jsx("button",{onClick:T,className:"px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors",children:"Hủy"}),S.jsxs("button",{onClick:v,className:"px-5 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors flex items-center gap-2",children:[S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:S.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),"Xác Nhận Khung Hình"]})]})]})]}):S.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-500 p-4",children:[S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z"})}),S.jsx("p",{className:"text-lg font-semibold",children:"Your animation will appear here"}),S.jsx("p",{className:"text-sm",children:'Fill out the prompt and click "Generate"'})]});return S.jsx("div",{className:"w-full aspect-video bg-gray-900/70 rounded-lg border border-gray-700 flex items-center justify-center overflow-hidden relative group",children:x()})},h1=({selectedStyles:n,onStyleChange:e,disabled:o})=>{const[l,u]=H.useState(null),d=H.useRef(null);H.useEffect(()=>()=>{d.current&&clearTimeout(d.current)},[]);const m=h=>{if(o)return;d.current&&clearTimeout(d.current);const y=Nl.find(x=>x.name===h);if(y&&y.description&&!n.includes(h)?(u(h),d.current=window.setTimeout(()=>{u(null)},3e3)):u(null),h==="None"){e(["None"]);return}const p=n.filter(x=>x!=="None"),v=p.includes(h);let T;v?T=p.filter(x=>x!==h):T=[...p,h],T.length===0?e(["None"]):e(T)};return S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Animation Style (Có thể chọn nhiều)"}),S.jsx("div",{className:"flex flex-wrap gap-2",children:Nl.map(h=>S.jsxs("div",{className:"relative",children:[S.jsx("button",{onClick:()=>m(h.name),disabled:o,className:`px-3 py-1.5 text-sm font-medium rounded-full transition-all duration-200 ease-in-out transform hover:scale-110 hover:brightness-110
                            ${n.includes(h.name)?"bg-indigo-600 text-white ring-2 ring-offset-2 ring-offset-gray-800 ring-indigo-500":"bg-gray-700/60 text-gray-300 hover:bg-gray-700"}
                            disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none`,children:h.name},h.name),l===h.name&&h.description&&S.jsxs("div",{className:"absolute bottom-full left-1/2 mb-2 w-max max-w-xs bg-gray-900 text-white text-xs rounded-lg py-1.5 px-3 z-10 shadow-lg animate-fade-in-up",role:"tooltip",children:[h.description,S.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]},h.name))})]})},xi=10,un=10,y1=25,cn=(n,e,o)=>{const l=o*Math.PI/180,u=Math.cos(l),d=Math.sin(l),m=n.x-e.x,h=n.y-e.y;return{x:e.x+m*u-h*d,y:e.y+m*d+h*u}},og=H.forwardRef(({onCompositionChange:n,disabled:e,onSaveCharacter:o},l)=>{const[u,d]=H.useState(null),[m,h]=H.useState([]),[y,p]=H.useState(null),[v,T]=H.useState({x:0,y:0,scale:1}),[x,M]=H.useState(!1),[U,P]=H.useState(null),[B,V]=H.useState(null),[J,Q]=H.useState(!1),[ee,X]=H.useState(!1),ne=H.useRef(null),fe=H.useRef(null),Se=H.useRef(null),se=H.useRef(null),ye=(k,q=!1)=>{if(m.length>=xi)return;const te=new Image;te.src=URL.createObjectURL(k),te.onload=()=>{const K=ne.current,_e=K?K.offsetHeight/4:100,ve=_e*(te.naturalWidth/te.naturalHeight),Te={id:Date.now(),file:k,name:k.name.split(".")[0]||`Nhân vật ${m.length+1}`,img:te,x:K?(K.offsetWidth-ve)/2:50,y:K?(K.offsetHeight-_e)/2:50,width:ve,height:_e,rotation:0,isSavedToLibrary:q};h(Ve=>[...Ve,Te]),p(Te.id)},te.onerror=()=>{P(`Failed to load character image: ${k.name}`)}};H.useImperativeHandle(l,()=>({addCharacter:k=>{if(m.length>=xi){P(`Không thể thêm nhiều hơn ${xi} nhân vật.`);return}const q=l1(k.imageDataUrl,k.name);ye(q,!0)}}));const le=H.useCallback(k=>{const q={x:k.x+k.width/2,y:k.y+k.height/2},te=k.width/2,K=k.height/2,_e={tl:{x:q.x-te,y:q.y-K},tr:{x:q.x+te,y:q.y-K},bl:{x:q.x-te,y:q.y+K},br:{x:q.x+te,y:q.y+K}},ve={x:q.x,y:q.y-K-y1};return{tl:cn(_e.tl,q,k.rotation),tr:cn(_e.tr,q,k.rotation),bl:cn(_e.bl,q,k.rotation),br:cn(_e.br,q,k.rotation),rotate:cn(ve,q,k.rotation)}},[]),be=H.useCallback(()=>{const k=ne.current,q=k==null?void 0:k.getContext("2d");if(!q||!k)return;q.clearRect(0,0,k.width,k.height),u?(q.save(),q.translate(v.x,v.y),q.scale(v.scale,v.scale),q.drawImage(u.img,0,0,k.width,k.height),q.restore()):(q.fillStyle="#111827",q.fillRect(0,0,k.width,k.height)),m.forEach(K=>{q.save();const _e=K.x+K.width/2,ve=K.y+K.height/2;q.translate(_e,ve),q.rotate(K.rotation*Math.PI/180),q.drawImage(K.img,-K.width/2,-K.height/2,K.width,K.height),q.restore()});const te=m.find(K=>K.id===y);if(te){const K={x:te.x+te.width/2,y:te.y+te.height/2},_e=le(te);q.save(),q.translate(K.x,K.y),q.rotate(te.rotation*Math.PI/180),q.strokeStyle="#4f46e5",q.lineWidth=2,q.strokeRect(-te.width/2,-te.height/2,te.width,te.height),q.restore(),q.fillStyle="#ffffff",q.strokeStyle="#4f46e5",q.lineWidth=1,Object.values(_e).forEach(ve=>{if(ve===_e.rotate){q.beginPath();const Te=cn({x:K.x,y:K.y-te.height/2},K,te.rotation);q.moveTo(Te.x,Te.y),q.lineTo(_e.rotate.x,_e.rotate.y),q.stroke(),q.beginPath(),q.arc(_e.rotate.x,_e.rotate.y,un/2,0,2*Math.PI),q.fill(),q.stroke()}else q.fillRect(ve.x-un/2,ve.y-un/2,un,un),q.strokeRect(ve.x-un/2,ve.y-un/2,un,un)})}},[u,m,y,le,v]);H.useEffect(be,[be]);const Ke=H.useCallback(()=>{const k=fe.current,q=k==null?void 0:k.getContext("2d"),te=m.map(({file:Te,name:Ve})=>({file:Te,name:Ve}));if(!q||!k||!u){n({composedImage:null,characters:te});return}const K=ne.current;if(!K)return;k.width=u.img.naturalWidth,k.height=u.img.naturalHeight;const _e=k.width/K.offsetWidth,ve=k.height/K.offsetHeight;q.clearRect(0,0,k.width,k.height),q.save(),q.translate(v.x*_e,v.y*ve),q.scale(v.scale,v.scale),q.drawImage(u.img,0,0,k.width,k.height),q.restore(),m.forEach(Te=>{q.save();const Ve=Te.x*_e,ke=Te.y*ve,Ne=Te.width*_e,tt=Te.height*ve,bt=Ve+Ne/2,pt=ke+tt/2;q.translate(bt,pt),q.rotate(Te.rotation*Math.PI/180),q.drawImage(Te.img,-Ne/2,-tt/2,Ne,tt),q.restore()}),k.toBlob(Te=>{if(Te){const Ve=new File([Te],"composed-scene.webp",{type:"image/webp"});n({composedImage:Ve,characters:te})}else n({composedImage:null,characters:te})},"image/webp",.95)},[u,m,n,v]),lt=k=>{const q=new Image;q.src=URL.createObjectURL(k),q.onload=()=>{const te=ne.current;if(te){const K=q.naturalWidth/q.naturalHeight;te.style.aspectRatio=`${K}`,te.width=te.offsetWidth,te.height=te.offsetHeight}d({file:k,img:q}),T({x:0,y:0,scale:1}),setTimeout(Ke,100)},q.onerror=()=>{P("Failed to load background image.")}},W=k=>{ye(k,!1)},w=(k,q)=>{h(te=>te.map(K=>K.id===k?{...K,name:q}:K)),setTimeout(Ke,100)},O=k=>{o({file:k.file,name:k.name}),h(q=>q.map(te=>te.id===k.id?{...te,isSavedToLibrary:!0}:te))},re=k=>{h(q=>{const te=q.filter(K=>K.id!==k);return y===k&&p(null),te})},de=k=>{const q=ne.current;if(!q)return{x:0,y:0};const te=q.getBoundingClientRect();return{x:k.clientX-te.left,y:k.clientY-te.top}},_=(k,q)=>{for(let te=m.length-1;te>=0;te--){const K=m[te],_e={x:K.x+K.width/2,y:K.y+K.height/2},ve=le(K);for(const Ve of["tl","tr","bl","br","rotate"]){const ke=ve[Ve];if(Math.hypot(ke.x-k,ke.y-q)<un){if(Ve==="rotate")return{type:"rotate",characterId:K.id,startX:k,startY:q,initialCharacter:K,initialAngleToCenter:Math.atan2(q-_e.y,k-_e.x)*180/Math.PI};const Ne=Ve,tt={tl:"br",tr:"bl",bl:"tr",br:"tl"}[Ne];return{type:"resize",characterId:K.id,startX:k,startY:q,initialCharacter:K,handle:Ne,aspectRatio:K.width/K.height,oppositeCorner:ve[tt]}}}const Te=cn({x:k,y:q},_e,-K.rotation);if(Te.x>=K.x&&Te.x<=K.x+K.width&&Te.y>=K.y&&Te.y<=K.y+K.height)return{type:"move",characterId:K.id,startX:k,startY:q,initialCharacter:K}}return null},Y=k=>{if(e||x)return;const{x:q,y:te}=de(k),K=_(q,te);K?(V(K),K.characterId&&p(K.characterId)):(u&&V({type:"pan_bg",startX:q,startY:te,initialBackgroundTransform:v}),p(null))},j=H.useCallback(k=>{const q=ne.current;if(!q)return;if(!B){const{x:Te,y:Ve}=de(k),ke=_(Te,Ve);ke?ke.type==="move"?q.style.cursor="move":ke.type==="rotate"?q.style.cursor="crosshair":q.style.cursor="nesw-resize":u?q.style.cursor="grab":q.style.cursor="default";return}const{x:te,y:K}=de(k),_e=te-B.startX,ve=K-B.startY;if(B.type==="pan_bg"&&B.initialBackgroundTransform){q.style.cursor="grabbing",T({...B.initialBackgroundTransform,x:B.initialBackgroundTransform.x+_e,y:B.initialBackgroundTransform.y+ve});return}h(Te=>Te.map(Ve=>{if(!B.characterId||Ve.id!==B.characterId)return Ve;const{initialCharacter:ke}=B;if(!ke)return Ve;let Ne={...Ve};switch(B.type){case"move":Ne.x=ke.x+_e,Ne.y=ke.y+ve;break;case"rotate":{const tt={x:ke.x+ke.width/2,y:ke.y+ke.height/2},bt=Math.atan2(K-tt.y,te-tt.x)*180/Math.PI;Ne.rotation=ke.rotation+(bt-(B.initialAngleToCenter||0));break}case"resize":{const tt={x:ke.x+ke.width/2,y:ke.y+ke.height/2},bt=cn({x:te,y:K},tt,-ke.rotation),pt=cn(B.oppositeCorner,tt,-ke.rotation);let ut=Math.abs(bt.x-pt.x),wt=ut/B.aspectRatio;Ne.width=ut,Ne.height=wt,Ne.x=Math.min(bt.x,pt.x),Ne.y=Math.min(bt.y,pt.y);const gt={x:Ne.x+Ne.width/2,y:Ne.y+Ne.height/2},Ni=cn(gt,tt,ke.rotation);Ne.x=Ni.x-Ne.width/2,Ne.y=Ni.y-Ne.height/2;break}}return Ne}))},[B,_,u]),$=H.useCallback(()=>{B&&(ne.current&&(ne.current.style.cursor=u?"grab":"default"),Ke()),V(null)},[B,Ke,u]),ae=H.useCallback(k=>{if(!u||!ne.current)return;k.preventDefault();const{x:q,y:te}=de(k),K=.0015,_e=.1,ve=10;T(Te=>{const Ve=Math.max(_e,Math.min(ve,Te.scale-k.deltaY*K*Te.scale)),ke=(q-Te.x)/Te.scale,Ne=(te-Te.y)/Te.scale,tt=q-ke*Ve,bt=te-Ne*Ve,pt={x:tt,y:bt,scale:Ve};return setTimeout(()=>Ke(),0),pt})},[u,Ke]);H.useEffect(()=>{const k=ne.current;return k&&k.addEventListener("wheel",ae,{passive:!1}),window.addEventListener("mousemove",j),window.addEventListener("mouseup",$),()=>{k&&k.removeEventListener("wheel",ae),window.removeEventListener("mousemove",j),window.removeEventListener("mouseup",$)}},[j,$,ae]);const Ce=k=>{var te;if(k.preventDefault(),k.stopPropagation(),Q(!1),e)return;const q=(te=k.dataTransfer.files)==null?void 0:te[0];q&&q.type.startsWith("image/")&&lt(q)},ge=k=>{k.preventDefault(),k.stopPropagation()},rt=k=>{k.preventDefault(),k.stopPropagation(),e||Q(!0)},we=k=>{k.preventDefault(),k.stopPropagation(),Q(!1)},At=k=>{if(k.preventDefault(),k.stopPropagation(),X(!1),e||m.length>=xi)return;const q=Array.from(k.dataTransfer.files);let te=xi-m.length;for(const K of q){if(te<=0)break;(K.type.startsWith("image/png")||K.type.startsWith("image/webp"))&&(W(K),te--)}},fn=k=>{k.preventDefault(),k.stopPropagation()},dn=k=>{k.preventDefault(),k.stopPropagation(),e||X(!0)},mn=k=>{k.preventDefault(),k.stopPropagation(),X(!1)},nn=async()=>{const k=m.map(q=>q.file);if(!u||k.length===0||!ne.current){P("Please upload a background and at least one character.");return}M(!0),P(null);try{const q=await m1(u.file,k),te=ne.current;h(K=>K.map((_e,ve)=>{const Te=q[ve];return Te?{..._e,x:Te.x*te.offsetWidth,y:Te.y*te.offsetHeight,width:Te.width*te.offsetWidth,height:Te.height*te.offsetHeight,rotation:0}:_e})),setTimeout(Ke,100)}catch(q){P(q instanceof Error?q.message:"AI placement failed.")}finally{M(!1)}};return S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[S.jsxs("div",{className:"w-full sm:w-1/2",children:[S.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Background (Nền)"}),S.jsx("input",{type:"file",ref:se,onChange:k=>{var q;return((q=k.target.files)==null?void 0:q[0])&&lt(k.target.files[0])},accept:"image/*",className:"hidden",disabled:e}),S.jsx("div",{onClick:()=>{var k;return!e&&((k=se.current)==null?void 0:k.click())},onDrop:Ce,onDragOver:ge,onDragEnter:rt,onDragLeave:we,className:`aspect-video w-full border-2 border-dashed rounded-lg flex items-center justify-center p-2 transition-all duration-300 ${e?"cursor-not-allowed bg-gray-900/50":"cursor-pointer"} ${J?"border-indigo-500 bg-gray-800/80 ring-2 ring-indigo-500":"border-gray-600 hover:border-indigo-500 bg-gray-900/50"}`,children:u?S.jsx("img",{src:u.img.src,className:"object-contain h-full w-full"}):S.jsx("span",{className:"text-xs text-gray-400 text-center",children:"Click hoặc kéo để tải lên"})})]}),S.jsxs("div",{className:"w-full sm:w-1/2",children:[S.jsxs("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:["Characters (Nhân vật) (",m.length,"/",xi,")"]}),S.jsx("input",{type:"file",ref:Se,onChange:k=>{var q;return((q=k.target.files)==null?void 0:q[0])&&W(k.target.files[0])},accept:"image/png, image/webp",className:"hidden",disabled:e}),S.jsxs("div",{onDrop:At,onDragOver:fn,onDragEnter:dn,onDragLeave:mn,className:`space-y-1 max-h-[150px] overflow-y-auto pr-2 bg-gray-900/50 p-2 rounded-lg border border-gray-700 transition-all ${ee?"border-indigo-500 ring-2 ring-indigo-500":""}`,children:[m.map(k=>S.jsxs("div",{className:`flex items-center gap-2 p-1 rounded transition-colors ${y===k.id?"bg-indigo-900/50":"hover:bg-gray-800/70"}`,children:[S.jsx("img",{src:k.img.src,className:"w-8 h-8 object-cover rounded flex-shrink-0"}),S.jsx("input",{type:"text",value:k.name,onChange:q=>w(k.id,q.target.value),placeholder:"Tên nhân vật",className:"text-xs truncate flex-1 bg-transparent border-b border-gray-600 focus:border-indigo-500 focus:outline-none p-1",onClick:q=>q.stopPropagation(),disabled:e}),!k.isSavedToLibrary&&S.jsx("button",{onClick:()=>O(k),disabled:e,className:"text-gray-400 hover:text-indigo-400 disabled:opacity-50 flex-shrink-0",title:"Lưu vào thư viện",children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:S.jsx("path",{d:"M5 4a2 2 0 012-2h6a2 2 0 012 2v12l-5-3-5 3V4z"})})}),S.jsx("button",{onClick:()=>re(k.id),disabled:e,className:"text-gray-400 hover:text-red-500 text-xl leading-none px-1 disabled:opacity-50 flex-shrink-0",children:"×"})]},k.id)),m.length<xi&&S.jsx("button",{onClick:()=>{var k;return!e&&((k=Se.current)==null?void 0:k.click())},disabled:e,className:"w-full text-xs border border-dashed border-gray-600 rounded p-2 hover:border-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"Thêm nhân vật hoặc kéo vào đây"})]}),m.length>0&&S.jsxs("p",{className:"text-xs text-gray-400 mt-2 text-center px-2",children:['Gợi ý: Dùng tên nhân vật trong prompt của bạn (ví dụ: "',m[0].name,' đang chạy") để AI giữ đúng ngoại hình.']})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Xem trước & Chỉnh sửa cảnh"}),S.jsx("div",{className:"relative w-full border-2 border-gray-700 rounded-lg bg-gray-900/70 overflow-hidden",children:S.jsx("canvas",{ref:ne,className:"w-full block",onMouseDown:Y})})]}),S.jsx("button",{onClick:nn,disabled:!u||m.length===0||e||x,className:"w-full flex justify-center items-center bg-teal-600 text-white font-bold py-2.5 px-4 rounded-lg hover:bg-teal-700 disabled:bg-teal-900/50 disabled:cursor-not-allowed disabled:text-gray-400 transition-all",children:x?"Đang sắp xếp bằng AI...":"Tự động sắp xếp bằng AI"}),U&&S.jsx("p",{className:"text-xs text-center text-red-400 bg-red-900/30 p-2 rounded-md",children:U}),S.jsx("canvas",{ref:fe,className:"hidden"})]})}),lg=({selectedRatio:n,onRatioChange:e,disabled:o,ratios:l})=>{const u=d=>{switch(d){case"16:9":return S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:S.jsx("rect",{x:"3",y:"7",width:"18",height:"10",rx:"2"})});case"9:16":return S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:S.jsx("rect",{x:"7",y:"3",width:"10",height:"18",rx:"2"})});case"1:1":return S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:S.jsx("rect",{x:"5",y:"5",width:"14",height:"14",rx:"2"})});case"4:3":return S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:S.jsx("rect",{x:"4",y:"6",width:"16",height:"12",rx:"2"})});case"3:4":return S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:S.jsx("rect",{x:"6",y:"4",width:"12",height:"16",rx:"2"})});case"21:9":return S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:2,children:S.jsx("rect",{x:"2",y:"8",width:"20",height:"8.5",rx:"2"})});default:return null}};return S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Aspect Ratio (Khung hình)"}),S.jsx("div",{className:`grid grid-cols-${l.length>3?"3":"2"} sm:grid-cols-${l.length} gap-1 rounded-lg bg-gray-900/70 border border-gray-600 p-1`,children:l.map(d=>S.jsxs("button",{onClick:()=>e(d.id),disabled:o,className:`rounded-md py-2 text-xs sm:text-sm font-medium transition-all duration-200 ease-in-out transform hover:scale-110 hover:brightness-110 flex items-center justify-center gap-2 ${n===d.id?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-700"} disabled:transform-none`,children:[u(d.id),d.name]},d.id))})]})},v1=({selectedValue:n,onQualityChange:e,disabled:o})=>{var m;const l=Ml.findIndex(h=>h.value===n),u=((m=Ml[l])==null?void 0:m.label)||`${n}p`,d=h=>{const y=parseInt(h.target.value,10),p=Ml[y].value;e(p)};return S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between items-center mb-2",children:[S.jsx("label",{htmlFor:"quality-slider",className:"block text-sm font-medium text-gray-300",children:"Video Quality (Chất lượng Video)"}),S.jsx("span",{className:"text-sm font-semibold text-indigo-400 bg-indigo-900/50 px-2 py-0.5 rounded-md",children:u})]}),S.jsx("input",{id:"quality-slider",type:"range",min:"0",max:Ml.length-1,step:"1",value:l>-1?l:0,onChange:d,disabled:o,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer disabled:cursor-not-allowed accent-indigo-500"})]})},T1=({onImagesChange:n,disabled:e})=>{const[o,l]=H.useState(null),[u,d]=H.useState(null),m=H.useRef(null),[h,y]=H.useState(!1);H.useEffect(()=>()=>{u&&URL.revokeObjectURL(u)},[u]);const p=H.useCallback(V=>{u&&URL.revokeObjectURL(u),V&&V.type.startsWith("image/")?(l(V),d(URL.createObjectURL(V)),n([V])):(l(null),d(null),n([]))},[u,n]),v=V=>{var J;p(((J=V.target.files)==null?void 0:J[0])||null),V.target&&(V.target.value="")},T=H.useCallback(()=>{p(null)},[p]),x=()=>{var V;e||(V=m.current)==null||V.click()},M=H.useCallback(V=>{var J;V.preventDefault(),V.stopPropagation(),y(!1),!e&&p(((J=V.dataTransfer.files)==null?void 0:J[0])||null)},[e,p]),U=H.useCallback(V=>{V.preventDefault(),V.stopPropagation()},[]),P=H.useCallback(V=>{V.preventDefault(),V.stopPropagation(),e||y(!0)},[e]),B=H.useCallback(V=>{V.preventDefault(),V.stopPropagation(),y(!1)},[]);return S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Source Image"}),S.jsx("input",{type:"file",ref:m,onChange:v,accept:"image/*",className:"hidden",disabled:e}),S.jsx("div",{onClick:x,onDrop:M,onDragOver:U,onDragEnter:P,onDragLeave:B,className:`relative aspect-video w-full border-2 border-dashed rounded-lg flex items-center justify-center text-center p-4 transition-all duration-300
        ${e?"bg-gray-800/50 border-gray-700 cursor-not-allowed":h?"border-indigo-500 bg-gray-800/80 ring-2 ring-indigo-500":"border-gray-600 hover:border-indigo-500 hover:bg-gray-800/60 cursor-pointer"}`,role:"button","aria-disabled":e,tabIndex:e?-1:0,onKeyDown:V=>{V.key==="Enter"&&!e&&x()},"aria-label":"Upload single source image",children:u?S.jsxs(S.Fragment,{children:[S.jsx("img",{src:u,alt:"Preview",className:"object-contain h-full w-full rounded-md"}),S.jsx("button",{onClick:V=>{V.stopPropagation(),T()},disabled:e,className:"absolute top-1 right-1 bg-gray-900/70 text-white rounded-full p-1 hover:bg-red-600/80 transition-all duration-200 disabled:opacity-50","aria-label":"Remove image",children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:S.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}):S.jsxs("div",{className:"flex flex-col items-center text-gray-400 pointer-events-none",children:[S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mb-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),S.jsx("span",{className:"font-semibold",children:"Click to upload an image"}),S.jsx("span",{className:"text-xs",children:"or drag and drop"})]})})]})},C1=({images:n,isLoading:e,loadingMessage:o,error:l,onEdit:u})=>{const d=()=>{if(e)return S.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[S.jsxs("svg",{className:"animate-spin h-10 w-10 text-indigo-400 mb-4",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[S.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),S.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),S.jsx("p",{className:"text-lg font-semibold text-gray-300",children:"Generating Your Images"}),S.jsx("p",{className:"text-gray-400 mt-2 animate-pulse",children:o})]});if(l)return S.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center bg-red-900/20 border border-red-500/50 rounded-lg p-4",children:[S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-red-400 mb-3",viewBox:"0 0 20 20",fill:"currentColor",children:S.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),S.jsx("p",{className:"text-lg font-semibold text-red-300",children:"An Error Occurred"}),S.jsx("p",{className:"text-red-400 mt-1 max-w-full break-words px-2",children:l})]});if(n.length>0){const m=n.length>1?"grid-cols-2":"grid-cols-1";return S.jsx("div",{className:"w-full h-full overflow-y-auto p-2",children:S.jsx("div",{className:`grid ${m} gap-2`,children:n.map((h,y)=>S.jsxs("div",{className:"relative group w-full aspect-square",children:[S.jsx("img",{src:`data:image/jpeg;base64,${h}`,alt:`Generated image ${y+1}`,className:"w-full h-full object-cover rounded-lg bg-black"}),S.jsxs("div",{className:"absolute bottom-2 right-2 flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-opacity duration-300",children:[S.jsx("button",{onClick:()=>u(h,y),className:"bg-gray-900/70 text-white rounded-full p-2 hover:bg-sky-600 transition-all duration-200","aria-label":"Edit image",children:S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[S.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),S.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]})}),S.jsx("a",{href:`data:image/jpeg;base64,${h}`,download:`ai-image-${Date.now()}-${y}.jpeg`,className:"bg-gray-900/70 text-white rounded-full p-2 hover:bg-green-600 transition-all duration-200","aria-label":"Download image",children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:S.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})})})]})]},y))})})}return S.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-500 p-4",children:[S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",strokeWidth:"1",children:S.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"})}),S.jsx("p",{className:"text-lg font-semibold",children:"Your generated images will appear here"}),S.jsx("p",{className:"text-sm",children:'Fill out the prompt and click "Generate"'})]})};return S.jsx("div",{className:"w-full aspect-video bg-gray-900/70 rounded-lg border border-gray-700 flex items-center justify-center overflow-hidden",children:d()})},S1=({onReferenceImageChange:n,disabled:e})=>{const[o,l]=H.useState(null),[u,d]=H.useState(null),m=H.useRef(null),[h,y]=H.useState(!1);H.useEffect(()=>()=>{u&&URL.revokeObjectURL(u)},[u]);const p=H.useCallback(V=>{u&&URL.revokeObjectURL(u),V&&V.type.startsWith("image/")?(l(V),d(URL.createObjectURL(V)),n(V)):(l(null),d(null),n(null))},[u,n]),v=V=>{var J;p(((J=V.target.files)==null?void 0:J[0])||null),V.target&&(V.target.value="")},T=H.useCallback(()=>{p(null)},[p]),x=()=>{var V;e||(V=m.current)==null||V.click()},M=H.useCallback(V=>{var J;V.preventDefault(),V.stopPropagation(),y(!1),!e&&p(((J=V.dataTransfer.files)==null?void 0:J[0])||null)},[e,p]),U=H.useCallback(V=>{V.preventDefault(),V.stopPropagation()},[]),P=H.useCallback(V=>{V.preventDefault(),V.stopPropagation(),e||y(!0)},[e]),B=H.useCallback(V=>{V.preventDefault(),V.stopPropagation(),y(!1)},[]);return S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Reference Image (Optional)"}),S.jsx("input",{type:"file",ref:m,onChange:v,accept:"image/*",className:"hidden",disabled:e}),S.jsx("div",{onClick:x,onDrop:M,onDragOver:U,onDragEnter:P,onDragLeave:B,className:`relative aspect-video w-full border-2 border-dashed rounded-lg flex items-center justify-center text-center p-2 transition-all duration-300 ${e?"bg-gray-800/50 border-gray-700 cursor-not-allowed":h?"border-indigo-500 bg-gray-800/80 ring-2 ring-indigo-500":"border-gray-600 hover:border-indigo-500 hover:bg-gray-800/60 cursor-pointer"}`,role:"button",tabIndex:e?-1:0,"aria-label":"Upload reference image",children:u?S.jsxs(S.Fragment,{children:[S.jsx("img",{src:u,alt:"Reference Preview",className:"object-contain h-full w-full rounded-md"}),S.jsx("button",{onClick:V=>{V.stopPropagation(),T()},disabled:e,className:"absolute top-1 right-1 bg-gray-900/70 text-white rounded-full p-1 hover:bg-red-600/80 transition-all duration-200 disabled:opacity-50","aria-label":"Remove reference image",children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:S.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}):S.jsxs("div",{className:"flex flex-col items-center text-gray-400 pointer-events-none text-center px-2",children:[S.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mb-1",viewBox:"0 0 20 20",fill:"currentColor",children:[S.jsx("path",{d:"M17.414 2.586a2 2 0 00-2.828 0L7 10.172V13h2.828l7.586-7.586a2 2 0 000-2.828z"}),S.jsx("path",{fillRule:"evenodd",d:"M2 6a2 2 0 012-2h4a1 1 0 010 2H4v10h10v-4a1 1 0 112 0v4a2 2 0 01-2 2H4a2 2 0 01-2-2V6z",clipRule:"evenodd"})]}),S.jsx("span",{className:"text-xs font-semibold",children:"Drag & drop for consistent style"})]})})]})},x1=({selectedNumber:n,onNumberChange:e,disabled:o})=>{const l=[1,2,3,4];return S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Number of Images"}),S.jsx("div",{className:"grid grid-cols-4 gap-1 rounded-lg bg-gray-900/70 border border-gray-600 p-1",children:l.map(u=>S.jsx("button",{onClick:()=>e(u),disabled:o,className:`rounded-md py-2 text-sm font-medium transition-all duration-200 ease-in-out transform hover:scale-110 hover:brightness-110 ${n===u?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-700"} disabled:transform-none`,children:u},u))})]})},E1=({content:n,onClose:e,onGenerateEdits:o,onConfirmEdit:l,isLoading:u,error:d,clearError:m,editedImageResults:h})=>{const[y,p]=H.useState(""),[v,T]=H.useState(1),[x,M]=H.useState(null),[U,P]=H.useState(40),[B,V]=H.useState("draw"),J=H.useRef(null),Q=H.useRef(null),ee=H.useRef(!1),X=H.useRef(null);H.useEffect(()=>{m(),M(null)},[m,h]),H.useEffect(()=>{const W=J.current,w=Q.current,O=W==null?void 0:W.getContext("2d"),re=w==null?void 0:w.getContext("2d");if(!W||!w||!O||!re||h)return;const de=new Image;de.crossOrigin="anonymous",de.src=n.dataUrl,de.onload=()=>{const _=W.parentElement;if(!_)return;const Y=_.clientWidth/_.clientHeight,j=de.naturalWidth/de.naturalHeight;let $,ae;j>Y?($=_.clientWidth,ae=$/j):(ae=_.clientHeight,$=ae*j),[W,w].forEach(Ce=>{Ce.width=de.naturalWidth,Ce.height=de.naturalHeight,Ce.style.width=`${$}px`,Ce.style.height=`${ae}px`}),O.drawImage(de,0,0,de.naturalWidth,de.naturalHeight),re.clearRect(0,0,de.naturalWidth,de.naturalHeight)}},[n.dataUrl,h]);const ne=W=>{const w=Q.current;if(!w)return null;const O=w.getBoundingClientRect();return{x:(W.clientX-O.left)*(w.width/O.width),y:(W.clientY-O.top)*(w.height/O.height)}},fe=W=>{ee.current=!0,X.current=ne(W)},Se=()=>{ee.current=!1,X.current=null},se=W=>{var re;if(!ee.current)return;const w=ne(W),O=(re=Q.current)==null?void 0:re.getContext("2d");w&&X.current&&O&&(O.strokeStyle="rgba(255, 255, 255, 1)",O.fillStyle="rgba(255, 255, 255, 1)",O.lineWidth=U,O.lineCap="round",O.lineJoin="round",B==="erase"?O.globalCompositeOperation="destination-out":O.globalCompositeOperation="source-over",O.beginPath(),O.moveTo(X.current.x,X.current.y),O.lineTo(w.x,w.y),O.stroke(),X.current=w)},ye=()=>{const W=Q.current,w=W==null?void 0:W.getContext("2d");W&&w&&w.clearRect(0,0,W.width,W.height)},le=()=>{if(!y.trim()||u)return;const W=Q.current;let w=null;if(W){const O=W.getContext("2d");O&&new Uint32Array(O.getImageData(0,0,W.width,W.height).data.buffer).some(de=>(de&4278190080)!==0)&&(w=W.toDataURL("image/png"))}o(y,v,w)},be=()=>{x&&l(x)},Ke=()=>S.jsxs("div",{className:"flex flex-col md:flex-row gap-6 h-full",children:[S.jsx("div",{className:"md:w-2/3 flex flex-col items-center justify-center relative h-64 md:h-auto",children:S.jsxs("div",{className:"relative w-full h-full flex items-center justify-center",children:[S.jsx("canvas",{ref:J,className:"absolute top-0 left-0"}),S.jsx("canvas",{ref:Q,className:"absolute top-0 left-0 opacity-50 cursor-crosshair",onMouseDown:fe,onMouseMove:se,onMouseUp:Se,onMouseLeave:Se})]})}),S.jsxs("div",{className:"md:w-1/3 space-y-4 flex flex-col",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"edit-prompt",className:"block text-sm font-medium text-gray-300 mb-2",children:"Mô tả chỉnh sửa của bạn"}),S.jsx("textarea",{id:"edit-prompt",rows:3,className:"w-full bg-gray-900/70 border border-gray-600 rounded-lg p-3 text-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200 resize-none placeholder-gray-500",placeholder:"e.g., thêm mũ cao bồi, đổi nền thành hoàng hôn...",value:y,onChange:W=>p(W.target.value),disabled:u})]}),S.jsxs("div",{className:"space-y-2",children:[S.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Công cụ chọn vùng (Masking)"}),S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("button",{onClick:()=>V("draw"),className:`px-3 py-1 text-xs rounded-md ${B==="draw"?"bg-indigo-600":"bg-gray-700 hover:bg-gray-600"}`,children:"Vẽ"}),S.jsx("button",{onClick:()=>V("erase"),className:`px-3 py-1 text-xs rounded-md ${B==="erase"?"bg-indigo-600":"bg-gray-700 hover:bg-gray-600"}`,children:"Tẩy"}),S.jsx("button",{onClick:ye,className:"px-3 py-1 text-xs rounded-md bg-red-800 hover:bg-red-700",children:"Xóa"})]}),S.jsxs("div",{children:[S.jsxs("label",{htmlFor:"brush-size",className:"text-xs text-gray-400",children:["Kích thước bút vẽ: ",U,"px"]}),S.jsx("input",{id:"brush-size",type:"range",min:"5",max:"150",value:U,onChange:W=>P(parseInt(W.target.value,10)),className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500"})]})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Số lượng kết quả (Tối đa 5)"}),S.jsx("div",{className:"grid grid-cols-5 gap-1 rounded-lg bg-gray-900/70 border border-gray-600 p-1",children:[1,2,3,4,5].map(W=>S.jsx("button",{onClick:()=>T(W),disabled:u,className:`rounded-md py-2 text-sm font-medium transition-colors duration-200 ${v===W?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:W},W))})]})]})]}),lt=()=>S.jsxs("div",{children:[S.jsx("p",{className:"text-sm text-gray-300 mb-2 text-center",children:"Chọn kết quả tốt nhất"}),S.jsx("div",{className:`grid grid-cols-2 ${h.length>2?"sm:grid-cols-3":""} gap-2`,children:h.map((W,w)=>S.jsxs("button",{onClick:()=>M(W),className:`relative rounded-lg overflow-hidden transition-all duration-200 ${x===W?"ring-4 ring-indigo-500":"ring-2 ring-transparent hover:ring-indigo-600"}`,children:[S.jsx("img",{src:`data:image/jpeg;base64,${W}`,alt:`Edit result ${w+1}`,className:"w-full h-full object-cover"}),x===W&&S.jsx("div",{className:"absolute inset-0 bg-indigo-700/50 flex items-center justify-center",children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 text-white",viewBox:"0 0 20 20",fill:"currentColor",children:S.jsx("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})})]},w))})]});return S.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center z-50 p-4",onClick:e,role:"dialog","aria-modal":"true","aria-labelledby":"edit-modal-title",children:S.jsxs("div",{className:"bg-gray-800 border border-gray-700 rounded-2xl shadow-xl w-full max-w-4xl h-[90vh] flex flex-col overflow-hidden",onClick:W=>W.stopPropagation(),children:[S.jsxs("header",{className:"p-4 border-b border-gray-700 flex justify-between items-center flex-shrink-0",children:[S.jsx("h2",{id:"edit-modal-title",className:"text-lg font-semibold text-gray-200",children:"Chỉnh sửa nâng cao"}),S.jsx("button",{onClick:e,disabled:u,className:"text-gray-400 hover:text-white transition-colors text-2xl leading-none",children:"×"})]}),S.jsxs("div",{className:"p-6 flex-grow overflow-y-auto",children:[u&&S.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-center p-4",children:[S.jsxs("svg",{className:"animate-spin h-8 w-8 text-indigo-400 mb-3",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[S.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),S.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),S.jsx("p",{className:"text-gray-300",children:"Đang áp dụng chỉnh sửa..."})]}),!u&&(h?lt():Ke()),d&&S.jsx("div",{className:"text-sm text-center text-red-400 bg-red-900/30 p-2 rounded-md mt-2",children:S.jsxs("p",{children:[S.jsx("strong",{children:"Lỗi:"})," ",d]})})]}),S.jsxs("footer",{className:"p-4 border-t border-gray-700 flex justify-end items-center gap-4 flex-shrink-0 bg-gray-800",children:[S.jsx("button",{onClick:e,disabled:u,className:"px-4 py-2 text-sm font-medium text-gray-300 bg-gray-700 rounded-lg hover:bg-gray-600 transition-colors disabled:opacity-50",children:"Hủy"}),h?S.jsx("button",{onClick:be,disabled:!x||u,className:"px-6 py-2 text-sm font-medium text-white bg-green-600 rounded-lg hover:bg-green-700 transition-colors disabled:bg-green-900/50 disabled:cursor-not-allowed flex items-center",children:"Xác nhận"}):S.jsx("button",{onClick:le,disabled:u||!y.trim(),className:"px-6 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors disabled:bg-indigo-900/50 disabled:cursor-not-allowed flex items-center",children:u?"Đang tạo...":"Tạo chỉnh sửa"})]})]})})},A1=({history:n,onLoad:e,onDelete:o,onEdit:l})=>{const u=d=>{const m=new Date(d),h=Math.floor((new Date().getTime()-m.getTime())/1e3);let y=h/31536e3;return y>1?Math.floor(y)+" năm trước":(y=h/2592e3,y>1?Math.floor(y)+" tháng trước":(y=h/86400,y>1?Math.floor(y)+" ngày trước":(y=h/3600,y>1?Math.floor(y)+" giờ trước":(y=h/60,y>1?Math.floor(y)+" phút trước":"vừa xong"))))};return S.jsxs("div",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl shadow-2xl p-6 border border-gray-700 h-full flex flex-col",children:[S.jsx("h2",{className:"text-xl font-bold text-gray-200 mb-4",children:"Lịch sử"}),n.length===0?S.jsx("div",{className:"flex-grow flex items-center justify-center text-center text-gray-500",children:S.jsx("p",{children:"Các video và hình ảnh bạn tạo sẽ xuất hiện ở đây."})}):S.jsx("div",{className:"space-y-4 overflow-y-auto flex-grow -mr-2 pr-2",children:n.map(d=>S.jsxs("div",{className:"bg-gray-900/70 p-3 rounded-lg border border-gray-700/50 group",children:[S.jsxs("div",{className:"flex gap-4",children:[S.jsx("div",{className:"w-24 h-16 flex-shrink-0 bg-black rounded-md overflow-hidden",children:d.type==="video"?S.jsx("video",{src:d.url,muted:!0,className:"w-full h-full object-cover",preload:"metadata"}):S.jsx("img",{src:d.url,alt:"Image thumbnail",className:"w-full h-full object-cover"})}),S.jsxs("div",{className:"flex-grow min-w-0",children:[S.jsx("p",{className:"text-xs text-gray-400 truncate group-hover:whitespace-normal",title:d.prompt,children:d.prompt}),S.jsx("p",{className:"text-xs text-gray-500 mt-1",children:u(d.timestamp)})]})]}),S.jsxs("div",{className:"mt-3 flex items-center justify-end gap-2",children:[S.jsx("button",{onClick:()=>e(d),className:"px-2 py-1 text-xs font-medium text-gray-200 bg-gray-700 rounded-md hover:bg-gray-600 transition-colors",children:"Tải lại"}),d.type==="video"&&S.jsx("button",{onClick:()=>l(d),className:"px-2 py-1 text-xs font-medium text-white bg-sky-600 rounded-md hover:bg-sky-700 transition-colors",children:"Chỉnh sửa"}),S.jsx("button",{onClick:()=>o(d.id),className:"px-2 py-1 text-xs font-medium text-white bg-red-700 rounded-md hover:bg-red-800 transition-colors",children:"Xóa"})]})]},d.id))})]})},_1=({onCameraChange:n,disabled:e})=>{const[o,l]=H.useState(eg[0].prompt),[u,d]=H.useState(tg[0].prompt),[m,h]=H.useState(ng[0].prompt),[y,p]=H.useState(ig[0].prompt);H.useEffect(()=>{const x=[o,u,m,y].filter(Boolean).join(", ");n(x)},[o,u,m,y,n]);const v="w-full bg-gray-900/70 border border-gray-600 rounded-lg p-2 text-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200 disabled:opacity-50 text-sm";return S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Camera Controls (Điều Khiển Camera)"}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"shot-type",className:"text-xs text-gray-400",children:"Shot Type (Loại Cảnh Quay)"}),S.jsx("select",{id:"shot-type",value:o,onChange:T=>l(T.target.value),disabled:e,className:v,children:eg.map(T=>S.jsx("option",{value:T.prompt,children:T.name},T.name))})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"camera-angle",className:"text-xs text-gray-400",children:"Angle (Góc Quay)"}),S.jsx("select",{id:"camera-angle",value:u,onChange:T=>d(T.target.value),disabled:e,className:v,children:tg.map(T=>S.jsx("option",{value:T.prompt,children:T.name},T.name))})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"camera-motion",className:"text-xs text-gray-400",children:"Motion (Chuyển Động)"}),S.jsx("select",{id:"camera-motion",value:m,onChange:T=>h(T.target.value),disabled:e,className:v,children:ng.map(T=>S.jsx("option",{value:T.prompt,children:T.name},T.name))})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"camera-lens",className:"text-xs text-gray-400",children:"Lens (Ống Kính)"}),S.jsx("select",{id:"camera-lens",value:y,onChange:T=>p(T.target.value),disabled:e,className:v,children:ig.map(T=>S.jsx("option",{value:T.prompt,children:T.name},T.name))})]})]})]})},M1=({duration:n,onDurationChange:e,frameRate:o,onFrameRateChange:l,motionBlur:u,onMotionBlurChange:d,disabled:m})=>S.jsxs("details",{className:"group border border-gray-700/50 rounded-lg p-3 transition-all duration-300 open:bg-gray-900/40 open:border-gray-600",children:[S.jsx("summary",{className:"text-sm font-medium text-gray-300 cursor-pointer list-inside group-open:mb-4",children:"Advanced Settings (Cài đặt nâng cao)"}),S.jsxs("div",{className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"duration-input",className:"block text-xs font-medium text-gray-400 mb-1",children:"Duration / Thời lượng (giây)"}),S.jsx("input",{id:"duration-input",type:"number",min:"1",max:"10",step:"1",value:n,onChange:h=>e(Math.max(1,Math.min(10,parseInt(h.target.value,10)||1))),disabled:m,className:"w-full bg-gray-900/70 border border-gray-600 rounded-lg p-2 text-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200 disabled:opacity-50 text-sm"})]}),S.jsxs("div",{children:[S.jsxs("div",{className:"flex justify-between items-center mb-1",children:[S.jsx("label",{htmlFor:"fps-slider",className:"block text-xs font-medium text-gray-400",children:"Frame Rate / Tốc độ khung hình (FPS)"}),S.jsxs("span",{className:"text-xs font-semibold text-indigo-400 bg-indigo-900/50 px-2 py-0.5 rounded-md",children:[o," fps"]})]}),S.jsx("input",{id:"fps-slider",type:"range",min:"10",max:"60",step:"1",value:o,onChange:h=>l(parseInt(h.target.value,10)),disabled:m,className:"w-full h-2 bg-gray-700 rounded-lg appearance-none cursor-pointer disabled:cursor-not-allowed accent-indigo-500"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-xs font-medium text-gray-400 mb-1",children:"Motion Blur / Cường độ mờ chuyển động"}),S.jsx("div",{className:"grid grid-cols-4 gap-1 rounded-lg bg-gray-900/70 border border-gray-600 p-1",children:zg.map(h=>S.jsx("button",{onClick:()=>d(h.id),disabled:m,className:`rounded-md py-1 text-xs font-medium transition-all duration-200 ease-in-out transform hover:scale-110 hover:brightness-110 ${u===h.id?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-700"} disabled:transform-none`,children:h.name},h.id))})]})]})]}),ag=({library:n,onAdd:e,onDelete:o,disabled:l})=>S.jsxs("details",{className:"group border border-gray-700/50 rounded-lg p-3 transition-all duration-300 open:bg-gray-900/40 open:border-gray-600",children:[S.jsxs("summary",{className:"text-sm font-medium text-gray-300 cursor-pointer list-inside group-open:mb-4",children:["Thư viện nhân vật (",n.length,")"]}),n.length===0?S.jsx("p",{className:"text-xs text-center text-gray-500 py-4",children:"Lưu nhân vật từ Trình Dựng Cảnh để tái sử dụng sau."}):S.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-2 max-h-48 overflow-y-auto pr-2",children:n.map(u=>S.jsxs("div",{className:"relative group/char border border-gray-700 rounded-md p-1 bg-gray-900/50",children:[S.jsx("img",{src:u.imageDataUrl,alt:u.name,className:"w-full aspect-square object-cover rounded-sm"}),S.jsx("p",{className:"text-xs text-center truncate mt-1 text-gray-300",title:u.name,children:u.name}),S.jsxs("div",{className:"absolute inset-0 bg-black/70 flex flex-col items-center justify-center gap-2 opacity-0 group-hover/char:opacity-100 transition-opacity",children:[S.jsx("button",{onClick:()=>e(u),disabled:l,className:"text-xs bg-indigo-600 text-white px-2 py-1 rounded hover:bg-indigo-700 disabled:bg-gray-500","aria-label":`Thêm ${u.name} vào cảnh`,children:"Thêm vào cảnh"}),S.jsx("button",{onClick:()=>o(u.id),disabled:l,className:"text-xs bg-red-700 text-white px-2 py-1 rounded hover:bg-red-800 disabled:bg-gray-500","aria-label":`Xóa ${u.name}`,children:"Xóa"})]})]},u.id))})]}),R1=({onEffectsChange:n,disabled:e})=>{const[o,l]=H.useState([]),[u,d]=H.useState(null),m=H.useRef(null);H.useEffect(()=>{const y=o.map(p=>{var v;return(v=vu.find(T=>T.id===p))==null?void 0:v.prompt}).filter(Boolean).join(", ");n(y)},[o,n]),H.useEffect(()=>()=>{m.current&&clearTimeout(m.current)},[]);const h=y=>{if(e)return;m.current&&clearTimeout(m.current);const p=vu.find(v=>v.id===y);p&&p.description&&!o.includes(y)?(d(y),m.current=window.setTimeout(()=>{d(null)},3e3)):d(null),l(v=>v.includes(y)?v.filter(T=>T!==y):[...v,y])};return S.jsxs("details",{className:"group border border-gray-700/50 rounded-lg p-3 transition-all duration-300 open:bg-gray-900/40 open:border-gray-600",children:[S.jsx("summary",{className:"text-sm font-medium text-gray-300 cursor-pointer list-inside group-open:mb-4",children:"Hiệu ứng hậu kỳ (Post-Processing Effects)"}),S.jsx("div",{className:"flex flex-wrap gap-2",children:vu.map(y=>S.jsxs("div",{className:"relative",children:[S.jsx("button",{onClick:()=>h(y.id),disabled:e,className:`px-3 py-1.5 text-sm font-medium rounded-full transition-all duration-200 ease-in-out transform hover:scale-110 hover:brightness-110
                            ${o.includes(y.id)?"bg-teal-600 text-white ring-2 ring-offset-2 ring-offset-gray-800 ring-teal-500":"bg-gray-700/60 text-gray-300 hover:bg-gray-700"}
                            disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none`,children:y.name}),u===y.id&&y.description&&S.jsxs("div",{className:"absolute bottom-full left-1/2 mb-2 w-max max-w-xs bg-gray-900 text-white text-xs rounded-lg py-1.5 px-3 z-10 shadow-lg animate-fade-in-up",role:"tooltip",children:[y.description,S.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 border-4 border-transparent border-t-gray-900"})]})]},y.id))})]})},N1=({panels:n,onPanelsChange:e,disabled:o})=>{H.useEffect(()=>()=>{n.forEach(h=>{h.previewUrl&&URL.revokeObjectURL(h.previewUrl)})},[n]);const l=()=>{if(o||n.length>=10)return;const h={id:Date.now(),imageFile:null,prompt:""};e([...n,h])},u=h=>{if(o)return;const y=n.find(v=>v.id===h);y!=null&&y.previewUrl&&URL.revokeObjectURL(y.previewUrl);const p=n.filter(v=>v.id!==h);e(p)},d=(h,y)=>{const p=n.map(v=>v.id===h?{...v,...y}:v);e(p)},m=(h,y)=>{const p=n.find(v=>v.id===h);p!=null&&p.previewUrl&&URL.revokeObjectURL(p.previewUrl),y?d(h,{imageFile:y,previewUrl:URL.createObjectURL(y)}):d(h,{imageFile:null,previewUrl:void 0})};return S.jsxs("div",{className:"space-y-3",children:[S.jsx("label",{className:"block text-sm font-medium text-gray-300",children:"Storyboard Editor (Trình chỉnh sửa)"}),S.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto pr-2 -mr-2",children:n.map((h,y)=>S.jsx(D1,{panel:h,index:y,onImageChange:p=>m(h.id,p),onPromptChange:p=>d(h.id,{prompt:p}),onRemove:()=>u(h.id),disabled:o},h.id))}),S.jsx("button",{onClick:l,disabled:o||n.length>=10,className:"w-full text-sm border border-dashed border-gray-600 rounded p-2 hover:border-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:"+ Add Scene (Thêm cảnh)"})]})},D1=({panel:n,index:e,onImageChange:o,onPromptChange:l,onRemove:u,disabled:d})=>{const m=H.useRef(null),h=p=>{var T;const v=(T=p.target.files)==null?void 0:T[0];v&&v.type.startsWith("image/")&&o(v),p.target&&(p.target.value="")},y=p=>{var T;if(p.preventDefault(),p.stopPropagation(),d)return;const v=(T=p.dataTransfer.files)==null?void 0:T[0];v&&v.type.startsWith("image/")&&o(v)};return S.jsxs("div",{className:"flex gap-3 bg-gray-900/50 p-3 rounded-lg border border-gray-700",children:[S.jsx("input",{type:"file",ref:m,onChange:h,accept:"image/*",className:"hidden",disabled:d}),S.jsxs("div",{className:"flex-shrink-0 w-24 flex flex-col items-center",children:[S.jsx("div",{onClick:()=>{var p;return!d&&((p=m.current)==null?void 0:p.click())},onDrop:y,onDragOver:p=>{p.preventDefault(),p.stopPropagation()},className:`relative w-24 h-16 border-2 border-dashed rounded-md flex items-center justify-center text-center transition-colors
                    ${d?"bg-gray-800/50 border-gray-700 cursor-not-allowed":"border-gray-600 hover:border-indigo-500 cursor-pointer"}`,children:n.previewUrl?S.jsxs(S.Fragment,{children:[S.jsx("img",{src:n.previewUrl,alt:`Scene ${e+1}`,className:"object-cover h-full w-full rounded"}),S.jsx("button",{onClick:p=>{p.stopPropagation(),o(null)},disabled:d,className:"absolute top-0.5 right-0.5 bg-gray-900/70 text-white rounded-full p-0.5 hover:bg-red-600/80 disabled:opacity-50","aria-label":"Remove image",children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",viewBox:"0 0 20 20",fill:"currentColor",children:S.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}):S.jsx("span",{className:"text-xs text-gray-500 p-1",children:"Tải ảnh lên"})}),S.jsxs("span",{className:"text-xs font-semibold text-gray-400 mt-1",children:["Cảnh ",e+1]})]}),S.jsx("div",{className:"flex-grow flex flex-col",children:S.jsx("textarea",{rows:3,className:"w-full flex-grow bg-gray-800 border border-gray-600 rounded-lg p-2 text-sm text-gray-200 focus:ring-1 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200 resize-none placeholder-gray-500",placeholder:`Mô tả cho cảnh ${e+1}...`,value:n.prompt,onChange:p=>l(p.target.value),disabled:d})}),S.jsx("button",{onClick:u,disabled:d,className:"self-start text-gray-500 hover:text-red-500 transition-colors disabled:opacity-50","aria-label":`Remove scene ${e+1}`,children:S.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:S.jsx("path",{fillRule:"evenodd",d:"M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm4 0a1 1 0 012 0v6a1 1 0 11-2 0V8z",clipRule:"evenodd"})})})]})},b1=({selectedCount:n,onCountChange:e,disabled:o})=>{const l=[2,3,4,6,8];return S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Number of Panels (Số khung hình)"}),S.jsx("div",{className:"grid grid-cols-5 gap-1 rounded-lg bg-gray-900/70 border border-gray-600 p-1",children:l.map(u=>S.jsx("button",{onClick:()=>e(u),disabled:o,className:`rounded-md py-2 text-sm font-medium transition-all duration-200 ease-in-out transform hover:scale-110 hover:brightness-110 ${n===u?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-700"} disabled:transform-none`,children:u},u))})]})},w1=3,I1=({onLoginSuccess:n,onAdminLoginSuccess:e})=>{const[o,l]=H.useState("code"),[u,d]=H.useState(""),[m,h]=H.useState(""),[y,p]=H.useState(""),[v,T]=H.useState(null),x=P=>{if(P.preventDefault(),T(null),o==="account"){m==="baosbth"&&y==="090599"?e():T("Tên người dùng hoặc mật khẩu không đúng.");return}if(!u.trim()){T("Vui lòng nhập mã truy cập.");return}try{const B=localStorage.getItem("deviceId");if(!B){T("Không thể xác định thiết bị. Vui lòng làm mới trang.");return}const V=localStorage.getItem("accessCodes");if(!V){T("Hệ thống mã truy cập chưa được khởi tạo. Vui lòng làm mới trang.");return}const J=JSON.parse(V),Q=J.findIndex(ne=>ne.code===u.trim());if(Q===-1){T("Mã truy cập không hợp lệ.");return}const ee=J[Q];if(ee.usedByDevices.includes(B)){n();return}if(ee.usedByDevices.length>=w1){T("Mã này đã đạt đến giới hạn thiết bị.");return}ee.usedByDevices.push(B),J[Q]=ee,localStorage.setItem("accessCodes",JSON.stringify(J)),n()}catch(B){console.error("Login error:",B),T("Đã xảy ra lỗi trong quá trình xác thực.")}},M=()=>S.jsxs(S.Fragment,{children:[S.jsxs("div",{children:[S.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-300",children:"Tên người dùng"}),S.jsx("input",{id:"username",type:"text",value:m,onChange:P=>h(P.target.value),required:!0,className:"mt-1 w-full bg-gray-900/70 border border-gray-600 rounded-lg p-3 text-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200",placeholder:"baosbth"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"password","aria-label":"Mật khẩu",className:"block text-sm font-medium text-gray-300",children:"Mật khẩu"}),S.jsx("input",{id:"password",type:"password",value:y,onChange:P=>p(P.target.value),required:!0,className:"mt-1 w-full bg-gray-900/70 border border-gray-600 rounded-lg p-3 text-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200",placeholder:"••••••••"})]})]}),U=()=>S.jsxs("div",{children:[S.jsx("label",{htmlFor:"access-code",className:"block text-sm font-medium text-gray-300",children:"Mã truy cập"}),S.jsx("input",{id:"access-code",type:"text",value:u,onChange:P=>d(P.target.value),required:!0,className:"mt-1 w-full bg-gray-900/70 border border-gray-600 rounded-lg p-3 text-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200",placeholder:"e.g., K8P4W1R9T6X3Y7Z2"})]});return S.jsx("div",{className:"min-h-screen bg-gray-900 text-gray-100 flex items-center justify-center p-4",children:S.jsxs("div",{className:"w-full max-w-sm bg-gray-800/50 backdrop-blur-sm rounded-2xl shadow-2xl p-8 border border-gray-700",children:[S.jsx("h1",{className:"text-2xl font-bold text-center text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-indigo-600 mb-4",children:"Đăng Nhập"}),S.jsxs("div",{className:"flex mb-6 border-b border-gray-700",children:[S.jsx("button",{onClick:()=>{l("code"),T(null)},className:`w-1/2 py-2 text-sm font-medium transition-colors ${o==="code"?"text-indigo-400 border-b-2 border-indigo-500":"text-gray-400 hover:text-white"}`,children:"Mã truy cập"}),S.jsx("button",{onClick:()=>{l("account"),T(null)},className:`w-1/2 py-2 text-sm font-medium transition-colors ${o==="account"?"text-indigo-400 border-b-2 border-indigo-500":"text-gray-400 hover:text-white"}`,children:"Tài khoản"})]}),S.jsxs("form",{onSubmit:x,className:"space-y-6",children:[o==="code"?U():M(),v&&S.jsx("p",{className:"text-sm text-red-400 text-center",children:v}),S.jsx("div",{children:S.jsx("button",{type:"submit",className:"w-full flex justify-center items-center bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 transition-all duration-300",children:"Vào ứng dụng"})})]})]})})},Ja=3,U1=({onLogout:n})=>{const[e,o]=H.useState([]),[l,u]=H.useState(5),[d,m]=H.useState(null);H.useEffect(()=>{try{const x=localStorage.getItem("accessCodes");x&&o(JSON.parse(x))}catch(x){console.error("Failed to load access codes:",x),h("Lỗi: Không thể tải mã truy cập.",!0)}},[]);const h=(x,M=!1)=>{m(x),setTimeout(()=>m(null),3e3)},y=x=>{o(x),localStorage.setItem("accessCodes",JSON.stringify(x))},p=()=>{if(l<=0||l>100){h("Vui lòng nhập số lượng từ 1 đến 100.",!0);return}const x=Array.from({length:l},()=>({code:a1(16),usedByDevices:[]}));y([...e,...x]),h(`Đã tạo thành công ${l} mã mới.`)},v=x=>{const M=e.filter(U=>U.code!==x);y(M),h(`Đã xóa mã: ${x}`)},T=()=>{const x=e.filter(U=>U.usedByDevices.length<Ja),M=e.length-x.length;y(x),h(`Đã xóa ${M} mã đã hết hạn.`)};return S.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 flex flex-col items-center p-4 sm:p-6 lg:p-8",children:[S.jsxs("div",{className:"w-full max-w-4xl",children:[S.jsxs("header",{className:"text-center mb-8 relative",children:[S.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-teal-400 to-cyan-600",children:"Bảng Điều Khiển Quản Trị"}),S.jsx("p",{className:"text-gray-400 mt-2",children:"Quản lý mã truy cập cho ứng dụng"}),S.jsx("button",{onClick:n,className:"absolute top-0 right-0 bg-red-600 hover:bg-red-700 text-white text-sm font-bold py-2 px-4 rounded-lg transition-colors",children:"Đăng xuất"})]}),S.jsxs("main",{className:"space-y-8",children:[S.jsxs("section",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-700",children:[S.jsx("h2",{className:"text-xl font-bold mb-4",children:"Tạo mã mới"}),S.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[S.jsx("input",{type:"number",value:l,onChange:x=>u(parseInt(x.target.value,10)),min:"1",max:"100",className:"w-full sm:w-32 bg-gray-900/70 border border-gray-600 rounded-lg p-3 text-gray-200 focus:ring-2 focus:ring-cyan-500",placeholder:"Số lượng"}),S.jsx("button",{onClick:p,className:"w-full sm:w-auto bg-cyan-600 hover:bg-cyan-700 text-white font-bold py-3 px-6 rounded-lg transition-colors",children:"Tạo mã"})]})]}),S.jsxs("section",{className:"bg-gray-800/50 backdrop-blur-sm rounded-2xl shadow-lg p-6 border border-gray-700",children:[S.jsxs("div",{className:"flex justify-between items-center mb-4",children:[S.jsxs("h2",{className:"text-xl font-bold",children:["Danh sách mã (",e.length,")"]}),S.jsx("button",{onClick:T,className:"bg-red-800 hover:bg-red-900 text-white text-xs font-bold py-2 px-3 rounded-lg transition-colors",children:"Xóa các mã đã hết hạn"})]}),S.jsx("div",{className:"max-h-[50vh] overflow-y-auto pr-2 -mr-2",children:e.length===0?S.jsx("p",{className:"text-center text-gray-500 py-8",children:"Không có mã nào. Hãy tạo một vài mã!"}):S.jsx("ul",{className:"space-y-3",children:e.map(x=>S.jsxs("li",{className:"flex items-center justify-between bg-gray-900/70 p-3 rounded-lg border border-gray-700/50",children:[S.jsxs("div",{className:"flex items-center gap-4",children:[S.jsx("span",{className:`font-mono text-sm ${x.usedByDevices.length>=Ja?"text-gray-500 line-through":"text-cyan-300"}`,children:x.code}),S.jsxs("span",{className:`text-xs font-bold px-2 py-0.5 rounded-full ${x.usedByDevices.length>=Ja?"bg-red-900 text-red-300":"bg-green-900 text-green-300"}`,children:[x.usedByDevices.length," / ",Ja]})]}),S.jsx("button",{onClick:()=>v(x.code),className:"text-gray-500 hover:text-red-500 transition-colors text-2xl leading-none","aria-label":`Delete code ${x.code}`,children:"×"})]},x.code))})})]})]})]}),d&&S.jsx("div",{className:"fixed bottom-5 left-1/2 -translate-x-1/2 bg-gray-900 text-white text-sm rounded-lg py-2 px-4 z-50 shadow-lg border border-cyan-500",children:d})]})},L1=()=>{const[n,e]=H.useState(!1),[o,l]=H.useState(!1),[u,d]=H.useState("video"),[m,h]=H.useState(""),[y,p]=H.useState([Nl[0].name]),[v,T]=H.useState(!1),[x,M]=H.useState(""),[U,P]=H.useState(null),[B,V]=H.useState([]),[J,Q]=H.useState(""),[ee,X]=H.useState(""),ne=H.useRef(null),[fe,Se]=H.useState([]),[se,ye]=H.useState(null),[le,be]=H.useState("image"),[Ke,lt]=H.useState(null),[W,w]=H.useState([{id:Date.now(),imageFile:null,prompt:"",previewUrl:""}]),[O,re]=H.useState(Tu[0].id),[de,_]=H.useState(720),[Y,j]=H.useState(4),[$,ae]=H.useState(24),[Ce,ge]=H.useState("none"),[rt,we]=H.useState([]),[At,fn]=H.useState(null),[dn,mn]=H.useState([]),[nn,k]=H.useState(null),[q,te]=H.useState(1),[K,_e]=H.useState(jp[0].id),[ve,Te]=H.useState("prompt"),[Ve,ke]=H.useState(4),[Ne,tt]=H.useState(null),[bt,pt]=H.useState(null),[ut,wt]=H.useState(!1);H.useEffect(()=>{let Z=localStorage.getItem("deviceId");Z||(Z=`device_${Date.now().toString(36)}_${Math.random().toString(36).substring(2)}`,localStorage.setItem("deviceId",Z))},[]),H.useEffect(()=>{if(!localStorage.getItem("accessCodes")){const ue=[{code:"K8P4W1R9T6X3Y7Z2",usedByDevices:[]},{code:"A5B9C2D6E1F8G3H7",usedByDevices:[]},{code:"M4N0O1P2Q3R4S5T6",usedByDevices:[]},{code:"U7V8W9X0Y1Z2A3B4",usedByDevices:[]},{code:"C5D6E7F8G9H0I1J2",usedByDevices:[]},{code:"L3K4M5N6O7P8Q9R0",usedByDevices:[]},{code:"S1T2U3V4W5X6Y7Z8",usedByDevices:[]},{code:"B9A8C7D6E5F4G3H2",usedByDevices:[]},{code:"I1J0K9L8M7N6O5P4",usedByDevices:[]},{code:"Q3R2S1T0U9V8W7X6",usedByDevices:[]},{code:"Y5Z4A3B2C1D0E9F8",usedByDevices:[]},{code:"G7H6I5J4K3L2M1N0",usedByDevices:[]},{code:"O9P8Q7R6S5T4U3V2",usedByDevices:[]},{code:"W1X0Y9Z8A7B6C5D4",usedByDevices:[]},{code:"E3F2G1H0I9J8K7L6",usedByDevices:[]}];localStorage.setItem("accessCodes",JSON.stringify(ue))}},[]),H.useEffect(()=>{const Z=localStorage.getItem("isAuthenticated")==="true",ue=localStorage.getItem("isAdminAuthenticated")==="true";e(Z),l(ue)},[]),H.useEffect(()=>{try{const Z=localStorage.getItem("ai-animation-history");Z&&V(JSON.parse(Z));const ue=localStorage.getItem("ai-character-library");ue&&Se(JSON.parse(ue))}catch(Z){console.error("Failed to load data from localStorage",Z)}},[]),H.useEffect(()=>{try{localStorage.setItem("ai-animation-history",JSON.stringify(B))}catch(Z){console.error("Failed to save history to localStorage",Z)}},[B]),H.useEffect(()=>{try{localStorage.setItem("ai-character-library",JSON.stringify(fe))}catch(Z){console.error("Failed to save character library to localStorage",Z)}},[fe]),H.useEffect(()=>{if(!v)return;let Z=0;M(yu[Z]);const ue=setInterval(()=>{Z=(Z+1)%yu.length,M(yu[Z])},5e3);return()=>clearInterval(ue)},[v]);const gt=()=>{localStorage.setItem("isAuthenticated","true"),e(!0)},Ni=()=>{localStorage.setItem("isAdminAuthenticated","true"),l(!0)},bl=()=>{localStorage.removeItem("isAuthenticated"),localStorage.removeItem("isAdminAuthenticated"),e(!1),l(!1)},wl=async Z=>{try{const ue=await o1(Z.file),De={id:`char_${Date.now()}`,name:Z.name,imageDataUrl:ue};Se(Ye=>Ye.some(nt=>nt.name===De.name)?Ye:[...Ye,De])}catch{P("Failed to save character to library.")}},ni=Z=>{var ue;(ue=ne.current)==null||ue.addCharacter(Z)},ii=Z=>{Se(ue=>ue.filter(De=>De.id!==Z))},pn=H.useCallback(async()=>{var Ii;let Z=null;if(le==="storyboard"?Z=((Ii=W.find(Qe=>Qe.imageFile))==null?void 0:Ii.imageFile)??null:Z=Ke,!m&&le!=="storyboard"){P("Please enter a main prompt for the video.");return}if(!Z){P("Please provide a source image or a starting image in your storyboard.");return}se&&URL.revokeObjectURL(se),ye(null);const ue=Ml.find(Qe=>Qe.value===de),De=Tu.find(Qe=>Qe.id===O),Ye=zg.find(Qe=>Qe.id===Ce),nt=[m.trim()];J&&nt.unshift(J.trim());const Un=y.map(Qe=>{var Gt;return(Gt=Nl.find(gn=>gn.name===Qe))==null?void 0:Gt.prompt}).filter(Boolean).map(Qe=>Qe.replace(/\.$/,"").trim());nt.push(...Un),ee&&nt.push(ee),ue!=null&&ue.prompt&&nt.push(ue.prompt.replace(/^,/,"").trim()),De!=null&&De.prompt&&nt.push(De.prompt.replace(/^,/,"").trim()),Y>0&&nt.push(`${Y} second duration`),$>0&&nt.push(`${$}fps`),Ye!=null&&Ye.prompt&&nt.push(Ye.prompt.replace(/^,/,"").trim());let Tt=nt.filter(Boolean).join(", ");if(le==="storyboard"&&W.length>0){const Qe=W.map((Gt,gn)=>Gt.prompt.trim()?`Scene ${gn+1}: ${Gt.prompt.trim()}`:null).filter(Boolean);Qe.length>0&&(Tt+=`. CRITICAL INSTRUCTION: The video must follow this detailed storyboard, maintaining perfect character and artistic style consistency across all scenes. Start with a scene based on the provided image, then transition through the following script: ${Qe.join(". ")}`)}const Ht=await p1(Tt,[Z],console.log);ye(Ht);const Zt={id:Date.now(),type:"video",url:Ht,prompt:Tt,timestamp:new Date().toISOString()};V(Qe=>[Zt,...Qe])},[m,le,Ke,W,y,se,O,de,J,Y,$,Ce,ee]),Di=H.useCallback(async()=>{if(!m){P("Please enter a prompt to generate images.");return}if(ve==="composer"&&!At){P("Please compose a scene before generating an image.");return}we([]);const ue=[...y.map(Tt=>{var Ht;return(Ht=Nl.find(Zt=>Zt.name===Tt))==null?void 0:Ht.prompt}).filter(Boolean).map(Tt=>Tt.replace(/\.$/,"").trim())];ee&&ue.push(ee),J&&ue.unshift(J.trim());const De=ue.filter(Boolean).join(", ");if(ve==="storyboard"){M("AI is writing the script...");const Tt=await d1(m,Ve,K,De);if(we(Tt),Tt.length>0){const Ht={id:Date.now(),type:"image",url:`data:image/jpeg;base64,${Tt[0]}`,prompt:`Storyboard: ${m}`,timestamp:new Date().toISOString(),imageSet:Tt};V(Zt=>[Ht,...Zt])}return}let Ye=m;ve==="composer"?(M("AI is directing the scene..."),Ye=await c1(m,At,dn,nn)):nn&&(M("AI is analyzing the style..."),Ye=await u1(m,nn));const nt=[Ye,De].filter(Boolean).join(", ");M("Generating images from AI's vision...");const Un=await f1(nt,q,K);if(we(Un),Un.length>0){const Tt={id:Date.now(),type:"image",url:`data:image/jpeg;base64,${Un[0]}`,prompt:nt,timestamp:new Date().toISOString(),imageSet:Un};V(Ht=>[Tt,...Ht])}},[m,ve,At,dn,nn,q,K,y,J,ee,Ve]),oi=async()=>{T(!0),P(null);try{u==="video"?await pn():await Di()}catch(Z){P(Z instanceof Error?Z.message:"An unknown error occurred.")}finally{T(!1)}},Mo=H.useCallback(Z=>{Z!==le&&(be(Z),lt(null),w([{id:Date.now(),imageFile:null,prompt:"",previewUrl:""}]),fn(null),mn([]))},[le]),bi=H.useCallback(Z=>{Z!==ve&&(Te(Z),Z!=="composer"&&(fn(null),mn([])))},[ve]),Ro=H.useCallback(Z=>{u==="video"?lt(Z.composedImage):(fn(Z.composedImage),mn(Z.characters))},[u]),wi=(Z,ue,De)=>{tt(Z==="videoFrame"?{type:"videoFrame",dataUrl:ue}:{type:"image",dataUrl:`data:image/jpeg;base64,${ue}`,originalIndex:De})},In=()=>{tt(null),pt(null),P(null)},es=async(Z,ue,De)=>{if(Ne){wt(!0),P(null),pt(null);try{const{dataUrl:Ye}=Ne,nt=await r1(Ye,Z,ue,De);pt(nt)}catch(Ye){P(Ye instanceof Error?Ye.message:"Editing failed.")}finally{wt(!1)}}},Il=Z=>{if(Ne){if(Ne.type==="image"){const ue=[...rt];ue[Ne.originalIndex]=Z,we(ue)}else d("image"),we([Z]),ye(null);In()}},No=Z=>{if(P(null),Z.type==="video")d("video"),ye(Z.url),h(Z.prompt),we([]);else if(Z.type==="image"){d("image");const ue=Z.imageSet||[Z.url.split(",")[1]];we(ue),h(Z.prompt),ye(null)}},Do=Z=>{const ue=B.find(De=>De.id===Z);ue&&ue.type==="video"&&URL.revokeObjectURL(ue.url),V(De=>De.filter(Ye=>Ye.id!==Z))},bo=u==="video"&&(le==="storyboard"&&(W.length===0||!W[0].imageFile)||(le==="image"||le==="composer")&&!Ke),Ul=v||u==="video"&&!m&&le!=="storyboard"||u==="image"&&!m||bo||u==="image"&&ve==="composer"&&!At,ts=()=>{if(u==="video")return le==="storyboard"?"Main Idea / Bối cảnh chung (Tùy chọn)":"Prompt (Viết ý tưởng của bạn)";switch(ve){case"storyboard":return"Story Prompt (Viết câu chuyện của bạn)";case"composer":return"Prompt (Mô tả cảnh bạn đã dựng)";default:return"Prompt (Viết ý tưởng của bạn)"}};return o?S.jsx(U1,{onLogout:bl}):n?S.jsxs("div",{className:"min-h-screen bg-gray-900 text-gray-100 flex flex-col items-center p-4 sm:p-6 lg:p-8",children:[S.jsxs("div",{className:"w-full max-w-screen-2xl",children:[S.jsxs("header",{className:"text-center mb-8 relative",children:[S.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-indigo-600",children:"AI Animation DEV by BaoDZ"}),S.jsx("p",{className:"text-gray-400 mt-2",children:"Bring your imagination to life. Generate videos and images with AI."}),S.jsx("button",{onClick:bl,className:"absolute top-0 right-0 bg-red-600 hover:bg-red-700 text-white text-sm font-bold py-2 px-4 rounded-lg transition-colors",children:"Đăng xuất"})]}),S.jsxs("main",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8",children:[S.jsxs("div",{className:"lg:col-span-4 bg-gray-800/50 backdrop-blur-sm rounded-2xl shadow-2xl p-6 sm:p-8 border border-gray-700 flex flex-col space-y-6",children:[S.jsxs("div",{className:"flex rounded-lg bg-gray-900/70 border border-gray-600 p-1",children:[S.jsx("button",{onClick:()=>d("video"),disabled:v,className:`w-1/2 rounded-md py-2 text-sm font-medium transition-colors duration-200 ${u==="video"?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Video Studio"}),S.jsx("button",{onClick:()=>d("image"),disabled:v,className:`w-1/2 rounded-md py-2 text-sm font-medium transition-colors duration-200 ${u==="image"?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Image Studio"})]}),S.jsxs("div",{children:[S.jsx("label",{htmlFor:"prompt",className:"block text-sm font-medium text-gray-300 mb-2",children:ts()}),S.jsx("textarea",{id:"prompt",rows:4,className:"w-full bg-gray-900/70 border border-gray-600 rounded-lg p-3 text-gray-200 focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition duration-200 resize-none placeholder-gray-500",placeholder:u==="video"?"e.g., A majestic dragon flying through a cyberpunk city...":"e.g., A beautiful princess in a magical forest...",value:m,onChange:Z=>h(Z.target.value),disabled:v})]}),S.jsx(h1,{selectedStyles:y,onStyleChange:p,disabled:v}),S.jsx(R1,{onEffectsChange:X,disabled:v}),S.jsx(_1,{onCameraChange:Q,disabled:v}),u==="video"?S.jsxs(S.Fragment,{children:[S.jsx(lg,{selectedRatio:O,onRatioChange:re,disabled:v,ratios:Tu}),S.jsx(v1,{selectedValue:de,onQualityChange:_,disabled:v}),S.jsx(M1,{duration:Y,onDurationChange:j,frameRate:$,onFrameRateChange:ae,motionBlur:Ce,onMotionBlurChange:ge,disabled:v}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Video Mode (Chế độ Video)"}),S.jsxs("div",{className:"flex rounded-lg bg-gray-900/70 border border-gray-600 p-1",children:[S.jsx("button",{onClick:()=>Mo("image"),disabled:v,className:`w-1/3 rounded-md py-2 text-xs font-medium transition-colors duration-200 ${le==="image"?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Image to Video (Ảnh sang Video)"}),S.jsx("button",{onClick:()=>Mo("composer"),disabled:v,className:`w-1/3 rounded-md py-2 text-xs font-medium transition-colors duration-200 ${le==="composer"?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Scene Composer (Dựng cảnh)"}),S.jsx("button",{onClick:()=>Mo("storyboard"),disabled:v,className:`w-1/3 rounded-md py-2 text-xs font-medium transition-colors duration-200 ${le==="storyboard"?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Storyboard (Bảng phân cảnh)"})]})]}),le==="image"&&S.jsx(T1,{onImagesChange:Z=>lt(Z[0]||null),disabled:v}),le==="composer"&&S.jsxs("div",{className:"space-y-4",children:[S.jsx(ag,{library:fe,onAdd:ni,onDelete:ii,disabled:v}),S.jsx(og,{ref:ne,onCompositionChange:Ro,onSaveCharacter:wl,disabled:v})]}),le==="storyboard"&&S.jsx(N1,{panels:W,onPanelsChange:w,disabled:v})]}):S.jsxs(S.Fragment,{children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"Image Mode (Chế độ Ảnh)"}),S.jsxs("div",{className:"flex rounded-lg bg-gray-900/70 border border-gray-600 p-1",children:[S.jsx("button",{onClick:()=>bi("prompt"),disabled:v,className:`w-1/3 rounded-md py-2 text-xs font-medium transition-colors duration-200 ${ve==="prompt"?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Prompt (Gợi ý)"}),S.jsx("button",{onClick:()=>bi("composer"),disabled:v,className:`w-1/3 rounded-md py-2 text-xs font-medium transition-colors duration-200 ${ve==="composer"?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"Composer (Dựng cảnh)"}),S.jsx("button",{onClick:()=>bi("storyboard"),disabled:v,className:`w-1/3 rounded-md py-2 text-xs font-medium transition-colors duration-200 ${ve==="storyboard"?"bg-indigo-600 text-white":"text-gray-300 hover:bg-gray-700"}`,children:"AI Storyboard (Phân cảnh AI)"})]})]}),ve==="composer"&&S.jsxs("div",{className:"space-y-4",children:[S.jsx(ag,{library:fe,onAdd:ni,onDelete:ii,disabled:v}),S.jsx(og,{ref:ne,onCompositionChange:Ro,onSaveCharacter:wl,disabled:v})]}),ve==="storyboard"&&S.jsx(b1,{selectedCount:Ve,onCountChange:ke,disabled:v}),ve!=="storyboard"&&S.jsxs(S.Fragment,{children:[S.jsx(S1,{onReferenceImageChange:k,disabled:v}),S.jsx(x1,{selectedNumber:q,onNumberChange:te,disabled:v})]}),S.jsx(lg,{selectedRatio:K,onRatioChange:_e,disabled:v,ratios:jp})]}),S.jsx("button",{onClick:oi,disabled:Ul,className:"w-full flex justify-center items-center bg-indigo-600 text-white font-bold py-3 px-4 rounded-lg hover:bg-indigo-700 disabled:bg-indigo-900/50 disabled:cursor-not-allowed disabled:text-gray-400 transition-all duration-300 transform hover:scale-105 disabled:scale-100 focus:outline-none focus:ring-4 focus:ring-indigo-500/50 mt-auto",children:v?S.jsxs(S.Fragment,{children:[S.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[S.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),S.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),S.jsx("span",{children:"Generating..."})]}):`Generate ${u==="video"?"Video":"Images"}`})]}),S.jsx("div",{className:"lg:col-span-5 flex flex-col space-y-4",children:u==="video"?S.jsx(g1,{videoUrl:se,isLoading:v,loadingMessage:x,error:U,onEditRequest:Z=>wi("videoFrame",Z)}):S.jsx(C1,{images:rt,isLoading:v,loadingMessage:x,error:U,onEdit:(Z,ue)=>wi("image",Z,ue)})}),S.jsx("div",{className:"lg:col-span-3",children:S.jsx(A1,{history:B,onLoad:No,onDelete:Do,onEdit:No})})]})]}),Ne&&S.jsx(E1,{content:Ne,onClose:In,onGenerateEdits:es,onConfirmEdit:Il,isLoading:ut,error:U,clearError:()=>P(null),editedImageResults:bt})]}):S.jsx(I1,{onLoginSuccess:gt,onAdminLoginSuccess:Ni})},Fg=document.getElementById("root");if(!Fg)throw new Error("Could not find root element to mount to");const V1=u0.createRoot(Fg);V1.render(S.jsx(t0.StrictMode,{children:S.jsx(L1,{})}));
